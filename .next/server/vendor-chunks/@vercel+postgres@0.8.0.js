"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@vercel+postgres@0.8.0";
exports.ids = ["vendor-chunks/@vercel+postgres@0.8.0"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/fallback.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/fallback.js ***!
  \***************************************************************************************/
/***/ ((module) => {

eval("\r\n\r\n/**\r\n * Masks a buffer using the given mask.\r\n *\r\n * @param {Buffer} source The buffer to mask\r\n * @param {Buffer} mask The mask to use\r\n * @param {Buffer} output The buffer where to store the result\r\n * @param {Number} offset The offset at which to start writing\r\n * @param {Number} length The number of bytes to mask.\r\n * @public\r\n */\r\nconst mask = (source, mask, output, offset, length) => {\r\n  for (var i = 0; i < length; i++) {\r\n    output[offset + i] = source[i] ^ mask[i & 3];\r\n  }\r\n};\r\n\r\n/**\r\n * Unmasks a buffer using the given mask.\r\n *\r\n * @param {Buffer} buffer The buffer to unmask\r\n * @param {Buffer} mask The mask to use\r\n * @public\r\n */\r\nconst unmask = (buffer, mask) => {\r\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\r\n  const length = buffer.length;\r\n  for (var i = 0; i < length; i++) {\r\n    buffer[i] ^= mask[i & 3];\r\n  }\r\n};\r\n\r\nmodule.exports = { mask, unmask };\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvYnVmZmVydXRpbC9mYWxsYmFjay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL2J1ZmZlcnV0aWwvZmFsbGJhY2suanM/ZjJiOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogTWFza3MgYSBidWZmZXIgdXNpbmcgdGhlIGdpdmVuIG1hc2suXHJcbiAqXHJcbiAqIEBwYXJhbSB7QnVmZmVyfSBzb3VyY2UgVGhlIGJ1ZmZlciB0byBtYXNrXHJcbiAqIEBwYXJhbSB7QnVmZmVyfSBtYXNrIFRoZSBtYXNrIHRvIHVzZVxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gb3V0cHV0IFRoZSBidWZmZXIgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgd3JpdGluZ1xyXG4gKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIFRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gbWFzay5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgbWFzayA9IChzb3VyY2UsIG1hc2ssIG91dHB1dCwgb2Zmc2V0LCBsZW5ndGgpID0+IHtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICBvdXRwdXRbb2Zmc2V0ICsgaV0gPSBzb3VyY2VbaV0gXiBtYXNrW2kgJiAzXTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVW5tYXNrcyBhIGJ1ZmZlciB1c2luZyB0aGUgZ2l2ZW4gbWFzay5cclxuICpcclxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIHVubWFza1xyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gbWFzayBUaGUgbWFzayB0byB1c2VcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgdW5tYXNrID0gKGJ1ZmZlciwgbWFzaykgPT4ge1xyXG4gIC8vIFJlcXVpcmVkIHVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvOTAwNiBpcyByZXNvbHZlZC5cclxuICBjb25zdCBsZW5ndGggPSBidWZmZXIubGVuZ3RoO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgIGJ1ZmZlcltpXSBePSBtYXNrW2kgJiAzXTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgbWFzaywgdW5tYXNrIH07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/fallback.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/index.js ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\ntry {\r\n  module.exports = __webpack_require__(/*! node-gyp-build */ \"(rsc)/./node_modules/.pnpm/node_modules/node-gyp-build/index.js\")(__dirname);\r\n} catch (e) {\r\n  module.exports = __webpack_require__(/*! ./fallback */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/fallback.js\");\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvYnVmZmVydXRpbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQyx1RkFBZ0I7QUFDM0MsRUFBRTtBQUNGLEVBQUUsK0lBQXNDO0FBQ3hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL2J1ZmZlcnV0aWwvaW5kZXguanM/YTRmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG50cnkge1xyXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnbm9kZS1neXAtYnVpbGQnKShfX2Rpcm5hbWUpO1xyXG59IGNhdGNoIChlKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhbGxiYWNrJyk7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/fallback.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/fallback.js ***!
  \*******************************************************************************************/
/***/ ((module) => {

eval("\r\n\r\n/**\r\n * Checks if a given buffer contains only correct UTF-8.\r\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\r\n * Markus Kuhn.\r\n *\r\n * @param {Buffer} buf The buffer to check\r\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\r\n * @public\r\n */\r\nfunction isValidUTF8(buf) {\r\n  const len = buf.length;\r\n  let i = 0;\r\n\r\n  while (i < len) {\r\n    if ((buf[i] & 0x80) === 0x00) {  // 0xxxxxxx\r\n      i++;\r\n    } else if ((buf[i] & 0xe0) === 0xc0) {  // 110xxxxx 10xxxxxx\r\n      if (\r\n        i + 1 === len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i] & 0xfe) === 0xc0  // overlong\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 2;\r\n    } else if ((buf[i] & 0xf0) === 0xe0) {  // 1110xxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 2 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80 ||  // overlong\r\n        buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0  // surrogate (U+D800 - U+DFFF)\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 3;\r\n    } else if ((buf[i] & 0xf8) === 0xf0) {  // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 3 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        (buf[i + 3] & 0xc0) !== 0x80 ||\r\n        buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80 ||  // overlong\r\n        buf[i] === 0xf4 && buf[i + 1] > 0x8f || buf[i] > 0xf4  // > U+10FFFF\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 4;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nmodule.exports = isValidUTF8;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvdXRmLTgtdmFsaWRhdGUvZmFsbGJhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsTUFBTSxzQ0FBc0M7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzQ0FBc0M7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sc0NBQXNDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL3V0Zi04LXZhbGlkYXRlL2ZhbGxiYWNrLmpzP2U4OWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBhIGdpdmVuIGJ1ZmZlciBjb250YWlucyBvbmx5IGNvcnJlY3QgVVRGLTguXHJcbiAqIFBvcnRlZCBmcm9tIGh0dHBzOi8vd3d3LmNsLmNhbS5hYy51ay8lN0VtZ2syNS91Y3MvdXRmOF9jaGVjay5jIGJ5XHJcbiAqIE1hcmt1cyBLdWhuLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmIFRoZSBidWZmZXIgdG8gY2hlY2tcclxuICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIGBidWZgIGNvbnRhaW5zIG9ubHkgY29ycmVjdCBVVEYtOCwgZWxzZSBgZmFsc2VgXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGlzVmFsaWRVVEY4KGJ1Zikge1xyXG4gIGNvbnN0IGxlbiA9IGJ1Zi5sZW5ndGg7XHJcbiAgbGV0IGkgPSAwO1xyXG5cclxuICB3aGlsZSAoaSA8IGxlbikge1xyXG4gICAgaWYgKChidWZbaV0gJiAweDgwKSA9PT0gMHgwMCkgeyAgLy8gMHh4eHh4eHhcclxuICAgICAgaSsrO1xyXG4gICAgfSBlbHNlIGlmICgoYnVmW2ldICYgMHhlMCkgPT09IDB4YzApIHsgIC8vIDExMHh4eHh4IDEweHh4eHh4XHJcbiAgICAgIGlmIChcclxuICAgICAgICBpICsgMSA9PT0gbGVuIHx8XHJcbiAgICAgICAgKGJ1ZltpICsgMV0gJiAweGMwKSAhPT0gMHg4MCB8fFxyXG4gICAgICAgIChidWZbaV0gJiAweGZlKSA9PT0gMHhjMCAgLy8gb3ZlcmxvbmdcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpICs9IDI7XHJcbiAgICB9IGVsc2UgaWYgKChidWZbaV0gJiAweGYwKSA9PT0gMHhlMCkgeyAgLy8gMTExMHh4eHggMTB4eHh4eHggMTB4eHh4eHhcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGkgKyAyID49IGxlbiB8fFxyXG4gICAgICAgIChidWZbaSArIDFdICYgMHhjMCkgIT09IDB4ODAgfHxcclxuICAgICAgICAoYnVmW2kgKyAyXSAmIDB4YzApICE9PSAweDgwIHx8XHJcbiAgICAgICAgYnVmW2ldID09PSAweGUwICYmIChidWZbaSArIDFdICYgMHhlMCkgPT09IDB4ODAgfHwgIC8vIG92ZXJsb25nXHJcbiAgICAgICAgYnVmW2ldID09PSAweGVkICYmIChidWZbaSArIDFdICYgMHhlMCkgPT09IDB4YTAgIC8vIHN1cnJvZ2F0ZSAoVStEODAwIC0gVStERkZGKVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGkgKz0gMztcclxuICAgIH0gZWxzZSBpZiAoKGJ1ZltpXSAmIDB4ZjgpID09PSAweGYwKSB7ICAvLyAxMTExMHh4eCAxMHh4eHh4eCAxMHh4eHh4eCAxMHh4eHh4eFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgaSArIDMgPj0gbGVuIHx8XHJcbiAgICAgICAgKGJ1ZltpICsgMV0gJiAweGMwKSAhPT0gMHg4MCB8fFxyXG4gICAgICAgIChidWZbaSArIDJdICYgMHhjMCkgIT09IDB4ODAgfHxcclxuICAgICAgICAoYnVmW2kgKyAzXSAmIDB4YzApICE9PSAweDgwIHx8XHJcbiAgICAgICAgYnVmW2ldID09PSAweGYwICYmIChidWZbaSArIDFdICYgMHhmMCkgPT09IDB4ODAgfHwgIC8vIG92ZXJsb25nXHJcbiAgICAgICAgYnVmW2ldID09PSAweGY0ICYmIGJ1ZltpICsgMV0gPiAweDhmIHx8IGJ1ZltpXSA+IDB4ZjQgIC8vID4gVSsxMEZGRkZcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpICs9IDQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBpc1ZhbGlkVVRGODtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/fallback.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/index.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/index.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\ntry {\r\n  module.exports = __webpack_require__(/*! node-gyp-build */ \"(rsc)/./node_modules/.pnpm/node_modules/node-gyp-build/index.js\")(__dirname);\r\n} catch (e) {\r\n  module.exports = __webpack_require__(/*! ./fallback */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/fallback.js\");\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvdXRmLTgtdmFsaWRhdGUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsdUZBQWdCO0FBQzNDLEVBQUU7QUFDRixFQUFFLG1KQUFzQztBQUN4QyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmVyY2VsK3Bvc3RncmVzQDAuOC4wL25vZGVfbW9kdWxlcy91dGYtOC12YWxpZGF0ZS9pbmRleC5qcz9jM2E5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnRyeSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdub2RlLWd5cC1idWlsZCcpKF9fZGlybmFtZSk7XHJcbn0gY2F0Y2ggKGUpIHtcclxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFsbGJhY2snKTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/buffer-util.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/buffer-util.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\");\r\n\r\nconst FastBuffer = Buffer[Symbol.species];\r\n\r\n/**\r\n * Merges an array of buffers into a new buffer.\r\n *\r\n * @param {Buffer[]} list The array of buffers to concat\r\n * @param {Number} totalLength The total length of buffers in the list\r\n * @return {Buffer} The resulting buffer\r\n * @public\r\n */\r\nfunction concat(list, totalLength) {\r\n  if (list.length === 0) return EMPTY_BUFFER;\r\n  if (list.length === 1) return list[0];\r\n\r\n  const target = Buffer.allocUnsafe(totalLength);\r\n  let offset = 0;\r\n\r\n  for (let i = 0; i < list.length; i++) {\r\n    const buf = list[i];\r\n    target.set(buf, offset);\r\n    offset += buf.length;\r\n  }\r\n\r\n  if (offset < totalLength) {\r\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * Masks a buffer using the given mask.\r\n *\r\n * @param {Buffer} source The buffer to mask\r\n * @param {Buffer} mask The mask to use\r\n * @param {Buffer} output The buffer where to store the result\r\n * @param {Number} offset The offset at which to start writing\r\n * @param {Number} length The number of bytes to mask.\r\n * @public\r\n */\r\nfunction _mask(source, mask, output, offset, length) {\r\n  for (let i = 0; i < length; i++) {\r\n    output[offset + i] = source[i] ^ mask[i & 3];\r\n  }\r\n}\r\n\r\n/**\r\n * Unmasks a buffer using the given mask.\r\n *\r\n * @param {Buffer} buffer The buffer to unmask\r\n * @param {Buffer} mask The mask to use\r\n * @public\r\n */\r\nfunction _unmask(buffer, mask) {\r\n  for (let i = 0; i < buffer.length; i++) {\r\n    buffer[i] ^= mask[i & 3];\r\n  }\r\n}\r\n\r\n/**\r\n * Converts a buffer to an `ArrayBuffer`.\r\n *\r\n * @param {Buffer} buf The buffer to convert\r\n * @return {ArrayBuffer} Converted buffer\r\n * @public\r\n */\r\nfunction toArrayBuffer(buf) {\r\n  if (buf.length === buf.buffer.byteLength) {\r\n    return buf.buffer;\r\n  }\r\n\r\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\r\n}\r\n\r\n/**\r\n * Converts `data` to a `Buffer`.\r\n *\r\n * @param {*} data The data to convert\r\n * @return {Buffer} The buffer\r\n * @throws {TypeError}\r\n * @public\r\n */\r\nfunction toBuffer(data) {\r\n  toBuffer.readOnly = true;\r\n\r\n  if (Buffer.isBuffer(data)) return data;\r\n\r\n  let buf;\r\n\r\n  if (data instanceof ArrayBuffer) {\r\n    buf = new FastBuffer(data);\r\n  } else if (ArrayBuffer.isView(data)) {\r\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\r\n  } else {\r\n    buf = Buffer.from(data);\r\n    toBuffer.readOnly = false;\r\n  }\r\n\r\n  return buf;\r\n}\r\n\r\nmodule.exports = {\r\n  concat,\r\n  mask: _mask,\r\n  toArrayBuffer,\r\n  toBuffer,\r\n  unmask: _unmask\r\n};\r\n\r\n/* istanbul ignore else  */\r\nif (!process.env.WS_NO_BUFFER_UTIL) {\r\n  try {\r\n    const bufferUtil = __webpack_require__(/*! bufferutil */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/bufferutil/index.js\");\r\n\r\n    module.exports.mask = function (source, mask, output, offset, length) {\r\n      if (length < 48) _mask(source, mask, output, offset, length);\r\n      else bufferUtil.mask(source, mask, output, offset, length);\r\n    };\r\n\r\n    module.exports.unmask = function (buffer, mask) {\r\n      if (buffer.length < 32) _unmask(buffer, mask);\r\n      else bufferUtil.unmask(buffer, mask);\r\n    };\r\n  } catch (e) {\r\n    // Continue regardless of the error.\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2J1ZmZlci11dGlsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSxRQUFRLGVBQWUsRUFBRSxtQkFBTyxDQUFDLHVHQUFhO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxZQUFZLFFBQVE7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFPLENBQUMsc0dBQVk7QUFDM0M7QUFDQSxJQUFJLG1CQUFtQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscUJBQXFCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2J1ZmZlci11dGlsLmpzP2U0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgeyBFTVBUWV9CVUZGRVIgfSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XHJcblxyXG5jb25zdCBGYXN0QnVmZmVyID0gQnVmZmVyW1N5bWJvbC5zcGVjaWVzXTtcclxuXHJcbi8qKlxyXG4gKiBNZXJnZXMgYW4gYXJyYXkgb2YgYnVmZmVycyBpbnRvIGEgbmV3IGJ1ZmZlci5cclxuICpcclxuICogQHBhcmFtIHtCdWZmZXJbXX0gbGlzdCBUaGUgYXJyYXkgb2YgYnVmZmVycyB0byBjb25jYXRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHRvdGFsTGVuZ3RoIFRoZSB0b3RhbCBsZW5ndGggb2YgYnVmZmVycyBpbiB0aGUgbGlzdFxyXG4gKiBAcmV0dXJuIHtCdWZmZXJ9IFRoZSByZXN1bHRpbmcgYnVmZmVyXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGNvbmNhdChsaXN0LCB0b3RhbExlbmd0aCkge1xyXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIEVNUFRZX0JVRkZFUjtcclxuICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHJldHVybiBsaXN0WzBdO1xyXG5cclxuICBjb25zdCB0YXJnZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUodG90YWxMZW5ndGgpO1xyXG4gIGxldCBvZmZzZXQgPSAwO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IGJ1ZiA9IGxpc3RbaV07XHJcbiAgICB0YXJnZXQuc2V0KGJ1Ziwgb2Zmc2V0KTtcclxuICAgIG9mZnNldCArPSBidWYubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9mZnNldCA8IHRvdGFsTGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbmV3IEZhc3RCdWZmZXIodGFyZ2V0LmJ1ZmZlciwgdGFyZ2V0LmJ5dGVPZmZzZXQsIG9mZnNldCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcblxyXG4vKipcclxuICogTWFza3MgYSBidWZmZXIgdXNpbmcgdGhlIGdpdmVuIG1hc2suXHJcbiAqXHJcbiAqIEBwYXJhbSB7QnVmZmVyfSBzb3VyY2UgVGhlIGJ1ZmZlciB0byBtYXNrXHJcbiAqIEBwYXJhbSB7QnVmZmVyfSBtYXNrIFRoZSBtYXNrIHRvIHVzZVxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gb3V0cHV0IFRoZSBidWZmZXIgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgd3JpdGluZ1xyXG4gKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIFRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gbWFzay5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gX21hc2soc291cmNlLCBtYXNrLCBvdXRwdXQsIG9mZnNldCwgbGVuZ3RoKSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgb3V0cHV0W29mZnNldCArIGldID0gc291cmNlW2ldIF4gbWFza1tpICYgM107XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogVW5tYXNrcyBhIGJ1ZmZlciB1c2luZyB0aGUgZ2l2ZW4gbWFzay5cclxuICpcclxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIHVubWFza1xyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gbWFzayBUaGUgbWFzayB0byB1c2VcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gX3VubWFzayhidWZmZXIsIG1hc2spIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkrKykge1xyXG4gICAgYnVmZmVyW2ldIF49IG1hc2tbaSAmIDNdO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIGEgYnVmZmVyIHRvIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWYgVGhlIGJ1ZmZlciB0byBjb252ZXJ0XHJcbiAqIEByZXR1cm4ge0FycmF5QnVmZmVyfSBDb252ZXJ0ZWQgYnVmZmVyXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIHRvQXJyYXlCdWZmZXIoYnVmKSB7XHJcbiAgaWYgKGJ1Zi5sZW5ndGggPT09IGJ1Zi5idWZmZXIuYnl0ZUxlbmd0aCkge1xyXG4gICAgcmV0dXJuIGJ1Zi5idWZmZXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYnVmLmJ1ZmZlci5zbGljZShidWYuYnl0ZU9mZnNldCwgYnVmLmJ5dGVPZmZzZXQgKyBidWYubGVuZ3RoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIGBkYXRhYCB0byBhIGBCdWZmZXJgLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IGRhdGEgVGhlIGRhdGEgdG8gY29udmVydFxyXG4gKiBAcmV0dXJuIHtCdWZmZXJ9IFRoZSBidWZmZXJcclxuICogQHRocm93cyB7VHlwZUVycm9yfVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiB0b0J1ZmZlcihkYXRhKSB7XHJcbiAgdG9CdWZmZXIucmVhZE9ubHkgPSB0cnVlO1xyXG5cclxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSByZXR1cm4gZGF0YTtcclxuXHJcbiAgbGV0IGJ1ZjtcclxuXHJcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xyXG4gICAgYnVmID0gbmV3IEZhc3RCdWZmZXIoZGF0YSk7XHJcbiAgfSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcclxuICAgIGJ1ZiA9IG5ldyBGYXN0QnVmZmVyKGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1ZiA9IEJ1ZmZlci5mcm9tKGRhdGEpO1xyXG4gICAgdG9CdWZmZXIucmVhZE9ubHkgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBidWY7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNvbmNhdCxcclxuICBtYXNrOiBfbWFzayxcclxuICB0b0FycmF5QnVmZmVyLFxyXG4gIHRvQnVmZmVyLFxyXG4gIHVubWFzazogX3VubWFza1xyXG59O1xyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIGVsc2UgICovXHJcbmlmICghcHJvY2Vzcy5lbnYuV1NfTk9fQlVGRkVSX1VUSUwpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYnVmZmVyVXRpbCA9IHJlcXVpcmUoJ2J1ZmZlcnV0aWwnKTtcclxuXHJcbiAgICBtb2R1bGUuZXhwb3J0cy5tYXNrID0gZnVuY3Rpb24gKHNvdXJjZSwgbWFzaywgb3V0cHV0LCBvZmZzZXQsIGxlbmd0aCkge1xyXG4gICAgICBpZiAobGVuZ3RoIDwgNDgpIF9tYXNrKHNvdXJjZSwgbWFzaywgb3V0cHV0LCBvZmZzZXQsIGxlbmd0aCk7XHJcbiAgICAgIGVsc2UgYnVmZmVyVXRpbC5tYXNrKHNvdXJjZSwgbWFzaywgb3V0cHV0LCBvZmZzZXQsIGxlbmd0aCk7XHJcbiAgICB9O1xyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzLnVubWFzayA9IGZ1bmN0aW9uIChidWZmZXIsIG1hc2spIHtcclxuICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPCAzMikgX3VubWFzayhidWZmZXIsIG1hc2spO1xyXG4gICAgICBlbHNlIGJ1ZmZlclV0aWwudW5tYXNrKGJ1ZmZlciwgbWFzayk7XHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIENvbnRpbnVlIHJlZ2FyZGxlc3Mgb2YgdGhlIGVycm9yLlxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/buffer-util.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js":
/*!************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js ***!
  \************************************************************************************/
/***/ ((module) => {

eval("\r\n\r\nmodule.exports = {\r\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\r\n  EMPTY_BUFFER: Buffer.alloc(0),\r\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\r\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\r\n  kListener: Symbol('kListener'),\r\n  kStatusCode: Symbol('status-code'),\r\n  kWebSocket: Symbol('websocket'),\r\n  NOOP: () => {}\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2NvbnN0YW50cy5qcz9lODVhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIEJJTkFSWV9UWVBFUzogWydub2RlYnVmZmVyJywgJ2FycmF5YnVmZmVyJywgJ2ZyYWdtZW50cyddLFxyXG4gIEVNUFRZX0JVRkZFUjogQnVmZmVyLmFsbG9jKDApLFxyXG4gIEdVSUQ6ICcyNThFQUZBNS1FOTE0LTQ3REEtOTVDQS1DNUFCMERDODVCMTEnLFxyXG4gIGtGb3JPbkV2ZW50QXR0cmlidXRlOiBTeW1ib2woJ2tJc0Zvck9uRXZlbnRBdHRyaWJ1dGUnKSxcclxuICBrTGlzdGVuZXI6IFN5bWJvbCgna0xpc3RlbmVyJyksXHJcbiAga1N0YXR1c0NvZGU6IFN5bWJvbCgnc3RhdHVzLWNvZGUnKSxcclxuICBrV2ViU29ja2V0OiBTeW1ib2woJ3dlYnNvY2tldCcpLFxyXG4gIE5PT1A6ICgpID0+IHt9XHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/event-target.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/event-target.js ***!
  \***************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst { kForOnEventAttribute, kListener } = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\");\r\n\r\nconst kCode = Symbol('kCode');\r\nconst kData = Symbol('kData');\r\nconst kError = Symbol('kError');\r\nconst kMessage = Symbol('kMessage');\r\nconst kReason = Symbol('kReason');\r\nconst kTarget = Symbol('kTarget');\r\nconst kType = Symbol('kType');\r\nconst kWasClean = Symbol('kWasClean');\r\n\r\n/**\r\n * Class representing an event.\r\n */\r\nclass Event {\r\n  /**\r\n   * Create a new `Event`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @throws {TypeError} If the `type` argument is not specified\r\n   */\r\n  constructor(type) {\r\n    this[kTarget] = null;\r\n    this[kType] = type;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get target() {\r\n    return this[kTarget];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get type() {\r\n    return this[kType];\r\n  }\r\n}\r\n\r\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\r\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\r\n\r\n/**\r\n * Class representing a close event.\r\n *\r\n * @extends Event\r\n */\r\nclass CloseEvent extends Event {\r\n  /**\r\n   * Create a new `CloseEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {Number} [options.code=0] The status code explaining why the\r\n   *     connection was closed\r\n   * @param {String} [options.reason=''] A human-readable string explaining why\r\n   *     the connection was closed\r\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\r\n   *     connection was cleanly closed\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kCode] = options.code === undefined ? 0 : options.code;\r\n    this[kReason] = options.reason === undefined ? '' : options.reason;\r\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get code() {\r\n    return this[kCode];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get reason() {\r\n    return this[kReason];\r\n  }\r\n\r\n  /**\r\n   * @type {Boolean}\r\n   */\r\n  get wasClean() {\r\n    return this[kWasClean];\r\n  }\r\n}\r\n\r\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\r\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\r\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\r\n\r\n/**\r\n * Class representing an error event.\r\n *\r\n * @extends Event\r\n */\r\nclass ErrorEvent extends Event {\r\n  /**\r\n   * Create a new `ErrorEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {*} [options.error=null] The error that generated this event\r\n   * @param {String} [options.message=''] The error message\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kError] = options.error === undefined ? null : options.error;\r\n    this[kMessage] = options.message === undefined ? '' : options.message;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get error() {\r\n    return this[kError];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get message() {\r\n    return this[kMessage];\r\n  }\r\n}\r\n\r\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\r\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\r\n\r\n/**\r\n * Class representing a message event.\r\n *\r\n * @extends Event\r\n */\r\nclass MessageEvent extends Event {\r\n  /**\r\n   * Create a new `MessageEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {*} [options.data=null] The message content\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kData] = options.data === undefined ? null : options.data;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get data() {\r\n    return this[kData];\r\n  }\r\n}\r\n\r\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\r\n\r\n/**\r\n * This provides methods for emulating the `EventTarget` interface. It's not\r\n * meant to be used directly.\r\n *\r\n * @mixin\r\n */\r\nconst EventTarget = {\r\n  /**\r\n   * Register an event listener.\r\n   *\r\n   * @param {String} type A string representing the event type to listen for\r\n   * @param {(Function|Object)} handler The listener to add\r\n   * @param {Object} [options] An options object specifies characteristics about\r\n   *     the event listener\r\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\r\n   *     listener should be invoked at most once after being added. If `true`,\r\n   *     the listener would be automatically removed when invoked.\r\n   * @public\r\n   */\r\n  addEventListener(type, handler, options = {}) {\r\n    for (const listener of this.listeners(type)) {\r\n      if (\r\n        !options[kForOnEventAttribute] &&\r\n        listener[kListener] === handler &&\r\n        !listener[kForOnEventAttribute]\r\n      ) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    let wrapper;\r\n\r\n    if (type === 'message') {\r\n      wrapper = function onMessage(data, isBinary) {\r\n        const event = new MessageEvent('message', {\r\n          data: isBinary ? data : data.toString()\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else if (type === 'close') {\r\n      wrapper = function onClose(code, message) {\r\n        const event = new CloseEvent('close', {\r\n          code,\r\n          reason: message.toString(),\r\n          wasClean: this._closeFrameReceived && this._closeFrameSent\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else if (type === 'error') {\r\n      wrapper = function onError(error) {\r\n        const event = new ErrorEvent('error', {\r\n          error,\r\n          message: error.message\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else if (type === 'open') {\r\n      wrapper = function onOpen() {\r\n        const event = new Event('open');\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\r\n    wrapper[kListener] = handler;\r\n\r\n    if (options.once) {\r\n      this.once(type, wrapper);\r\n    } else {\r\n      this.on(type, wrapper);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Remove an event listener.\r\n   *\r\n   * @param {String} type A string representing the event type to remove\r\n   * @param {(Function|Object)} handler The listener to remove\r\n   * @public\r\n   */\r\n  removeEventListener(type, handler) {\r\n    for (const listener of this.listeners(type)) {\r\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\r\n        this.removeListener(type, listener);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  CloseEvent,\r\n  ErrorEvent,\r\n  Event,\r\n  EventTarget,\r\n  MessageEvent\r\n};\r\n\r\n/**\r\n * Call an event listener\r\n *\r\n * @param {(Function|Object)} listener The listener to call\r\n * @param {*} thisArg The value to use as `this`` when calling the listener\r\n * @param {Event} event The event to pass to the listener\r\n * @private\r\n */\r\nfunction callListener(listener, thisArg, event) {\r\n  if (typeof listener === 'object' && listener.handleEvent) {\r\n    listener.handleEvent.call(listener, event);\r\n  } else {\r\n    listener.call(thisArg, event);\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2V2ZW50LXRhcmdldC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsUUFBUSxrQ0FBa0MsRUFBRSxtQkFBTyxDQUFDLHVHQUFhO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxXQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsa0JBQWtCO0FBQ3JFLGlEQUFpRCxrQkFBa0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxrQkFBa0I7QUFDeEUsd0RBQXdELGtCQUFrQjtBQUMxRSwwREFBMEQsa0JBQWtCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLFFBQVE7QUFDckI7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxrQkFBa0I7QUFDekUseURBQXlELGtCQUFrQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLEdBQUc7QUFDaEI7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxrQkFBa0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsbUJBQW1CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLEdBQUc7QUFDZCxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2V2ZW50LXRhcmdldC5qcz84NjA4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IHsga0Zvck9uRXZlbnRBdHRyaWJ1dGUsIGtMaXN0ZW5lciB9ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcclxuXHJcbmNvbnN0IGtDb2RlID0gU3ltYm9sKCdrQ29kZScpO1xyXG5jb25zdCBrRGF0YSA9IFN5bWJvbCgna0RhdGEnKTtcclxuY29uc3Qga0Vycm9yID0gU3ltYm9sKCdrRXJyb3InKTtcclxuY29uc3Qga01lc3NhZ2UgPSBTeW1ib2woJ2tNZXNzYWdlJyk7XHJcbmNvbnN0IGtSZWFzb24gPSBTeW1ib2woJ2tSZWFzb24nKTtcclxuY29uc3Qga1RhcmdldCA9IFN5bWJvbCgna1RhcmdldCcpO1xyXG5jb25zdCBrVHlwZSA9IFN5bWJvbCgna1R5cGUnKTtcclxuY29uc3Qga1dhc0NsZWFuID0gU3ltYm9sKCdrV2FzQ2xlYW4nKTtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYW4gZXZlbnQuXHJcbiAqL1xyXG5jbGFzcyBFdmVudCB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IGBFdmVudGAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcclxuICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIHRoZSBgdHlwZWAgYXJndW1lbnQgaXMgbm90IHNwZWNpZmllZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHR5cGUpIHtcclxuICAgIHRoaXNba1RhcmdldF0gPSBudWxsO1xyXG4gICAgdGhpc1trVHlwZV0gPSB0eXBlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUgeyp9XHJcbiAgICovXHJcbiAgZ2V0IHRhcmdldCgpIHtcclxuICAgIHJldHVybiB0aGlzW2tUYXJnZXRdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUge1N0cmluZ31cclxuICAgKi9cclxuICBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiB0aGlzW2tUeXBlXTtcclxuICB9XHJcbn1cclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudC5wcm90b3R5cGUsICd0YXJnZXQnLCB7IGVudW1lcmFibGU6IHRydWUgfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudC5wcm90b3R5cGUsICd0eXBlJywgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIGNsb3NlIGV2ZW50LlxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBFdmVudFxyXG4gKi9cclxuY2xhc3MgQ2xvc2VFdmVudCBleHRlbmRzIEV2ZW50IHtcclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBuZXcgYENsb3NlRXZlbnRgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBIGRpY3Rpb25hcnkgb2JqZWN0IHRoYXQgYWxsb3dzIGZvciBzZXR0aW5nXHJcbiAgICogICAgIGF0dHJpYnV0ZXMgdmlhIG9iamVjdCBtZW1iZXJzIG9mIHRoZSBzYW1lIG5hbWVcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29kZT0wXSBUaGUgc3RhdHVzIGNvZGUgZXhwbGFpbmluZyB3aHkgdGhlXHJcbiAgICogICAgIGNvbm5lY3Rpb24gd2FzIGNsb3NlZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5yZWFzb249JyddIEEgaHVtYW4tcmVhZGFibGUgc3RyaW5nIGV4cGxhaW5pbmcgd2h5XHJcbiAgICogICAgIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWRcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLndhc0NsZWFuPWZhbHNlXSBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlXHJcbiAgICogICAgIGNvbm5lY3Rpb24gd2FzIGNsZWFubHkgY2xvc2VkXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IodHlwZSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcih0eXBlKTtcclxuXHJcbiAgICB0aGlzW2tDb2RlXSA9IG9wdGlvbnMuY29kZSA9PT0gdW5kZWZpbmVkID8gMCA6IG9wdGlvbnMuY29kZTtcclxuICAgIHRoaXNba1JlYXNvbl0gPSBvcHRpb25zLnJlYXNvbiA9PT0gdW5kZWZpbmVkID8gJycgOiBvcHRpb25zLnJlYXNvbjtcclxuICAgIHRoaXNba1dhc0NsZWFuXSA9IG9wdGlvbnMud2FzQ2xlYW4gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogb3B0aW9ucy53YXNDbGVhbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgZ2V0IGNvZGUoKSB7XHJcbiAgICByZXR1cm4gdGhpc1trQ29kZV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldCByZWFzb24oKSB7XHJcbiAgICByZXR1cm4gdGhpc1trUmVhc29uXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGdldCB3YXNDbGVhbigpIHtcclxuICAgIHJldHVybiB0aGlzW2tXYXNDbGVhbl07XHJcbiAgfVxyXG59XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xvc2VFdmVudC5wcm90b3R5cGUsICdjb2RlJywgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xvc2VFdmVudC5wcm90b3R5cGUsICdyZWFzb24nLCB7IGVudW1lcmFibGU6IHRydWUgfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDbG9zZUV2ZW50LnByb3RvdHlwZSwgJ3dhc0NsZWFuJywgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhbiBlcnJvciBldmVudC5cclxuICpcclxuICogQGV4dGVuZHMgRXZlbnRcclxuICovXHJcbmNsYXNzIEVycm9yRXZlbnQgZXh0ZW5kcyBFdmVudCB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IGBFcnJvckV2ZW50YC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBuYW1lIG9mIHRoZSBldmVudFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQSBkaWN0aW9uYXJ5IG9iamVjdCB0aGF0IGFsbG93cyBmb3Igc2V0dGluZ1xyXG4gICAqICAgICBhdHRyaWJ1dGVzIHZpYSBvYmplY3QgbWVtYmVycyBvZiB0aGUgc2FtZSBuYW1lXHJcbiAgICogQHBhcmFtIHsqfSBbb3B0aW9ucy5lcnJvcj1udWxsXSBUaGUgZXJyb3IgdGhhdCBnZW5lcmF0ZWQgdGhpcyBldmVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlPScnXSBUaGUgZXJyb3IgbWVzc2FnZVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHR5cGUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIodHlwZSk7XHJcblxyXG4gICAgdGhpc1trRXJyb3JdID0gb3B0aW9ucy5lcnJvciA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG9wdGlvbnMuZXJyb3I7XHJcbiAgICB0aGlzW2tNZXNzYWdlXSA9IG9wdGlvbnMubWVzc2FnZSA9PT0gdW5kZWZpbmVkID8gJycgOiBvcHRpb25zLm1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKi9cclxuICBnZXQgZXJyb3IoKSB7XHJcbiAgICByZXR1cm4gdGhpc1trRXJyb3JdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUge1N0cmluZ31cclxuICAgKi9cclxuICBnZXQgbWVzc2FnZSgpIHtcclxuICAgIHJldHVybiB0aGlzW2tNZXNzYWdlXTtcclxuICB9XHJcbn1cclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFcnJvckV2ZW50LnByb3RvdHlwZSwgJ2Vycm9yJywgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXJyb3JFdmVudC5wcm90b3R5cGUsICdtZXNzYWdlJywgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIG1lc3NhZ2UgZXZlbnQuXHJcbiAqXHJcbiAqIEBleHRlbmRzIEV2ZW50XHJcbiAqL1xyXG5jbGFzcyBNZXNzYWdlRXZlbnQgZXh0ZW5kcyBFdmVudCB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IGBNZXNzYWdlRXZlbnRgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBIGRpY3Rpb25hcnkgb2JqZWN0IHRoYXQgYWxsb3dzIGZvciBzZXR0aW5nXHJcbiAgICogICAgIGF0dHJpYnV0ZXMgdmlhIG9iamVjdCBtZW1iZXJzIG9mIHRoZSBzYW1lIG5hbWVcclxuICAgKiBAcGFyYW0geyp9IFtvcHRpb25zLmRhdGE9bnVsbF0gVGhlIG1lc3NhZ2UgY29udGVudFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHR5cGUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIodHlwZSk7XHJcblxyXG4gICAgdGhpc1trRGF0YV0gPSBvcHRpb25zLmRhdGEgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBvcHRpb25zLmRhdGE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKi9cclxuICBnZXQgZGF0YSgpIHtcclxuICAgIHJldHVybiB0aGlzW2tEYXRhXTtcclxuICB9XHJcbn1cclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNzYWdlRXZlbnQucHJvdG90eXBlLCAnZGF0YScsIHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHByb3ZpZGVzIG1ldGhvZHMgZm9yIGVtdWxhdGluZyB0aGUgYEV2ZW50VGFyZ2V0YCBpbnRlcmZhY2UuIEl0J3Mgbm90XHJcbiAqIG1lYW50IHRvIGJlIHVzZWQgZGlyZWN0bHkuXHJcbiAqXHJcbiAqIEBtaXhpblxyXG4gKi9cclxuY29uc3QgRXZlbnRUYXJnZXQgPSB7XHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGV2ZW50IHR5cGUgdG8gbGlzdGVuIGZvclxyXG4gICAqIEBwYXJhbSB7KEZ1bmN0aW9ufE9iamVjdCl9IGhhbmRsZXIgVGhlIGxpc3RlbmVyIHRvIGFkZFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQW4gb3B0aW9ucyBvYmplY3Qgc3BlY2lmaWVzIGNoYXJhY3RlcmlzdGljcyBhYm91dFxyXG4gICAqICAgICB0aGUgZXZlbnQgbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm9uY2U9ZmFsc2VdIEEgYEJvb2xlYW5gIGluZGljYXRpbmcgdGhhdCB0aGVcclxuICAgKiAgICAgbGlzdGVuZXIgc2hvdWxkIGJlIGludm9rZWQgYXQgbW9zdCBvbmNlIGFmdGVyIGJlaW5nIGFkZGVkLiBJZiBgdHJ1ZWAsXHJcbiAgICogICAgIHRoZSBsaXN0ZW5lciB3b3VsZCBiZSBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgd2hlbiBpbnZva2VkLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycyh0eXBlKSkge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIW9wdGlvbnNba0Zvck9uRXZlbnRBdHRyaWJ1dGVdICYmXHJcbiAgICAgICAgbGlzdGVuZXJba0xpc3RlbmVyXSA9PT0gaGFuZGxlciAmJlxyXG4gICAgICAgICFsaXN0ZW5lcltrRm9yT25FdmVudEF0dHJpYnV0ZV1cclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHdyYXBwZXI7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICdtZXNzYWdlJykge1xyXG4gICAgICB3cmFwcGVyID0gZnVuY3Rpb24gb25NZXNzYWdlKGRhdGEsIGlzQmluYXJ5KSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgTWVzc2FnZUV2ZW50KCdtZXNzYWdlJywge1xyXG4gICAgICAgICAgZGF0YTogaXNCaW5hcnkgPyBkYXRhIDogZGF0YS50b1N0cmluZygpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV2ZW50W2tUYXJnZXRdID0gdGhpcztcclxuICAgICAgICBjYWxsTGlzdGVuZXIoaGFuZGxlciwgdGhpcywgZXZlbnQpO1xyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnY2xvc2UnKSB7XHJcbiAgICAgIHdyYXBwZXIgPSBmdW5jdGlvbiBvbkNsb3NlKGNvZGUsIG1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDbG9zZUV2ZW50KCdjbG9zZScsIHtcclxuICAgICAgICAgIGNvZGUsXHJcbiAgICAgICAgICByZWFzb246IG1lc3NhZ2UudG9TdHJpbmcoKSxcclxuICAgICAgICAgIHdhc0NsZWFuOiB0aGlzLl9jbG9zZUZyYW1lUmVjZWl2ZWQgJiYgdGhpcy5fY2xvc2VGcmFtZVNlbnRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXZlbnRba1RhcmdldF0gPSB0aGlzO1xyXG4gICAgICAgIGNhbGxMaXN0ZW5lcihoYW5kbGVyLCB0aGlzLCBldmVudCk7XHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgd3JhcHBlciA9IGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcclxuICAgICAgICAgIGVycm9yLFxyXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBldmVudFtrVGFyZ2V0XSA9IHRoaXM7XHJcbiAgICAgICAgY2FsbExpc3RlbmVyKGhhbmRsZXIsIHRoaXMsIGV2ZW50KTtcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29wZW4nKSB7XHJcbiAgICAgIHdyYXBwZXIgPSBmdW5jdGlvbiBvbk9wZW4oKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ29wZW4nKTtcclxuXHJcbiAgICAgICAgZXZlbnRba1RhcmdldF0gPSB0aGlzO1xyXG4gICAgICAgIGNhbGxMaXN0ZW5lcihoYW5kbGVyLCB0aGlzLCBldmVudCk7XHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgd3JhcHBlcltrRm9yT25FdmVudEF0dHJpYnV0ZV0gPSAhIW9wdGlvbnNba0Zvck9uRXZlbnRBdHRyaWJ1dGVdO1xyXG4gICAgd3JhcHBlcltrTGlzdGVuZXJdID0gaGFuZGxlcjtcclxuXHJcbiAgICBpZiAob3B0aW9ucy5vbmNlKSB7XHJcbiAgICAgIHRoaXMub25jZSh0eXBlLCB3cmFwcGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub24odHlwZSwgd3JhcHBlcik7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBldmVudCB0eXBlIHRvIHJlbW92ZVxyXG4gICAqIEBwYXJhbSB7KEZ1bmN0aW9ufE9iamVjdCl9IGhhbmRsZXIgVGhlIGxpc3RlbmVyIHRvIHJlbW92ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpIHtcclxuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnModHlwZSkpIHtcclxuICAgICAgaWYgKGxpc3RlbmVyW2tMaXN0ZW5lcl0gPT09IGhhbmRsZXIgJiYgIWxpc3RlbmVyW2tGb3JPbkV2ZW50QXR0cmlidXRlXSkge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgQ2xvc2VFdmVudCxcclxuICBFcnJvckV2ZW50LFxyXG4gIEV2ZW50LFxyXG4gIEV2ZW50VGFyZ2V0LFxyXG4gIE1lc3NhZ2VFdmVudFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENhbGwgYW4gZXZlbnQgbGlzdGVuZXJcclxuICpcclxuICogQHBhcmFtIHsoRnVuY3Rpb258T2JqZWN0KX0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIHRvIGNhbGxcclxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSB2YWx1ZSB0byB1c2UgYXMgYHRoaXNgYCB3aGVuIGNhbGxpbmcgdGhlIGxpc3RlbmVyXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBwYXNzIHRvIHRoZSBsaXN0ZW5lclxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsbExpc3RlbmVyKGxpc3RlbmVyLCB0aGlzQXJnLCBldmVudCkge1xyXG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgPT09ICdvYmplY3QnICYmIGxpc3RlbmVyLmhhbmRsZUV2ZW50KSB7XHJcbiAgICBsaXN0ZW5lci5oYW5kbGVFdmVudC5jYWxsKGxpc3RlbmVyLCBldmVudCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxpc3RlbmVyLmNhbGwodGhpc0FyZywgZXZlbnQpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/event-target.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/extension.js":
/*!************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/extension.js ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst { tokenChars } = __webpack_require__(/*! ./validation */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/validation.js\");\r\n\r\n/**\r\n * Adds an offer to the map of extension offers or a parameter to the map of\r\n * parameters.\r\n *\r\n * @param {Object} dest The map of extension offers or parameters\r\n * @param {String} name The extension or parameter name\r\n * @param {(Object|Boolean|String)} elem The extension parameters or the\r\n *     parameter value\r\n * @private\r\n */\r\nfunction push(dest, name, elem) {\r\n  if (dest[name] === undefined) dest[name] = [elem];\r\n  else dest[name].push(elem);\r\n}\r\n\r\n/**\r\n * Parses the `Sec-WebSocket-Extensions` header into an object.\r\n *\r\n * @param {String} header The field value of the header\r\n * @return {Object} The parsed object\r\n * @public\r\n */\r\nfunction parse(header) {\r\n  const offers = Object.create(null);\r\n  let params = Object.create(null);\r\n  let mustUnescape = false;\r\n  let isEscaping = false;\r\n  let inQuotes = false;\r\n  let extensionName;\r\n  let paramName;\r\n  let start = -1;\r\n  let code = -1;\r\n  let end = -1;\r\n  let i = 0;\r\n\r\n  for (; i < header.length; i++) {\r\n    code = header.charCodeAt(i);\r\n\r\n    if (extensionName === undefined) {\r\n      if (end === -1 && tokenChars[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (\r\n        i !== 0 &&\r\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\r\n      ) {\r\n        if (end === -1 && start !== -1) end = i;\r\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        const name = header.slice(start, end);\r\n        if (code === 0x2c) {\r\n          push(offers, name, params);\r\n          params = Object.create(null);\r\n        } else {\r\n          extensionName = name;\r\n        }\r\n\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    } else if (paramName === undefined) {\r\n      if (end === -1 && tokenChars[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (code === 0x20 || code === 0x09) {\r\n        if (end === -1 && start !== -1) end = i;\r\n      } else if (code === 0x3b || code === 0x2c) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        push(params, header.slice(start, end), true);\r\n        if (code === 0x2c) {\r\n          push(offers, extensionName, params);\r\n          params = Object.create(null);\r\n          extensionName = undefined;\r\n        }\r\n\r\n        start = end = -1;\r\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\r\n        paramName = header.slice(start, i);\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    } else {\r\n      //\r\n      // The value of a quoted-string after unescaping must conform to the\r\n      // token ABNF, so only token characters are valid.\r\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\r\n      //\r\n      if (isEscaping) {\r\n        if (tokenChars[code] !== 1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n        if (start === -1) start = i;\r\n        else if (!mustUnescape) mustUnescape = true;\r\n        isEscaping = false;\r\n      } else if (inQuotes) {\r\n        if (tokenChars[code] === 1) {\r\n          if (start === -1) start = i;\r\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\r\n          inQuotes = false;\r\n          end = i;\r\n        } else if (code === 0x5c /* '\\' */) {\r\n          isEscaping = true;\r\n        } else {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\r\n        inQuotes = true;\r\n      } else if (end === -1 && tokenChars[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\r\n        if (end === -1) end = i;\r\n      } else if (code === 0x3b || code === 0x2c) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        let value = header.slice(start, end);\r\n        if (mustUnescape) {\r\n          value = value.replace(/\\\\/g, '');\r\n          mustUnescape = false;\r\n        }\r\n        push(params, paramName, value);\r\n        if (code === 0x2c) {\r\n          push(offers, extensionName, params);\r\n          params = Object.create(null);\r\n          extensionName = undefined;\r\n        }\r\n\r\n        paramName = undefined;\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\r\n    throw new SyntaxError('Unexpected end of input');\r\n  }\r\n\r\n  if (end === -1) end = i;\r\n  const token = header.slice(start, end);\r\n  if (extensionName === undefined) {\r\n    push(offers, token, params);\r\n  } else {\r\n    if (paramName === undefined) {\r\n      push(params, token, true);\r\n    } else if (mustUnescape) {\r\n      push(params, paramName, token.replace(/\\\\/g, ''));\r\n    } else {\r\n      push(params, paramName, token);\r\n    }\r\n    push(offers, extensionName, params);\r\n  }\r\n\r\n  return offers;\r\n}\r\n\r\n/**\r\n * Builds the `Sec-WebSocket-Extensions` header field value.\r\n *\r\n * @param {Object} extensions The map of extensions and parameters to format\r\n * @return {String} A string representing the given object\r\n * @public\r\n */\r\nfunction format(extensions) {\r\n  return Object.keys(extensions)\r\n    .map((extension) => {\r\n      let configurations = extensions[extension];\r\n      if (!Array.isArray(configurations)) configurations = [configurations];\r\n      return configurations\r\n        .map((params) => {\r\n          return [extension]\r\n            .concat(\r\n              Object.keys(params).map((k) => {\r\n                let values = params[k];\r\n                if (!Array.isArray(values)) values = [values];\r\n                return values\r\n                  .map((v) => (v === true ? k : `${k}=${v}`))\r\n                  .join('; ');\r\n              })\r\n            )\r\n            .join('; ');\r\n        })\r\n        .join(', ');\r\n    })\r\n    .join(', ');\r\n}\r\n\r\nmodule.exports = { format, parse };\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2V4dGVuc2lvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsUUFBUSxhQUFhLEVBQUUsbUJBQU8sQ0FBQyx5R0FBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1CQUFtQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0QkFBNEI7QUFDcEM7QUFDQSxpRUFBaUUsRUFBRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUiwrREFBK0QsRUFBRTtBQUNqRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsaUVBQWlFLEVBQUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSLCtEQUErRCxFQUFFO0FBQ2pFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLEVBQUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWLGlFQUFpRSxFQUFFO0FBQ25FO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsaUVBQWlFLEVBQUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUiwrREFBK0QsRUFBRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsRUFBRSxHQUFHLEVBQUU7QUFDMUQsMkJBQTJCO0FBQzNCLGVBQWU7QUFDZjtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL3dzL2xpYi9leHRlbnNpb24uanM/OThkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCB7IHRva2VuQ2hhcnMgfSA9IHJlcXVpcmUoJy4vdmFsaWRhdGlvbicpO1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gb2ZmZXIgdG8gdGhlIG1hcCBvZiBleHRlbnNpb24gb2ZmZXJzIG9yIGEgcGFyYW1ldGVyIHRvIHRoZSBtYXAgb2ZcclxuICogcGFyYW1ldGVycy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGRlc3QgVGhlIG1hcCBvZiBleHRlbnNpb24gb2ZmZXJzIG9yIHBhcmFtZXRlcnNcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIGV4dGVuc2lvbiBvciBwYXJhbWV0ZXIgbmFtZVxyXG4gKiBAcGFyYW0geyhPYmplY3R8Qm9vbGVhbnxTdHJpbmcpfSBlbGVtIFRoZSBleHRlbnNpb24gcGFyYW1ldGVycyBvciB0aGVcclxuICogICAgIHBhcmFtZXRlciB2YWx1ZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcHVzaChkZXN0LCBuYW1lLCBlbGVtKSB7XHJcbiAgaWYgKGRlc3RbbmFtZV0gPT09IHVuZGVmaW5lZCkgZGVzdFtuYW1lXSA9IFtlbGVtXTtcclxuICBlbHNlIGRlc3RbbmFtZV0ucHVzaChlbGVtKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlcyB0aGUgYFNlYy1XZWJTb2NrZXQtRXh0ZW5zaW9uc2AgaGVhZGVyIGludG8gYW4gb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVyIFRoZSBmaWVsZCB2YWx1ZSBvZiB0aGUgaGVhZGVyXHJcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHBhcnNlZCBvYmplY3RcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2UoaGVhZGVyKSB7XHJcbiAgY29uc3Qgb2ZmZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICBsZXQgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICBsZXQgbXVzdFVuZXNjYXBlID0gZmFsc2U7XHJcbiAgbGV0IGlzRXNjYXBpbmcgPSBmYWxzZTtcclxuICBsZXQgaW5RdW90ZXMgPSBmYWxzZTtcclxuICBsZXQgZXh0ZW5zaW9uTmFtZTtcclxuICBsZXQgcGFyYW1OYW1lO1xyXG4gIGxldCBzdGFydCA9IC0xO1xyXG4gIGxldCBjb2RlID0gLTE7XHJcbiAgbGV0IGVuZCA9IC0xO1xyXG4gIGxldCBpID0gMDtcclxuXHJcbiAgZm9yICg7IGkgPCBoZWFkZXIubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvZGUgPSBoZWFkZXIuY2hhckNvZGVBdChpKTtcclxuXHJcbiAgICBpZiAoZXh0ZW5zaW9uTmFtZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlmIChlbmQgPT09IC0xICYmIHRva2VuQ2hhcnNbY29kZV0gPT09IDEpIHtcclxuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgaSAhPT0gMCAmJlxyXG4gICAgICAgIChjb2RlID09PSAweDIwIC8qICcgJyAqLyB8fCBjb2RlID09PSAweDA5KSAvKiAnXFx0JyAqL1xyXG4gICAgICApIHtcclxuICAgICAgICBpZiAoZW5kID09PSAtMSAmJiBzdGFydCAhPT0gLTEpIGVuZCA9IGk7XHJcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgzYiAvKiAnOycgKi8gfHwgY29kZSA9PT0gMHgyYyAvKiAnLCcgKi8pIHtcclxuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSBlbmQgPSBpO1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSBoZWFkZXIuc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MmMpIHtcclxuICAgICAgICAgIHB1c2gob2ZmZXJzLCBuYW1lLCBwYXJhbXMpO1xyXG4gICAgICAgICAgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXh0ZW5zaW9uTmFtZSA9IG5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGFydCA9IGVuZCA9IC0xO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHBhcmFtTmFtZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlmIChlbmQgPT09IC0xICYmIHRva2VuQ2hhcnNbY29kZV0gPT09IDEpIHtcclxuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XHJcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgyMCB8fCBjb2RlID09PSAweDA5KSB7XHJcbiAgICAgICAgaWYgKGVuZCA9PT0gLTEgJiYgc3RhcnQgIT09IC0xKSBlbmQgPSBpO1xyXG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4M2IgfHwgY29kZSA9PT0gMHgyYykge1xyXG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XHJcbiAgICAgICAgcHVzaChwYXJhbXMsIGhlYWRlci5zbGljZShzdGFydCwgZW5kKSwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MmMpIHtcclxuICAgICAgICAgIHB1c2gob2ZmZXJzLCBleHRlbnNpb25OYW1lLCBwYXJhbXMpO1xyXG4gICAgICAgICAgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICAgIGV4dGVuc2lvbk5hbWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGFydCA9IGVuZCA9IC0xO1xyXG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4M2QgLyogJz0nICovICYmIHN0YXJ0ICE9PSAtMSAmJiBlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgcGFyYW1OYW1lID0gaGVhZGVyLnNsaWNlKHN0YXJ0LCBpKTtcclxuICAgICAgICBzdGFydCA9IGVuZCA9IC0xO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBUaGUgdmFsdWUgb2YgYSBxdW90ZWQtc3RyaW5nIGFmdGVyIHVuZXNjYXBpbmcgbXVzdCBjb25mb3JtIHRvIHRoZVxyXG4gICAgICAvLyB0b2tlbiBBQk5GLCBzbyBvbmx5IHRva2VuIGNoYXJhY3RlcnMgYXJlIHZhbGlkLlxyXG4gICAgICAvLyBSZWY6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NDU1I3NlY3Rpb24tOS4xXHJcbiAgICAgIC8vXHJcbiAgICAgIGlmIChpc0VzY2FwaW5nKSB7XHJcbiAgICAgICAgaWYgKHRva2VuQ2hhcnNbY29kZV0gIT09IDEpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XHJcbiAgICAgICAgZWxzZSBpZiAoIW11c3RVbmVzY2FwZSkgbXVzdFVuZXNjYXBlID0gdHJ1ZTtcclxuICAgICAgICBpc0VzY2FwaW5nID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZiAoaW5RdW90ZXMpIHtcclxuICAgICAgICBpZiAodG9rZW5DaGFyc1tjb2RlXSA9PT0gMSkge1xyXG4gICAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgyMiAvKiAnXCInICovICYmIHN0YXJ0ICE9PSAtMSkge1xyXG4gICAgICAgICAgaW5RdW90ZXMgPSBmYWxzZTtcclxuICAgICAgICAgIGVuZCA9IGk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDVjIC8qICdcXCcgKi8pIHtcclxuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgyMiAmJiBoZWFkZXIuY2hhckNvZGVBdChpIC0gMSkgPT09IDB4M2QpIHtcclxuICAgICAgICBpblF1b3RlcyA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoZW5kID09PSAtMSAmJiB0b2tlbkNoYXJzW2NvZGVdID09PSAxKSB7XHJcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0ICE9PSAtMSAmJiAoY29kZSA9PT0gMHgyMCB8fCBjb2RlID09PSAweDA5KSkge1xyXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSBlbmQgPSBpO1xyXG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4M2IgfHwgY29kZSA9PT0gMHgyYykge1xyXG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gaGVhZGVyLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgIGlmIChtdXN0VW5lc2NhcGUpIHtcclxuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxcXC9nLCAnJyk7XHJcbiAgICAgICAgICBtdXN0VW5lc2NhcGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHVzaChwYXJhbXMsIHBhcmFtTmFtZSwgdmFsdWUpO1xyXG4gICAgICAgIGlmIChjb2RlID09PSAweDJjKSB7XHJcbiAgICAgICAgICBwdXNoKG9mZmVycywgZXh0ZW5zaW9uTmFtZSwgcGFyYW1zKTtcclxuICAgICAgICAgIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgICBleHRlbnNpb25OYW1lID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyYW1OYW1lID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHN0YXJ0ID0gZW5kID0gLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChzdGFydCA9PT0gLTEgfHwgaW5RdW90ZXMgfHwgY29kZSA9PT0gMHgyMCB8fCBjb2RlID09PSAweDA5KSB7XHJcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0Jyk7XHJcbiAgfVxyXG5cclxuICBpZiAoZW5kID09PSAtMSkgZW5kID0gaTtcclxuICBjb25zdCB0b2tlbiA9IGhlYWRlci5zbGljZShzdGFydCwgZW5kKTtcclxuICBpZiAoZXh0ZW5zaW9uTmFtZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICBwdXNoKG9mZmVycywgdG9rZW4sIHBhcmFtcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChwYXJhbU5hbWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBwdXNoKHBhcmFtcywgdG9rZW4sIHRydWUpO1xyXG4gICAgfSBlbHNlIGlmIChtdXN0VW5lc2NhcGUpIHtcclxuICAgICAgcHVzaChwYXJhbXMsIHBhcmFtTmFtZSwgdG9rZW4ucmVwbGFjZSgvXFxcXC9nLCAnJykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcHVzaChwYXJhbXMsIHBhcmFtTmFtZSwgdG9rZW4pO1xyXG4gICAgfVxyXG4gICAgcHVzaChvZmZlcnMsIGV4dGVuc2lvbk5hbWUsIHBhcmFtcyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb2ZmZXJzO1xyXG59XHJcblxyXG4vKipcclxuICogQnVpbGRzIHRoZSBgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zYCBoZWFkZXIgZmllbGQgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBleHRlbnNpb25zIFRoZSBtYXAgb2YgZXh0ZW5zaW9ucyBhbmQgcGFyYW1ldGVycyB0byBmb3JtYXRcclxuICogQHJldHVybiB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIG9iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBmb3JtYXQoZXh0ZW5zaW9ucykge1xyXG4gIHJldHVybiBPYmplY3Qua2V5cyhleHRlbnNpb25zKVxyXG4gICAgLm1hcCgoZXh0ZW5zaW9uKSA9PiB7XHJcbiAgICAgIGxldCBjb25maWd1cmF0aW9ucyA9IGV4dGVuc2lvbnNbZXh0ZW5zaW9uXTtcclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbmZpZ3VyYXRpb25zKSkgY29uZmlndXJhdGlvbnMgPSBbY29uZmlndXJhdGlvbnNdO1xyXG4gICAgICByZXR1cm4gY29uZmlndXJhdGlvbnNcclxuICAgICAgICAubWFwKChwYXJhbXMpID0+IHtcclxuICAgICAgICAgIHJldHVybiBbZXh0ZW5zaW9uXVxyXG4gICAgICAgICAgICAuY29uY2F0KFxyXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKChrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWVzID0gcGFyYW1zW2tdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHZhbHVlcyA9IFt2YWx1ZXNdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAubWFwKCh2KSA9PiAodiA9PT0gdHJ1ZSA/IGsgOiBgJHtrfT0ke3Z9YCkpXHJcbiAgICAgICAgICAgICAgICAgIC5qb2luKCc7ICcpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLmpvaW4oJzsgJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuam9pbignLCAnKTtcclxuICAgIH0pXHJcbiAgICAuam9pbignLCAnKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGZvcm1hdCwgcGFyc2UgfTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/extension.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/limiter.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/limiter.js ***!
  \**********************************************************************************/
/***/ ((module) => {

eval("\r\n\r\nconst kDone = Symbol('kDone');\r\nconst kRun = Symbol('kRun');\r\n\r\n/**\r\n * A very simple job queue with adjustable concurrency. Adapted from\r\n * https://github.com/STRML/async-limiter\r\n */\r\nclass Limiter {\r\n  /**\r\n   * Creates a new `Limiter`.\r\n   *\r\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\r\n   *     to run concurrently\r\n   */\r\n  constructor(concurrency) {\r\n    this[kDone] = () => {\r\n      this.pending--;\r\n      this[kRun]();\r\n    };\r\n    this.concurrency = concurrency || Infinity;\r\n    this.jobs = [];\r\n    this.pending = 0;\r\n  }\r\n\r\n  /**\r\n   * Adds a job to the queue.\r\n   *\r\n   * @param {Function} job The job to run\r\n   * @public\r\n   */\r\n  add(job) {\r\n    this.jobs.push(job);\r\n    this[kRun]();\r\n  }\r\n\r\n  /**\r\n   * Removes a job from the queue and runs it if possible.\r\n   *\r\n   * @private\r\n   */\r\n  [kRun]() {\r\n    if (this.pending === this.concurrency) return;\r\n\r\n    if (this.jobs.length) {\r\n      const job = this.jobs.shift();\r\n\r\n      this.pending++;\r\n      job(this[kDone]);\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = Limiter;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL2xpbWl0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL3dzL2xpYi9saW1pdGVyLmpzPzMwNTciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3Qga0RvbmUgPSBTeW1ib2woJ2tEb25lJyk7XHJcbmNvbnN0IGtSdW4gPSBTeW1ib2woJ2tSdW4nKTtcclxuXHJcbi8qKlxyXG4gKiBBIHZlcnkgc2ltcGxlIGpvYiBxdWV1ZSB3aXRoIGFkanVzdGFibGUgY29uY3VycmVuY3kuIEFkYXB0ZWQgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vU1RSTUwvYXN5bmMtbGltaXRlclxyXG4gKi9cclxuY2xhc3MgTGltaXRlciB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBgTGltaXRlcmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmN1cnJlbmN5PUluZmluaXR5XSBUaGUgbWF4aW11bSBudW1iZXIgb2Ygam9icyBhbGxvd2VkXHJcbiAgICogICAgIHRvIHJ1biBjb25jdXJyZW50bHlcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihjb25jdXJyZW5jeSkge1xyXG4gICAgdGhpc1trRG9uZV0gPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMucGVuZGluZy0tO1xyXG4gICAgICB0aGlzW2tSdW5dKCk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5IHx8IEluZmluaXR5O1xyXG4gICAgdGhpcy5qb2JzID0gW107XHJcbiAgICB0aGlzLnBlbmRpbmcgPSAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIGpvYiB0byB0aGUgcXVldWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBqb2IgVGhlIGpvYiB0byBydW5cclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgYWRkKGpvYikge1xyXG4gICAgdGhpcy5qb2JzLnB1c2goam9iKTtcclxuICAgIHRoaXNba1J1bl0oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgYSBqb2IgZnJvbSB0aGUgcXVldWUgYW5kIHJ1bnMgaXQgaWYgcG9zc2libGUuXHJcbiAgICpcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIFtrUnVuXSgpIHtcclxuICAgIGlmICh0aGlzLnBlbmRpbmcgPT09IHRoaXMuY29uY3VycmVuY3kpIHJldHVybjtcclxuXHJcbiAgICBpZiAodGhpcy5qb2JzLmxlbmd0aCkge1xyXG4gICAgICBjb25zdCBqb2IgPSB0aGlzLmpvYnMuc2hpZnQoKTtcclxuXHJcbiAgICAgIHRoaXMucGVuZGluZysrO1xyXG4gICAgICBqb2IodGhpc1trRG9uZV0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBMaW1pdGVyO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/limiter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/permessage-deflate.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/permessage-deflate.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\r\n\r\nconst bufferUtil = __webpack_require__(/*! ./buffer-util */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/buffer-util.js\");\r\nconst Limiter = __webpack_require__(/*! ./limiter */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/limiter.js\");\r\nconst { kStatusCode } = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\");\r\n\r\nconst FastBuffer = Buffer[Symbol.species];\r\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\r\nconst kPerMessageDeflate = Symbol('permessage-deflate');\r\nconst kTotalLength = Symbol('total-length');\r\nconst kCallback = Symbol('callback');\r\nconst kBuffers = Symbol('buffers');\r\nconst kError = Symbol('error');\r\n\r\n//\r\n// We limit zlib concurrency, which prevents severe memory fragmentation\r\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\r\n// and https://github.com/websockets/ws/issues/1202\r\n//\r\n// Intentionally global; it's the global thread pool that's an issue.\r\n//\r\nlet zlibLimiter;\r\n\r\n/**\r\n * permessage-deflate implementation.\r\n */\r\nclass PerMessageDeflate {\r\n  /**\r\n   * Creates a PerMessageDeflate instance.\r\n   *\r\n   * @param {Object} [options] Configuration options\r\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\r\n   *     for, or request, a custom client window size\r\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\r\n   *     acknowledge disabling of client context takeover\r\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\r\n   *     calls to zlib\r\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\r\n   *     use of a custom server window size\r\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\r\n   *     disabling of server context takeover\r\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\r\n   *     messages should not be compressed if context takeover is disabled\r\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\r\n   *     deflate\r\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\r\n   *     inflate\r\n   * @param {Boolean} [isServer=false] Create the instance in either server or\r\n   *     client mode\r\n   * @param {Number} [maxPayload=0] The maximum allowed message length\r\n   */\r\n  constructor(options, isServer, maxPayload) {\r\n    this._maxPayload = maxPayload | 0;\r\n    this._options = options || {};\r\n    this._threshold =\r\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\r\n    this._isServer = !!isServer;\r\n    this._deflate = null;\r\n    this._inflate = null;\r\n\r\n    this.params = null;\r\n\r\n    if (!zlibLimiter) {\r\n      const concurrency =\r\n        this._options.concurrencyLimit !== undefined\r\n          ? this._options.concurrencyLimit\r\n          : 10;\r\n      zlibLimiter = new Limiter(concurrency);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  static get extensionName() {\r\n    return 'permessage-deflate';\r\n  }\r\n\r\n  /**\r\n   * Create an extension negotiation offer.\r\n   *\r\n   * @return {Object} Extension parameters\r\n   * @public\r\n   */\r\n  offer() {\r\n    const params = {};\r\n\r\n    if (this._options.serverNoContextTakeover) {\r\n      params.server_no_context_takeover = true;\r\n    }\r\n    if (this._options.clientNoContextTakeover) {\r\n      params.client_no_context_takeover = true;\r\n    }\r\n    if (this._options.serverMaxWindowBits) {\r\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\r\n    }\r\n    if (this._options.clientMaxWindowBits) {\r\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\r\n    } else if (this._options.clientMaxWindowBits == null) {\r\n      params.client_max_window_bits = true;\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  /**\r\n   * Accept an extension negotiation offer/response.\r\n   *\r\n   * @param {Array} configurations The extension negotiation offers/reponse\r\n   * @return {Object} Accepted configuration\r\n   * @public\r\n   */\r\n  accept(configurations) {\r\n    configurations = this.normalizeParams(configurations);\r\n\r\n    this.params = this._isServer\r\n      ? this.acceptAsServer(configurations)\r\n      : this.acceptAsClient(configurations);\r\n\r\n    return this.params;\r\n  }\r\n\r\n  /**\r\n   * Releases all resources used by the extension.\r\n   *\r\n   * @public\r\n   */\r\n  cleanup() {\r\n    if (this._inflate) {\r\n      this._inflate.close();\r\n      this._inflate = null;\r\n    }\r\n\r\n    if (this._deflate) {\r\n      const callback = this._deflate[kCallback];\r\n\r\n      this._deflate.close();\r\n      this._deflate = null;\r\n\r\n      if (callback) {\r\n        callback(\r\n          new Error(\r\n            'The deflate stream was closed while data was being processed'\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  Accept an extension negotiation offer.\r\n   *\r\n   * @param {Array} offers The extension negotiation offers\r\n   * @return {Object} Accepted configuration\r\n   * @private\r\n   */\r\n  acceptAsServer(offers) {\r\n    const opts = this._options;\r\n    const accepted = offers.find((params) => {\r\n      if (\r\n        (opts.serverNoContextTakeover === false &&\r\n          params.server_no_context_takeover) ||\r\n        (params.server_max_window_bits &&\r\n          (opts.serverMaxWindowBits === false ||\r\n            (typeof opts.serverMaxWindowBits === 'number' &&\r\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\r\n        (typeof opts.clientMaxWindowBits === 'number' &&\r\n          !params.client_max_window_bits)\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    if (!accepted) {\r\n      throw new Error('None of the extension offers can be accepted');\r\n    }\r\n\r\n    if (opts.serverNoContextTakeover) {\r\n      accepted.server_no_context_takeover = true;\r\n    }\r\n    if (opts.clientNoContextTakeover) {\r\n      accepted.client_no_context_takeover = true;\r\n    }\r\n    if (typeof opts.serverMaxWindowBits === 'number') {\r\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\r\n    }\r\n    if (typeof opts.clientMaxWindowBits === 'number') {\r\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\r\n    } else if (\r\n      accepted.client_max_window_bits === true ||\r\n      opts.clientMaxWindowBits === false\r\n    ) {\r\n      delete accepted.client_max_window_bits;\r\n    }\r\n\r\n    return accepted;\r\n  }\r\n\r\n  /**\r\n   * Accept the extension negotiation response.\r\n   *\r\n   * @param {Array} response The extension negotiation response\r\n   * @return {Object} Accepted configuration\r\n   * @private\r\n   */\r\n  acceptAsClient(response) {\r\n    const params = response[0];\r\n\r\n    if (\r\n      this._options.clientNoContextTakeover === false &&\r\n      params.client_no_context_takeover\r\n    ) {\r\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\r\n    }\r\n\r\n    if (!params.client_max_window_bits) {\r\n      if (typeof this._options.clientMaxWindowBits === 'number') {\r\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\r\n      }\r\n    } else if (\r\n      this._options.clientMaxWindowBits === false ||\r\n      (typeof this._options.clientMaxWindowBits === 'number' &&\r\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\r\n    ) {\r\n      throw new Error(\r\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\r\n      );\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  /**\r\n   * Normalize parameters.\r\n   *\r\n   * @param {Array} configurations The extension negotiation offers/reponse\r\n   * @return {Array} The offers/response with normalized parameters\r\n   * @private\r\n   */\r\n  normalizeParams(configurations) {\r\n    configurations.forEach((params) => {\r\n      Object.keys(params).forEach((key) => {\r\n        let value = params[key];\r\n\r\n        if (value.length > 1) {\r\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\r\n        }\r\n\r\n        value = value[0];\r\n\r\n        if (key === 'client_max_window_bits') {\r\n          if (value !== true) {\r\n            const num = +value;\r\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\r\n              throw new TypeError(\r\n                `Invalid value for parameter \"${key}\": ${value}`\r\n              );\r\n            }\r\n            value = num;\r\n          } else if (!this._isServer) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n        } else if (key === 'server_max_window_bits') {\r\n          const num = +value;\r\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n          value = num;\r\n        } else if (\r\n          key === 'client_no_context_takeover' ||\r\n          key === 'server_no_context_takeover'\r\n        ) {\r\n          if (value !== true) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n        } else {\r\n          throw new Error(`Unknown parameter \"${key}\"`);\r\n        }\r\n\r\n        params[key] = value;\r\n      });\r\n    });\r\n\r\n    return configurations;\r\n  }\r\n\r\n  /**\r\n   * Decompress data. Concurrency limited.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @public\r\n   */\r\n  decompress(data, fin, callback) {\r\n    zlibLimiter.add((done) => {\r\n      this._decompress(data, fin, (err, result) => {\r\n        done();\r\n        callback(err, result);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Compress data. Concurrency limited.\r\n   *\r\n   * @param {(Buffer|String)} data Data to compress\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @public\r\n   */\r\n  compress(data, fin, callback) {\r\n    zlibLimiter.add((done) => {\r\n      this._compress(data, fin, (err, result) => {\r\n        done();\r\n        callback(err, result);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Decompress data.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @private\r\n   */\r\n  _decompress(data, fin, callback) {\r\n    const endpoint = this._isServer ? 'client' : 'server';\r\n\r\n    if (!this._inflate) {\r\n      const key = `${endpoint}_max_window_bits`;\r\n      const windowBits =\r\n        typeof this.params[key] !== 'number'\r\n          ? zlib.Z_DEFAULT_WINDOWBITS\r\n          : this.params[key];\r\n\r\n      this._inflate = zlib.createInflateRaw({\r\n        ...this._options.zlibInflateOptions,\r\n        windowBits\r\n      });\r\n      this._inflate[kPerMessageDeflate] = this;\r\n      this._inflate[kTotalLength] = 0;\r\n      this._inflate[kBuffers] = [];\r\n      this._inflate.on('error', inflateOnError);\r\n      this._inflate.on('data', inflateOnData);\r\n    }\r\n\r\n    this._inflate[kCallback] = callback;\r\n\r\n    this._inflate.write(data);\r\n    if (fin) this._inflate.write(TRAILER);\r\n\r\n    this._inflate.flush(() => {\r\n      const err = this._inflate[kError];\r\n\r\n      if (err) {\r\n        this._inflate.close();\r\n        this._inflate = null;\r\n        callback(err);\r\n        return;\r\n      }\r\n\r\n      const data = bufferUtil.concat(\r\n        this._inflate[kBuffers],\r\n        this._inflate[kTotalLength]\r\n      );\r\n\r\n      if (this._inflate._readableState.endEmitted) {\r\n        this._inflate.close();\r\n        this._inflate = null;\r\n      } else {\r\n        this._inflate[kTotalLength] = 0;\r\n        this._inflate[kBuffers] = [];\r\n\r\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\r\n          this._inflate.reset();\r\n        }\r\n      }\r\n\r\n      callback(null, data);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Compress data.\r\n   *\r\n   * @param {(Buffer|String)} data Data to compress\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @private\r\n   */\r\n  _compress(data, fin, callback) {\r\n    const endpoint = this._isServer ? 'server' : 'client';\r\n\r\n    if (!this._deflate) {\r\n      const key = `${endpoint}_max_window_bits`;\r\n      const windowBits =\r\n        typeof this.params[key] !== 'number'\r\n          ? zlib.Z_DEFAULT_WINDOWBITS\r\n          : this.params[key];\r\n\r\n      this._deflate = zlib.createDeflateRaw({\r\n        ...this._options.zlibDeflateOptions,\r\n        windowBits\r\n      });\r\n\r\n      this._deflate[kTotalLength] = 0;\r\n      this._deflate[kBuffers] = [];\r\n\r\n      this._deflate.on('data', deflateOnData);\r\n    }\r\n\r\n    this._deflate[kCallback] = callback;\r\n\r\n    this._deflate.write(data);\r\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\r\n      if (!this._deflate) {\r\n        //\r\n        // The deflate stream was closed while data was being processed.\r\n        //\r\n        return;\r\n      }\r\n\r\n      let data = bufferUtil.concat(\r\n        this._deflate[kBuffers],\r\n        this._deflate[kTotalLength]\r\n      );\r\n\r\n      if (fin) {\r\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\r\n      }\r\n\r\n      //\r\n      // Ensure that the callback will not be called again in\r\n      // `PerMessageDeflate#cleanup()`.\r\n      //\r\n      this._deflate[kCallback] = null;\r\n\r\n      this._deflate[kTotalLength] = 0;\r\n      this._deflate[kBuffers] = [];\r\n\r\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\r\n        this._deflate.reset();\r\n      }\r\n\r\n      callback(null, data);\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = PerMessageDeflate;\r\n\r\n/**\r\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction deflateOnData(chunk) {\r\n  this[kBuffers].push(chunk);\r\n  this[kTotalLength] += chunk.length;\r\n}\r\n\r\n/**\r\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction inflateOnData(chunk) {\r\n  this[kTotalLength] += chunk.length;\r\n\r\n  if (\r\n    this[kPerMessageDeflate]._maxPayload < 1 ||\r\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\r\n  ) {\r\n    this[kBuffers].push(chunk);\r\n    return;\r\n  }\r\n\r\n  this[kError] = new RangeError('Max payload size exceeded');\r\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\r\n  this[kError][kStatusCode] = 1009;\r\n  this.removeListener('data', inflateOnData);\r\n  this.reset();\r\n}\r\n\r\n/**\r\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\r\n *\r\n * @param {Error} err The emitted error\r\n * @private\r\n */\r\nfunction inflateOnError(err) {\r\n  //\r\n  // There is no need to call `Zlib#close()` as the handle is automatically\r\n  // closed when an error is emitted.\r\n  //\r\n  this[kPerMessageDeflate]._inflate = null;\r\n  err[kStatusCode] = 1007;\r\n  this[kCallback](err);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3Blcm1lc3NhZ2UtZGVmbGF0ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsMkdBQWU7QUFDMUMsZ0JBQWdCLG1CQUFPLENBQUMsbUdBQVc7QUFDbkMsUUFBUSxjQUFjLEVBQUUsbUJBQU8sQ0FBQyx1R0FBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsSUFBSTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsSUFBSSxLQUFLLE1BQU07QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsOENBQThDLElBQUksS0FBSyxNQUFNO0FBQzdEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsOENBQThDLElBQUksS0FBSyxNQUFNO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLElBQUksS0FBSyxNQUFNO0FBQzdEO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZ0RBQWdELElBQUk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxTQUFTO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCLGFBQWEsU0FBUztBQUN0QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsU0FBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmVyY2VsK3Bvc3RncmVzQDAuOC4wL25vZGVfbW9kdWxlcy93cy9saWIvcGVybWVzc2FnZS1kZWZsYXRlLmpzPzIxNDIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgemxpYiA9IHJlcXVpcmUoJ3psaWInKTtcclxuXHJcbmNvbnN0IGJ1ZmZlclV0aWwgPSByZXF1aXJlKCcuL2J1ZmZlci11dGlsJyk7XHJcbmNvbnN0IExpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXInKTtcclxuY29uc3QgeyBrU3RhdHVzQ29kZSB9ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcclxuXHJcbmNvbnN0IEZhc3RCdWZmZXIgPSBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdO1xyXG5jb25zdCBUUkFJTEVSID0gQnVmZmVyLmZyb20oWzB4MDAsIDB4MDAsIDB4ZmYsIDB4ZmZdKTtcclxuY29uc3Qga1Blck1lc3NhZ2VEZWZsYXRlID0gU3ltYm9sKCdwZXJtZXNzYWdlLWRlZmxhdGUnKTtcclxuY29uc3Qga1RvdGFsTGVuZ3RoID0gU3ltYm9sKCd0b3RhbC1sZW5ndGgnKTtcclxuY29uc3Qga0NhbGxiYWNrID0gU3ltYm9sKCdjYWxsYmFjaycpO1xyXG5jb25zdCBrQnVmZmVycyA9IFN5bWJvbCgnYnVmZmVycycpO1xyXG5jb25zdCBrRXJyb3IgPSBTeW1ib2woJ2Vycm9yJyk7XHJcblxyXG4vL1xyXG4vLyBXZSBsaW1pdCB6bGliIGNvbmN1cnJlbmN5LCB3aGljaCBwcmV2ZW50cyBzZXZlcmUgbWVtb3J5IGZyYWdtZW50YXRpb25cclxuLy8gYXMgZG9jdW1lbnRlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzg4NzEjaXNzdWVjb21tZW50LTI1MDkxNTkxM1xyXG4vLyBhbmQgaHR0cHM6Ly9naXRodWIuY29tL3dlYnNvY2tldHMvd3MvaXNzdWVzLzEyMDJcclxuLy9cclxuLy8gSW50ZW50aW9uYWxseSBnbG9iYWw7IGl0J3MgdGhlIGdsb2JhbCB0aHJlYWQgcG9vbCB0aGF0J3MgYW4gaXNzdWUuXHJcbi8vXHJcbmxldCB6bGliTGltaXRlcjtcclxuXHJcbi8qKlxyXG4gKiBwZXJtZXNzYWdlLWRlZmxhdGUgaW1wbGVtZW50YXRpb24uXHJcbiAqL1xyXG5jbGFzcyBQZXJNZXNzYWdlRGVmbGF0ZSB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIFBlck1lc3NhZ2VEZWZsYXRlIGluc3RhbmNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBDb25maWd1cmF0aW9uIG9wdGlvbnNcclxuICAgKiBAcGFyYW0geyhCb29sZWFufE51bWJlcil9IFtvcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHNdIEFkdmVydGlzZSBzdXBwb3J0XHJcbiAgICogICAgIGZvciwgb3IgcmVxdWVzdCwgYSBjdXN0b20gY2xpZW50IHdpbmRvdyBzaXplXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jbGllbnROb0NvbnRleHRUYWtlb3Zlcj1mYWxzZV0gQWR2ZXJ0aXNlL1xyXG4gICAqICAgICBhY2tub3dsZWRnZSBkaXNhYmxpbmcgb2YgY2xpZW50IGNvbnRleHQgdGFrZW92ZXJcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29uY3VycmVuY3lMaW1pdD0xMF0gVGhlIG51bWJlciBvZiBjb25jdXJyZW50XHJcbiAgICogICAgIGNhbGxzIHRvIHpsaWJcclxuICAgKiBAcGFyYW0geyhCb29sZWFufE51bWJlcil9IFtvcHRpb25zLnNlcnZlck1heFdpbmRvd0JpdHNdIFJlcXVlc3QvY29uZmlybSB0aGVcclxuICAgKiAgICAgdXNlIG9mIGEgY3VzdG9tIHNlcnZlciB3aW5kb3cgc2l6ZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2VydmVyTm9Db250ZXh0VGFrZW92ZXI9ZmFsc2VdIFJlcXVlc3QvYWNjZXB0XHJcbiAgICogICAgIGRpc2FibGluZyBvZiBzZXJ2ZXIgY29udGV4dCB0YWtlb3ZlclxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50aHJlc2hvbGQ9MTAyNF0gU2l6ZSAoaW4gYnl0ZXMpIGJlbG93IHdoaWNoXHJcbiAgICogICAgIG1lc3NhZ2VzIHNob3VsZCBub3QgYmUgY29tcHJlc3NlZCBpZiBjb250ZXh0IHRha2VvdmVyIGlzIGRpc2FibGVkXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnpsaWJEZWZsYXRlT3B0aW9uc10gT3B0aW9ucyB0byBwYXNzIHRvIHpsaWIgb25cclxuICAgKiAgICAgZGVmbGF0ZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy56bGliSW5mbGF0ZU9wdGlvbnNdIE9wdGlvbnMgdG8gcGFzcyB0byB6bGliIG9uXHJcbiAgICogICAgIGluZmxhdGVcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpc1NlcnZlcj1mYWxzZV0gQ3JlYXRlIHRoZSBpbnN0YW5jZSBpbiBlaXRoZXIgc2VydmVyIG9yXHJcbiAgICogICAgIGNsaWVudCBtb2RlXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhQYXlsb2FkPTBdIFRoZSBtYXhpbXVtIGFsbG93ZWQgbWVzc2FnZSBsZW5ndGhcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBpc1NlcnZlciwgbWF4UGF5bG9hZCkge1xyXG4gICAgdGhpcy5fbWF4UGF5bG9hZCA9IG1heFBheWxvYWQgfCAwO1xyXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICB0aGlzLl90aHJlc2hvbGQgPVxyXG4gICAgICB0aGlzLl9vcHRpb25zLnRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5fb3B0aW9ucy50aHJlc2hvbGQgOiAxMDI0O1xyXG4gICAgdGhpcy5faXNTZXJ2ZXIgPSAhIWlzU2VydmVyO1xyXG4gICAgdGhpcy5fZGVmbGF0ZSA9IG51bGw7XHJcbiAgICB0aGlzLl9pbmZsYXRlID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnBhcmFtcyA9IG51bGw7XHJcblxyXG4gICAgaWYgKCF6bGliTGltaXRlcikge1xyXG4gICAgICBjb25zdCBjb25jdXJyZW5jeSA9XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5jb25jdXJyZW5jeUxpbWl0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5jb25jdXJyZW5jeUxpbWl0XHJcbiAgICAgICAgICA6IDEwO1xyXG4gICAgICB6bGliTGltaXRlciA9IG5ldyBMaW1pdGVyKGNvbmN1cnJlbmN5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgc3RhdGljIGdldCBleHRlbnNpb25OYW1lKCkge1xyXG4gICAgcmV0dXJuICdwZXJtZXNzYWdlLWRlZmxhdGUnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGFuIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlci5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gRXh0ZW5zaW9uIHBhcmFtZXRlcnNcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgb2ZmZXIoKSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSB7fTtcclxuXHJcbiAgICBpZiAodGhpcy5fb3B0aW9ucy5zZXJ2ZXJOb0NvbnRleHRUYWtlb3Zlcikge1xyXG4gICAgICBwYXJhbXMuc2VydmVyX25vX2NvbnRleHRfdGFrZW92ZXIgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX29wdGlvbnMuY2xpZW50Tm9Db250ZXh0VGFrZW92ZXIpIHtcclxuICAgICAgcGFyYW1zLmNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLl9vcHRpb25zLnNlcnZlck1heFdpbmRvd0JpdHMpIHtcclxuICAgICAgcGFyYW1zLnNlcnZlcl9tYXhfd2luZG93X2JpdHMgPSB0aGlzLl9vcHRpb25zLnNlcnZlck1heFdpbmRvd0JpdHM7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzKSB7XHJcbiAgICAgIHBhcmFtcy5jbGllbnRfbWF4X3dpbmRvd19iaXRzID0gdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHMgPT0gbnVsbCkge1xyXG4gICAgICBwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBhcmFtcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjY2VwdCBhbiBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXIvcmVzcG9uc2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5fSBjb25maWd1cmF0aW9ucyBUaGUgZXh0ZW5zaW9uIG5lZ290aWF0aW9uIG9mZmVycy9yZXBvbnNlXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBBY2NlcHRlZCBjb25maWd1cmF0aW9uXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIGFjY2VwdChjb25maWd1cmF0aW9ucykge1xyXG4gICAgY29uZmlndXJhdGlvbnMgPSB0aGlzLm5vcm1hbGl6ZVBhcmFtcyhjb25maWd1cmF0aW9ucyk7XHJcblxyXG4gICAgdGhpcy5wYXJhbXMgPSB0aGlzLl9pc1NlcnZlclxyXG4gICAgICA/IHRoaXMuYWNjZXB0QXNTZXJ2ZXIoY29uZmlndXJhdGlvbnMpXHJcbiAgICAgIDogdGhpcy5hY2NlcHRBc0NsaWVudChjb25maWd1cmF0aW9ucyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucGFyYW1zO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVsZWFzZXMgYWxsIHJlc291cmNlcyB1c2VkIGJ5IHRoZSBleHRlbnNpb24uXHJcbiAgICpcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgY2xlYW51cCgpIHtcclxuICAgIGlmICh0aGlzLl9pbmZsYXRlKSB7XHJcbiAgICAgIHRoaXMuX2luZmxhdGUuY2xvc2UoKTtcclxuICAgICAgdGhpcy5faW5mbGF0ZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2RlZmxhdGUpIHtcclxuICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLl9kZWZsYXRlW2tDYWxsYmFja107XHJcblxyXG4gICAgICB0aGlzLl9kZWZsYXRlLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMuX2RlZmxhdGUgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY2FsbGJhY2soXHJcbiAgICAgICAgICBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICdUaGUgZGVmbGF0ZSBzdHJlYW0gd2FzIGNsb3NlZCB3aGlsZSBkYXRhIHdhcyBiZWluZyBwcm9jZXNzZWQnXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogIEFjY2VwdCBhbiBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5fSBvZmZlcnMgVGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlcnNcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFjY2VwdGVkIGNvbmZpZ3VyYXRpb25cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGFjY2VwdEFzU2VydmVyKG9mZmVycykge1xyXG4gICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XHJcbiAgICBjb25zdCBhY2NlcHRlZCA9IG9mZmVycy5maW5kKChwYXJhbXMpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIChvcHRzLnNlcnZlck5vQ29udGV4dFRha2VvdmVyID09PSBmYWxzZSAmJlxyXG4gICAgICAgICAgcGFyYW1zLnNlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyKSB8fFxyXG4gICAgICAgIChwYXJhbXMuc2VydmVyX21heF93aW5kb3dfYml0cyAmJlxyXG4gICAgICAgICAgKG9wdHMuc2VydmVyTWF4V2luZG93Qml0cyA9PT0gZmFsc2UgfHxcclxuICAgICAgICAgICAgKHR5cGVvZiBvcHRzLnNlcnZlck1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInICYmXHJcbiAgICAgICAgICAgICAgb3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzID4gcGFyYW1zLnNlcnZlcl9tYXhfd2luZG93X2JpdHMpKSkgfHxcclxuICAgICAgICAodHlwZW9mIG9wdHMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicgJiZcclxuICAgICAgICAgICFwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cylcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghYWNjZXB0ZWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb25lIG9mIHRoZSBleHRlbnNpb24gb2ZmZXJzIGNhbiBiZSBhY2NlcHRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRzLnNlcnZlck5vQ29udGV4dFRha2VvdmVyKSB7XHJcbiAgICAgIGFjY2VwdGVkLnNlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChvcHRzLmNsaWVudE5vQ29udGV4dFRha2VvdmVyKSB7XHJcbiAgICAgIGFjY2VwdGVkLmNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygb3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzID09PSAnbnVtYmVyJykge1xyXG4gICAgICBhY2NlcHRlZC5zZXJ2ZXJfbWF4X3dpbmRvd19iaXRzID0gb3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBvcHRzLmNsaWVudE1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInKSB7XHJcbiAgICAgIGFjY2VwdGVkLmNsaWVudF9tYXhfd2luZG93X2JpdHMgPSBvcHRzLmNsaWVudE1heFdpbmRvd0JpdHM7XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICBhY2NlcHRlZC5jbGllbnRfbWF4X3dpbmRvd19iaXRzID09PSB0cnVlIHx8XHJcbiAgICAgIG9wdHMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gZmFsc2VcclxuICAgICkge1xyXG4gICAgICBkZWxldGUgYWNjZXB0ZWQuY2xpZW50X21heF93aW5kb3dfYml0cztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWNjZXB0ZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBY2NlcHQgdGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiByZXNwb25zZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJlc3BvbnNlIFRoZSBleHRlbnNpb24gbmVnb3RpYXRpb24gcmVzcG9uc2VcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFjY2VwdGVkIGNvbmZpZ3VyYXRpb25cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGFjY2VwdEFzQ2xpZW50KHJlc3BvbnNlKSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSByZXNwb25zZVswXTtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuX29wdGlvbnMuY2xpZW50Tm9Db250ZXh0VGFrZW92ZXIgPT09IGZhbHNlICYmXHJcbiAgICAgIHBhcmFtcy5jbGllbnRfbm9fY29udGV4dF90YWtlb3ZlclxyXG4gICAgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBwYXJhbWV0ZXIgXCJjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlclwiJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cykge1xyXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cyA9IHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzID09PSBmYWxzZSB8fFxyXG4gICAgICAodHlwZW9mIHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicgJiZcclxuICAgICAgICBwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cyA+IHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cylcclxuICAgICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgJ1VuZXhwZWN0ZWQgb3IgaW52YWxpZCBwYXJhbWV0ZXIgXCJjbGllbnRfbWF4X3dpbmRvd19iaXRzXCInXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBhcmFtcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vcm1hbGl6ZSBwYXJhbWV0ZXJzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheX0gY29uZmlndXJhdGlvbnMgVGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlcnMvcmVwb25zZVxyXG4gICAqIEByZXR1cm4ge0FycmF5fSBUaGUgb2ZmZXJzL3Jlc3BvbnNlIHdpdGggbm9ybWFsaXplZCBwYXJhbWV0ZXJzXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBub3JtYWxpemVQYXJhbXMoY29uZmlndXJhdGlvbnMpIHtcclxuICAgIGNvbmZpZ3VyYXRpb25zLmZvckVhY2goKHBhcmFtcykgPT4ge1xyXG4gICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcmFtc1trZXldO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJhbWV0ZXIgXCIke2tleX1cIiBtdXN0IGhhdmUgb25seSBhIHNpbmdsZSB2YWx1ZWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVswXTtcclxuXHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsaWVudF9tYXhfd2luZG93X2JpdHMnKSB7XHJcbiAgICAgICAgICBpZiAodmFsdWUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtID0gK3ZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobnVtKSB8fCBudW0gPCA4IHx8IG51bSA+IDE1KSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgICAgICAgICAgICAgIGBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgXCIke2tleX1cIjogJHt2YWx1ZX1gXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YWx1ZSA9IG51bTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2VydmVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXHJcbiAgICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcIiR7a2V5fVwiOiAke3ZhbHVlfWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NlcnZlcl9tYXhfd2luZG93X2JpdHMnKSB7XHJcbiAgICAgICAgICBjb25zdCBudW0gPSArdmFsdWU7XHJcbiAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobnVtKSB8fCBudW0gPCA4IHx8IG51bSA+IDE1KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXHJcbiAgICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcIiR7a2V5fVwiOiAke3ZhbHVlfWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhbHVlID0gbnVtO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICBrZXkgPT09ICdjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlcicgfHxcclxuICAgICAgICAgIGtleSA9PT0gJ3NlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXHJcbiAgICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcIiR7a2V5fVwiOiAke3ZhbHVlfWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHBhcmFtZXRlciBcIiR7a2V5fVwiYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBjb25maWd1cmF0aW9ucztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlY29tcHJlc3MgZGF0YS4gQ29uY3VycmVuY3kgbGltaXRlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIENvbXByZXNzZWQgZGF0YVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgZGVjb21wcmVzcyhkYXRhLCBmaW4sIGNhbGxiYWNrKSB7XHJcbiAgICB6bGliTGltaXRlci5hZGQoKGRvbmUpID0+IHtcclxuICAgICAgdGhpcy5fZGVjb21wcmVzcyhkYXRhLCBmaW4sIChlcnIsIHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGRvbmUoKTtcclxuICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcmVzcyBkYXRhLiBDb25jdXJyZW5jeSBsaW1pdGVkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsoQnVmZmVyfFN0cmluZyl9IGRhdGEgRGF0YSB0byBjb21wcmVzc1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgY29tcHJlc3MoZGF0YSwgZmluLCBjYWxsYmFjaykge1xyXG4gICAgemxpYkxpbWl0ZXIuYWRkKChkb25lKSA9PiB7XHJcbiAgICAgIHRoaXMuX2NvbXByZXNzKGRhdGEsIGZpbiwgKGVyciwgcmVzdWx0KSA9PiB7XHJcbiAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlY29tcHJlc3MgZGF0YS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIENvbXByZXNzZWQgZGF0YVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9kZWNvbXByZXNzKGRhdGEsIGZpbiwgY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5faXNTZXJ2ZXIgPyAnY2xpZW50JyA6ICdzZXJ2ZXInO1xyXG5cclxuICAgIGlmICghdGhpcy5faW5mbGF0ZSkge1xyXG4gICAgICBjb25zdCBrZXkgPSBgJHtlbmRwb2ludH1fbWF4X3dpbmRvd19iaXRzYDtcclxuICAgICAgY29uc3Qgd2luZG93Qml0cyA9XHJcbiAgICAgICAgdHlwZW9mIHRoaXMucGFyYW1zW2tleV0gIT09ICdudW1iZXInXHJcbiAgICAgICAgICA/IHpsaWIuWl9ERUZBVUxUX1dJTkRPV0JJVFNcclxuICAgICAgICAgIDogdGhpcy5wYXJhbXNba2V5XTtcclxuXHJcbiAgICAgIHRoaXMuX2luZmxhdGUgPSB6bGliLmNyZWF0ZUluZmxhdGVSYXcoe1xyXG4gICAgICAgIC4uLnRoaXMuX29wdGlvbnMuemxpYkluZmxhdGVPcHRpb25zLFxyXG4gICAgICAgIHdpbmRvd0JpdHNcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuX2luZmxhdGVba1Blck1lc3NhZ2VEZWZsYXRlXSA9IHRoaXM7XHJcbiAgICAgIHRoaXMuX2luZmxhdGVba1RvdGFsTGVuZ3RoXSA9IDA7XHJcbiAgICAgIHRoaXMuX2luZmxhdGVba0J1ZmZlcnNdID0gW107XHJcbiAgICAgIHRoaXMuX2luZmxhdGUub24oJ2Vycm9yJywgaW5mbGF0ZU9uRXJyb3IpO1xyXG4gICAgICB0aGlzLl9pbmZsYXRlLm9uKCdkYXRhJywgaW5mbGF0ZU9uRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faW5mbGF0ZVtrQ2FsbGJhY2tdID0gY2FsbGJhY2s7XHJcblxyXG4gICAgdGhpcy5faW5mbGF0ZS53cml0ZShkYXRhKTtcclxuICAgIGlmIChmaW4pIHRoaXMuX2luZmxhdGUud3JpdGUoVFJBSUxFUik7XHJcblxyXG4gICAgdGhpcy5faW5mbGF0ZS5mbHVzaCgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVyciA9IHRoaXMuX2luZmxhdGVba0Vycm9yXTtcclxuXHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICB0aGlzLl9pbmZsYXRlLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5faW5mbGF0ZSA9IG51bGw7XHJcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBidWZmZXJVdGlsLmNvbmNhdChcclxuICAgICAgICB0aGlzLl9pbmZsYXRlW2tCdWZmZXJzXSxcclxuICAgICAgICB0aGlzLl9pbmZsYXRlW2tUb3RhbExlbmd0aF1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLl9pbmZsYXRlLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQpIHtcclxuICAgICAgICB0aGlzLl9pbmZsYXRlLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5faW5mbGF0ZSA9IG51bGw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5faW5mbGF0ZVtrVG90YWxMZW5ndGhdID0gMDtcclxuICAgICAgICB0aGlzLl9pbmZsYXRlW2tCdWZmZXJzXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoZmluICYmIHRoaXMucGFyYW1zW2Ake2VuZHBvaW50fV9ub19jb250ZXh0X3Rha2VvdmVyYF0pIHtcclxuICAgICAgICAgIHRoaXMuX2luZmxhdGUucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNhbGxiYWNrKG51bGwsIGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcmVzcyBkYXRhLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsoQnVmZmVyfFN0cmluZyl9IGRhdGEgRGF0YSB0byBjb21wcmVzc1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jb21wcmVzcyhkYXRhLCBmaW4sIGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuX2lzU2VydmVyID8gJ3NlcnZlcicgOiAnY2xpZW50JztcclxuXHJcbiAgICBpZiAoIXRoaXMuX2RlZmxhdGUpIHtcclxuICAgICAgY29uc3Qga2V5ID0gYCR7ZW5kcG9pbnR9X21heF93aW5kb3dfYml0c2A7XHJcbiAgICAgIGNvbnN0IHdpbmRvd0JpdHMgPVxyXG4gICAgICAgIHR5cGVvZiB0aGlzLnBhcmFtc1trZXldICE9PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgPyB6bGliLlpfREVGQVVMVF9XSU5ET1dCSVRTXHJcbiAgICAgICAgICA6IHRoaXMucGFyYW1zW2tleV07XHJcblxyXG4gICAgICB0aGlzLl9kZWZsYXRlID0gemxpYi5jcmVhdGVEZWZsYXRlUmF3KHtcclxuICAgICAgICAuLi50aGlzLl9vcHRpb25zLnpsaWJEZWZsYXRlT3B0aW9ucyxcclxuICAgICAgICB3aW5kb3dCaXRzXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5fZGVmbGF0ZVtrVG90YWxMZW5ndGhdID0gMDtcclxuICAgICAgdGhpcy5fZGVmbGF0ZVtrQnVmZmVyc10gPSBbXTtcclxuXHJcbiAgICAgIHRoaXMuX2RlZmxhdGUub24oJ2RhdGEnLCBkZWZsYXRlT25EYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9kZWZsYXRlW2tDYWxsYmFja10gPSBjYWxsYmFjaztcclxuXHJcbiAgICB0aGlzLl9kZWZsYXRlLndyaXRlKGRhdGEpO1xyXG4gICAgdGhpcy5fZGVmbGF0ZS5mbHVzaCh6bGliLlpfU1lOQ19GTFVTSCwgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuX2RlZmxhdGUpIHtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFRoZSBkZWZsYXRlIHN0cmVhbSB3YXMgY2xvc2VkIHdoaWxlIGRhdGEgd2FzIGJlaW5nIHByb2Nlc3NlZC5cclxuICAgICAgICAvL1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGRhdGEgPSBidWZmZXJVdGlsLmNvbmNhdChcclxuICAgICAgICB0aGlzLl9kZWZsYXRlW2tCdWZmZXJzXSxcclxuICAgICAgICB0aGlzLl9kZWZsYXRlW2tUb3RhbExlbmd0aF1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChmaW4pIHtcclxuICAgICAgICBkYXRhID0gbmV3IEZhc3RCdWZmZXIoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5sZW5ndGggLSA0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9cclxuICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCBhZ2FpbiBpblxyXG4gICAgICAvLyBgUGVyTWVzc2FnZURlZmxhdGUjY2xlYW51cCgpYC5cclxuICAgICAgLy9cclxuICAgICAgdGhpcy5fZGVmbGF0ZVtrQ2FsbGJhY2tdID0gbnVsbDtcclxuXHJcbiAgICAgIHRoaXMuX2RlZmxhdGVba1RvdGFsTGVuZ3RoXSA9IDA7XHJcbiAgICAgIHRoaXMuX2RlZmxhdGVba0J1ZmZlcnNdID0gW107XHJcblxyXG4gICAgICBpZiAoZmluICYmIHRoaXMucGFyYW1zW2Ake2VuZHBvaW50fV9ub19jb250ZXh0X3Rha2VvdmVyYF0pIHtcclxuICAgICAgICB0aGlzLl9kZWZsYXRlLnJlc2V0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNhbGxiYWNrKG51bGwsIGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFBlck1lc3NhZ2VEZWZsYXRlO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYHpsaWIuRGVmbGF0ZVJhd2Agc3RyZWFtIGAnZGF0YSdgIGV2ZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmsgQSBjaHVuayBvZiBkYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWZsYXRlT25EYXRhKGNodW5rKSB7XHJcbiAgdGhpc1trQnVmZmVyc10ucHVzaChjaHVuayk7XHJcbiAgdGhpc1trVG90YWxMZW5ndGhdICs9IGNodW5rLmxlbmd0aDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYHpsaWIuSW5mbGF0ZVJhd2Agc3RyZWFtIGAnZGF0YSdgIGV2ZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmsgQSBjaHVuayBvZiBkYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBpbmZsYXRlT25EYXRhKGNodW5rKSB7XHJcbiAgdGhpc1trVG90YWxMZW5ndGhdICs9IGNodW5rLmxlbmd0aDtcclxuXHJcbiAgaWYgKFxyXG4gICAgdGhpc1trUGVyTWVzc2FnZURlZmxhdGVdLl9tYXhQYXlsb2FkIDwgMSB8fFxyXG4gICAgdGhpc1trVG90YWxMZW5ndGhdIDw9IHRoaXNba1Blck1lc3NhZ2VEZWZsYXRlXS5fbWF4UGF5bG9hZFxyXG4gICkge1xyXG4gICAgdGhpc1trQnVmZmVyc10ucHVzaChjaHVuayk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB0aGlzW2tFcnJvcl0gPSBuZXcgUmFuZ2VFcnJvcignTWF4IHBheWxvYWQgc2l6ZSBleGNlZWRlZCcpO1xyXG4gIHRoaXNba0Vycm9yXS5jb2RlID0gJ1dTX0VSUl9VTlNVUFBPUlRFRF9NRVNTQUdFX0xFTkdUSCc7XHJcbiAgdGhpc1trRXJyb3JdW2tTdGF0dXNDb2RlXSA9IDEwMDk7XHJcbiAgdGhpcy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIGluZmxhdGVPbkRhdGEpO1xyXG4gIHRoaXMucmVzZXQoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYHpsaWIuSW5mbGF0ZVJhd2Agc3RyZWFtIGAnZXJyb3InYCBldmVudC5cclxuICpcclxuICogQHBhcmFtIHtFcnJvcn0gZXJyIFRoZSBlbWl0dGVkIGVycm9yXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBpbmZsYXRlT25FcnJvcihlcnIpIHtcclxuICAvL1xyXG4gIC8vIFRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBgWmxpYiNjbG9zZSgpYCBhcyB0aGUgaGFuZGxlIGlzIGF1dG9tYXRpY2FsbHlcclxuICAvLyBjbG9zZWQgd2hlbiBhbiBlcnJvciBpcyBlbWl0dGVkLlxyXG4gIC8vXHJcbiAgdGhpc1trUGVyTWVzc2FnZURlZmxhdGVdLl9pbmZsYXRlID0gbnVsbDtcclxuICBlcnJba1N0YXR1c0NvZGVdID0gMTAwNztcclxuICB0aGlzW2tDYWxsYmFja10oZXJyKTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/permessage-deflate.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/receiver.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/receiver.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst { Writable } = __webpack_require__(/*! stream */ \"stream\");\r\n\r\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/permessage-deflate.js\");\r\nconst {\r\n  BINARY_TYPES,\r\n  EMPTY_BUFFER,\r\n  kStatusCode,\r\n  kWebSocket\r\n} = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\");\r\nconst { concat, toArrayBuffer, unmask } = __webpack_require__(/*! ./buffer-util */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/buffer-util.js\");\r\nconst { isValidStatusCode, isValidUTF8 } = __webpack_require__(/*! ./validation */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/validation.js\");\r\n\r\nconst FastBuffer = Buffer[Symbol.species];\r\nconst promise = Promise.resolve();\r\n\r\n//\r\n// `queueMicrotask()` is not available in Node.js < 11.\r\n//\r\nconst queueTask =\r\n  typeof queueMicrotask === 'function' ? queueMicrotask : queueMicrotaskShim;\r\n\r\nconst GET_INFO = 0;\r\nconst GET_PAYLOAD_LENGTH_16 = 1;\r\nconst GET_PAYLOAD_LENGTH_64 = 2;\r\nconst GET_MASK = 3;\r\nconst GET_DATA = 4;\r\nconst INFLATING = 5;\r\nconst WAIT_MICROTASK = 6;\r\n\r\n/**\r\n * HyBi Receiver implementation.\r\n *\r\n * @extends Writable\r\n */\r\nclass Receiver extends Writable {\r\n  /**\r\n   * Creates a Receiver instance.\r\n   *\r\n   * @param {Object} [options] Options object\r\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\r\n   * @param {Object} [options.extensions] An object containing the negotiated\r\n   *     extensions\r\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\r\n   *     client or server mode\r\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\r\n    this._extensions = options.extensions || {};\r\n    this._isServer = !!options.isServer;\r\n    this._maxPayload = options.maxPayload | 0;\r\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\r\n    this[kWebSocket] = undefined;\r\n\r\n    this._bufferedBytes = 0;\r\n    this._buffers = [];\r\n\r\n    this._compressed = false;\r\n    this._payloadLength = 0;\r\n    this._mask = undefined;\r\n    this._fragmented = 0;\r\n    this._masked = false;\r\n    this._fin = false;\r\n    this._opcode = 0;\r\n\r\n    this._totalPayloadLength = 0;\r\n    this._messageLength = 0;\r\n    this._fragments = [];\r\n\r\n    this._state = GET_INFO;\r\n    this._loop = false;\r\n  }\r\n\r\n  /**\r\n   * Implements `Writable.prototype._write()`.\r\n   *\r\n   * @param {Buffer} chunk The chunk of data to write\r\n   * @param {String} encoding The character encoding of `chunk`\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  _write(chunk, encoding, cb) {\r\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\r\n\r\n    this._bufferedBytes += chunk.length;\r\n    this._buffers.push(chunk);\r\n    this.startLoop(cb);\r\n  }\r\n\r\n  /**\r\n   * Consumes `n` bytes from the buffered data.\r\n   *\r\n   * @param {Number} n The number of bytes to consume\r\n   * @return {Buffer} The consumed bytes\r\n   * @private\r\n   */\r\n  consume(n) {\r\n    this._bufferedBytes -= n;\r\n\r\n    if (n === this._buffers[0].length) return this._buffers.shift();\r\n\r\n    if (n < this._buffers[0].length) {\r\n      const buf = this._buffers[0];\r\n      this._buffers[0] = new FastBuffer(\r\n        buf.buffer,\r\n        buf.byteOffset + n,\r\n        buf.length - n\r\n      );\r\n\r\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\r\n    }\r\n\r\n    const dst = Buffer.allocUnsafe(n);\r\n\r\n    do {\r\n      const buf = this._buffers[0];\r\n      const offset = dst.length - n;\r\n\r\n      if (n >= buf.length) {\r\n        dst.set(this._buffers.shift(), offset);\r\n      } else {\r\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\r\n        this._buffers[0] = new FastBuffer(\r\n          buf.buffer,\r\n          buf.byteOffset + n,\r\n          buf.length - n\r\n        );\r\n      }\r\n\r\n      n -= buf.length;\r\n    } while (n > 0);\r\n\r\n    return dst;\r\n  }\r\n\r\n  /**\r\n   * Starts the parsing loop.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  startLoop(cb) {\r\n    let err;\r\n    this._loop = true;\r\n\r\n    do {\r\n      switch (this._state) {\r\n        case GET_INFO:\r\n          err = this.getInfo();\r\n          break;\r\n        case GET_PAYLOAD_LENGTH_16:\r\n          err = this.getPayloadLength16();\r\n          break;\r\n        case GET_PAYLOAD_LENGTH_64:\r\n          err = this.getPayloadLength64();\r\n          break;\r\n        case GET_MASK:\r\n          this.getMask();\r\n          break;\r\n        case GET_DATA:\r\n          err = this.getData(cb);\r\n          break;\r\n        case INFLATING:\r\n          this._loop = false;\r\n          return;\r\n        default:\r\n          //\r\n          // `WAIT_MICROTASK`.\r\n          //\r\n          this._loop = false;\r\n\r\n          queueTask(() => {\r\n            this._state = GET_INFO;\r\n            this.startLoop(cb);\r\n          });\r\n          return;\r\n      }\r\n    } while (this._loop);\r\n\r\n    cb(err);\r\n  }\r\n\r\n  /**\r\n   * Reads the first two bytes of a frame.\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getInfo() {\r\n    if (this._bufferedBytes < 2) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    const buf = this.consume(2);\r\n\r\n    if ((buf[0] & 0x30) !== 0x00) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'RSV2 and RSV3 must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_RSV_2_3'\r\n      );\r\n    }\r\n\r\n    const compressed = (buf[0] & 0x40) === 0x40;\r\n\r\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'RSV1 must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_RSV_1'\r\n      );\r\n    }\r\n\r\n    this._fin = (buf[0] & 0x80) === 0x80;\r\n    this._opcode = buf[0] & 0x0f;\r\n    this._payloadLength = buf[1] & 0x7f;\r\n\r\n    if (this._opcode === 0x00) {\r\n      if (compressed) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'RSV1 must be clear',\r\n          true,\r\n          1002,\r\n          'WS_ERR_UNEXPECTED_RSV_1'\r\n        );\r\n      }\r\n\r\n      if (!this._fragmented) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'invalid opcode 0',\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_OPCODE'\r\n        );\r\n      }\r\n\r\n      this._opcode = this._fragmented;\r\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\r\n      if (this._fragmented) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          `invalid opcode ${this._opcode}`,\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_OPCODE'\r\n        );\r\n      }\r\n\r\n      this._compressed = compressed;\r\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\r\n      if (!this._fin) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'FIN must be set',\r\n          true,\r\n          1002,\r\n          'WS_ERR_EXPECTED_FIN'\r\n        );\r\n      }\r\n\r\n      if (compressed) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'RSV1 must be clear',\r\n          true,\r\n          1002,\r\n          'WS_ERR_UNEXPECTED_RSV_1'\r\n        );\r\n      }\r\n\r\n      if (\r\n        this._payloadLength > 0x7d ||\r\n        (this._opcode === 0x08 && this._payloadLength === 1)\r\n      ) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          `invalid payload length ${this._payloadLength}`,\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\r\n        );\r\n      }\r\n    } else {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        `invalid opcode ${this._opcode}`,\r\n        true,\r\n        1002,\r\n        'WS_ERR_INVALID_OPCODE'\r\n      );\r\n    }\r\n\r\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\r\n    this._masked = (buf[1] & 0x80) === 0x80;\r\n\r\n    if (this._isServer) {\r\n      if (!this._masked) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'MASK must be set',\r\n          true,\r\n          1002,\r\n          'WS_ERR_EXPECTED_MASK'\r\n        );\r\n      }\r\n    } else if (this._masked) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'MASK must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_MASK'\r\n      );\r\n    }\r\n\r\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\r\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\r\n    else return this.haveLength();\r\n  }\r\n\r\n  /**\r\n   * Gets extended payload length (7+16).\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getPayloadLength16() {\r\n    if (this._bufferedBytes < 2) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    this._payloadLength = this.consume(2).readUInt16BE(0);\r\n    return this.haveLength();\r\n  }\r\n\r\n  /**\r\n   * Gets extended payload length (7+64).\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getPayloadLength64() {\r\n    if (this._bufferedBytes < 8) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    const buf = this.consume(8);\r\n    const num = buf.readUInt32BE(0);\r\n\r\n    //\r\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\r\n    // if payload length is greater than this number.\r\n    //\r\n    if (num > Math.pow(2, 53 - 32) - 1) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\r\n        false,\r\n        1009,\r\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\r\n      );\r\n    }\r\n\r\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\r\n    return this.haveLength();\r\n  }\r\n\r\n  /**\r\n   * Payload length has been read.\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  haveLength() {\r\n    if (this._payloadLength && this._opcode < 0x08) {\r\n      this._totalPayloadLength += this._payloadLength;\r\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'Max payload size exceeded',\r\n          false,\r\n          1009,\r\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\r\n        );\r\n      }\r\n    }\r\n\r\n    if (this._masked) this._state = GET_MASK;\r\n    else this._state = GET_DATA;\r\n  }\r\n\r\n  /**\r\n   * Reads mask bytes.\r\n   *\r\n   * @private\r\n   */\r\n  getMask() {\r\n    if (this._bufferedBytes < 4) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    this._mask = this.consume(4);\r\n    this._state = GET_DATA;\r\n  }\r\n\r\n  /**\r\n   * Reads data bytes.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @return {(Error|RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getData(cb) {\r\n    let data = EMPTY_BUFFER;\r\n\r\n    if (this._payloadLength) {\r\n      if (this._bufferedBytes < this._payloadLength) {\r\n        this._loop = false;\r\n        return;\r\n      }\r\n\r\n      data = this.consume(this._payloadLength);\r\n\r\n      if (\r\n        this._masked &&\r\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\r\n      ) {\r\n        unmask(data, this._mask);\r\n      }\r\n    }\r\n\r\n    if (this._opcode > 0x07) return this.controlMessage(data);\r\n\r\n    if (this._compressed) {\r\n      this._state = INFLATING;\r\n      this.decompress(data, cb);\r\n      return;\r\n    }\r\n\r\n    if (data.length) {\r\n      //\r\n      // This message is not compressed so its length is the sum of the payload\r\n      // length of all fragments.\r\n      //\r\n      this._messageLength = this._totalPayloadLength;\r\n      this._fragments.push(data);\r\n    }\r\n\r\n    return this.dataMessage();\r\n  }\r\n\r\n  /**\r\n   * Decompresses data.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  decompress(data, cb) {\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\r\n\r\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\r\n      if (err) return cb(err);\r\n\r\n      if (buf.length) {\r\n        this._messageLength += buf.length;\r\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\r\n          return cb(\r\n            error(\r\n              RangeError,\r\n              'Max payload size exceeded',\r\n              false,\r\n              1009,\r\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\r\n            )\r\n          );\r\n        }\r\n\r\n        this._fragments.push(buf);\r\n      }\r\n\r\n      const er = this.dataMessage();\r\n      if (er) return cb(er);\r\n\r\n      this.startLoop(cb);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handles a data message.\r\n   *\r\n   * @return {(Error|undefined)} A possible error\r\n   * @private\r\n   */\r\n  dataMessage() {\r\n    if (this._fin) {\r\n      const messageLength = this._messageLength;\r\n      const fragments = this._fragments;\r\n\r\n      this._totalPayloadLength = 0;\r\n      this._messageLength = 0;\r\n      this._fragmented = 0;\r\n      this._fragments = [];\r\n\r\n      if (this._opcode === 2) {\r\n        let data;\r\n\r\n        if (this._binaryType === 'nodebuffer') {\r\n          data = concat(fragments, messageLength);\r\n        } else if (this._binaryType === 'arraybuffer') {\r\n          data = toArrayBuffer(concat(fragments, messageLength));\r\n        } else {\r\n          data = fragments;\r\n        }\r\n\r\n        this.emit('message', data, true);\r\n      } else {\r\n        const buf = concat(fragments, messageLength);\r\n\r\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\r\n          this._loop = false;\r\n          return error(\r\n            Error,\r\n            'invalid UTF-8 sequence',\r\n            true,\r\n            1007,\r\n            'WS_ERR_INVALID_UTF8'\r\n          );\r\n        }\r\n\r\n        this.emit('message', buf, false);\r\n      }\r\n    }\r\n\r\n    this._state = WAIT_MICROTASK;\r\n  }\r\n\r\n  /**\r\n   * Handles a control message.\r\n   *\r\n   * @param {Buffer} data Data to handle\r\n   * @return {(Error|RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  controlMessage(data) {\r\n    if (this._opcode === 0x08) {\r\n      this._loop = false;\r\n\r\n      if (data.length === 0) {\r\n        this.emit('conclude', 1005, EMPTY_BUFFER);\r\n        this.end();\r\n\r\n        this._state = GET_INFO;\r\n      } else {\r\n        const code = data.readUInt16BE(0);\r\n\r\n        if (!isValidStatusCode(code)) {\r\n          return error(\r\n            RangeError,\r\n            `invalid status code ${code}`,\r\n            true,\r\n            1002,\r\n            'WS_ERR_INVALID_CLOSE_CODE'\r\n          );\r\n        }\r\n\r\n        const buf = new FastBuffer(\r\n          data.buffer,\r\n          data.byteOffset + 2,\r\n          data.length - 2\r\n        );\r\n\r\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\r\n          return error(\r\n            Error,\r\n            'invalid UTF-8 sequence',\r\n            true,\r\n            1007,\r\n            'WS_ERR_INVALID_UTF8'\r\n          );\r\n        }\r\n\r\n        this.emit('conclude', code, buf);\r\n        this.end();\r\n\r\n        this._state = GET_INFO;\r\n      }\r\n    } else if (this._opcode === 0x09) {\r\n      this.emit('ping', data);\r\n      this._state = WAIT_MICROTASK;\r\n    } else {\r\n      this.emit('pong', data);\r\n      this._state = WAIT_MICROTASK;\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = Receiver;\r\n\r\n/**\r\n * Builds an error object.\r\n *\r\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\r\n * @param {String} message The error message\r\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\r\n *     `message`\r\n * @param {Number} statusCode The status code\r\n * @param {String} errorCode The exposed error code\r\n * @return {(Error|RangeError)} The error\r\n * @private\r\n */\r\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\r\n  const err = new ErrorCtor(\r\n    prefix ? `Invalid WebSocket frame: ${message}` : message\r\n  );\r\n\r\n  Error.captureStackTrace(err, error);\r\n  err.code = errorCode;\r\n  err[kStatusCode] = statusCode;\r\n  return err;\r\n}\r\n\r\n/**\r\n * A shim for `queueMicrotask()`.\r\n *\r\n * @param {Function} cb Callback\r\n */\r\nfunction queueMicrotaskShim(cb) {\r\n  promise.then(cb).catch(throwErrorNextTick);\r\n}\r\n\r\n/**\r\n * Throws an error.\r\n *\r\n * @param {Error} err The error to throw\r\n * @private\r\n */\r\nfunction throwError(err) {\r\n  throw err;\r\n}\r\n\r\n/**\r\n * Throws an error in the next tick.\r\n *\r\n * @param {Error} err The error to throw\r\n * @private\r\n */\r\nfunction throwErrorNextTick(err) {\r\n  process.nextTick(throwError, err);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3JlY2VpdmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSxRQUFRLFdBQVcsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQ3JDO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMseUhBQXNCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEVBQUUsbUJBQU8sQ0FBQyx1R0FBYTtBQUN6QixRQUFRLGdDQUFnQyxFQUFFLG1CQUFPLENBQUMsMkdBQWU7QUFDakUsUUFBUSxpQ0FBaUMsRUFBRSxtQkFBTyxDQUFDLHlHQUFjO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0JBQXdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsYUFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixhQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGNBQWMsOEJBQThCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLDhCQUE4QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsS0FBSztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQ0FBZ0M7QUFDM0MsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsUUFBUTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3JlY2VpdmVyLmpzPzM5OWMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgeyBXcml0YWJsZSB9ID0gcmVxdWlyZSgnc3RyZWFtJyk7XHJcblxyXG5jb25zdCBQZXJNZXNzYWdlRGVmbGF0ZSA9IHJlcXVpcmUoJy4vcGVybWVzc2FnZS1kZWZsYXRlJyk7XHJcbmNvbnN0IHtcclxuICBCSU5BUllfVFlQRVMsXHJcbiAgRU1QVFlfQlVGRkVSLFxyXG4gIGtTdGF0dXNDb2RlLFxyXG4gIGtXZWJTb2NrZXRcclxufSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XHJcbmNvbnN0IHsgY29uY2F0LCB0b0FycmF5QnVmZmVyLCB1bm1hc2sgfSA9IHJlcXVpcmUoJy4vYnVmZmVyLXV0aWwnKTtcclxuY29uc3QgeyBpc1ZhbGlkU3RhdHVzQ29kZSwgaXNWYWxpZFVURjggfSA9IHJlcXVpcmUoJy4vdmFsaWRhdGlvbicpO1xyXG5cclxuY29uc3QgRmFzdEJ1ZmZlciA9IEJ1ZmZlcltTeW1ib2wuc3BlY2llc107XHJcbmNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbi8vXHJcbi8vIGBxdWV1ZU1pY3JvdGFzaygpYCBpcyBub3QgYXZhaWxhYmxlIGluIE5vZGUuanMgPCAxMS5cclxuLy9cclxuY29uc3QgcXVldWVUYXNrID1cclxuICB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgPT09ICdmdW5jdGlvbicgPyBxdWV1ZU1pY3JvdGFzayA6IHF1ZXVlTWljcm90YXNrU2hpbTtcclxuXHJcbmNvbnN0IEdFVF9JTkZPID0gMDtcclxuY29uc3QgR0VUX1BBWUxPQURfTEVOR1RIXzE2ID0gMTtcclxuY29uc3QgR0VUX1BBWUxPQURfTEVOR1RIXzY0ID0gMjtcclxuY29uc3QgR0VUX01BU0sgPSAzO1xyXG5jb25zdCBHRVRfREFUQSA9IDQ7XHJcbmNvbnN0IElORkxBVElORyA9IDU7XHJcbmNvbnN0IFdBSVRfTUlDUk9UQVNLID0gNjtcclxuXHJcbi8qKlxyXG4gKiBIeUJpIFJlY2VpdmVyIGltcGxlbWVudGF0aW9uLlxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBXcml0YWJsZVxyXG4gKi9cclxuY2xhc3MgUmVjZWl2ZXIgZXh0ZW5kcyBXcml0YWJsZSB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIFJlY2VpdmVyIGluc3RhbmNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5iaW5hcnlUeXBlPW5vZGVidWZmZXJdIFRoZSB0eXBlIGZvciBiaW5hcnkgZGF0YVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5leHRlbnNpb25zXSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbmVnb3RpYXRlZFxyXG4gICAqICAgICBleHRlbnNpb25zXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5pc1NlcnZlcj1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgdG8gb3BlcmF0ZSBpblxyXG4gICAqICAgICBjbGllbnQgb3Igc2VydmVyIG1vZGVcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4UGF5bG9hZD0wXSBUaGUgbWF4aW11bSBhbGxvd2VkIG1lc3NhZ2UgbGVuZ3RoXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5za2lwVVRGOFZhbGlkYXRpb249ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yXHJcbiAgICogICAgIG5vdCB0byBza2lwIFVURi04IHZhbGlkYXRpb24gZm9yIHRleHQgYW5kIGNsb3NlIG1lc3NhZ2VzXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuX2JpbmFyeVR5cGUgPSBvcHRpb25zLmJpbmFyeVR5cGUgfHwgQklOQVJZX1RZUEVTWzBdO1xyXG4gICAgdGhpcy5fZXh0ZW5zaW9ucyA9IG9wdGlvbnMuZXh0ZW5zaW9ucyB8fCB7fTtcclxuICAgIHRoaXMuX2lzU2VydmVyID0gISFvcHRpb25zLmlzU2VydmVyO1xyXG4gICAgdGhpcy5fbWF4UGF5bG9hZCA9IG9wdGlvbnMubWF4UGF5bG9hZCB8IDA7XHJcbiAgICB0aGlzLl9za2lwVVRGOFZhbGlkYXRpb24gPSAhIW9wdGlvbnMuc2tpcFVURjhWYWxpZGF0aW9uO1xyXG4gICAgdGhpc1trV2ViU29ja2V0XSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzID0gMDtcclxuICAgIHRoaXMuX2J1ZmZlcnMgPSBbXTtcclxuXHJcbiAgICB0aGlzLl9jb21wcmVzc2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9wYXlsb2FkTGVuZ3RoID0gMDtcclxuICAgIHRoaXMuX21hc2sgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLl9mcmFnbWVudGVkID0gMDtcclxuICAgIHRoaXMuX21hc2tlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fZmluID0gZmFsc2U7XHJcbiAgICB0aGlzLl9vcGNvZGUgPSAwO1xyXG5cclxuICAgIHRoaXMuX3RvdGFsUGF5bG9hZExlbmd0aCA9IDA7XHJcbiAgICB0aGlzLl9tZXNzYWdlTGVuZ3RoID0gMDtcclxuICAgIHRoaXMuX2ZyYWdtZW50cyA9IFtdO1xyXG5cclxuICAgIHRoaXMuX3N0YXRlID0gR0VUX0lORk87XHJcbiAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbXBsZW1lbnRzIGBXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlKClgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGNodW5rIFRoZSBjaHVuayBvZiBkYXRhIHRvIHdyaXRlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVuY29kaW5nIFRoZSBjaGFyYWN0ZXIgZW5jb2Rpbmcgb2YgYGNodW5rYFxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfd3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYikge1xyXG4gICAgaWYgKHRoaXMuX29wY29kZSA9PT0gMHgwOCAmJiB0aGlzLl9zdGF0ZSA9PSBHRVRfSU5GTykgcmV0dXJuIGNiKCk7XHJcblxyXG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyArPSBjaHVuay5sZW5ndGg7XHJcbiAgICB0aGlzLl9idWZmZXJzLnB1c2goY2h1bmspO1xyXG4gICAgdGhpcy5zdGFydExvb3AoY2IpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3VtZXMgYG5gIGJ5dGVzIGZyb20gdGhlIGJ1ZmZlcmVkIGRhdGEuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGJ5dGVzIHRvIGNvbnN1bWVcclxuICAgKiBAcmV0dXJuIHtCdWZmZXJ9IFRoZSBjb25zdW1lZCBieXRlc1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgY29uc3VtZShuKSB7XHJcbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzIC09IG47XHJcblxyXG4gICAgaWYgKG4gPT09IHRoaXMuX2J1ZmZlcnNbMF0ubGVuZ3RoKSByZXR1cm4gdGhpcy5fYnVmZmVycy5zaGlmdCgpO1xyXG5cclxuICAgIGlmIChuIDwgdGhpcy5fYnVmZmVyc1swXS5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgYnVmID0gdGhpcy5fYnVmZmVyc1swXTtcclxuICAgICAgdGhpcy5fYnVmZmVyc1swXSA9IG5ldyBGYXN0QnVmZmVyKFxyXG4gICAgICAgIGJ1Zi5idWZmZXIsXHJcbiAgICAgICAgYnVmLmJ5dGVPZmZzZXQgKyBuLFxyXG4gICAgICAgIGJ1Zi5sZW5ndGggLSBuXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IEZhc3RCdWZmZXIoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIG4pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRzdCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuKTtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgIGNvbnN0IGJ1ZiA9IHRoaXMuX2J1ZmZlcnNbMF07XHJcbiAgICAgIGNvbnN0IG9mZnNldCA9IGRzdC5sZW5ndGggLSBuO1xyXG5cclxuICAgICAgaWYgKG4gPj0gYnVmLmxlbmd0aCkge1xyXG4gICAgICAgIGRzdC5zZXQodGhpcy5fYnVmZmVycy5zaGlmdCgpLCBvZmZzZXQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRzdC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIG4pLCBvZmZzZXQpO1xyXG4gICAgICAgIHRoaXMuX2J1ZmZlcnNbMF0gPSBuZXcgRmFzdEJ1ZmZlcihcclxuICAgICAgICAgIGJ1Zi5idWZmZXIsXHJcbiAgICAgICAgICBidWYuYnl0ZU9mZnNldCArIG4sXHJcbiAgICAgICAgICBidWYubGVuZ3RoIC0gblxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG4gLT0gYnVmLmxlbmd0aDtcclxuICAgIH0gd2hpbGUgKG4gPiAwKTtcclxuXHJcbiAgICByZXR1cm4gZHN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnRzIHRoZSBwYXJzaW5nIGxvb3AuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgc3RhcnRMb29wKGNiKSB7XHJcbiAgICBsZXQgZXJyO1xyXG4gICAgdGhpcy5fbG9vcCA9IHRydWU7XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XHJcbiAgICAgICAgY2FzZSBHRVRfSU5GTzpcclxuICAgICAgICAgIGVyciA9IHRoaXMuZ2V0SW5mbygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBHRVRfUEFZTE9BRF9MRU5HVEhfMTY6XHJcbiAgICAgICAgICBlcnIgPSB0aGlzLmdldFBheWxvYWRMZW5ndGgxNigpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBHRVRfUEFZTE9BRF9MRU5HVEhfNjQ6XHJcbiAgICAgICAgICBlcnIgPSB0aGlzLmdldFBheWxvYWRMZW5ndGg2NCgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBHRVRfTUFTSzpcclxuICAgICAgICAgIHRoaXMuZ2V0TWFzaygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBHRVRfREFUQTpcclxuICAgICAgICAgIGVyciA9IHRoaXMuZ2V0RGF0YShjYik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIElORkxBVElORzpcclxuICAgICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgLy9cclxuICAgICAgICAgIC8vIGBXQUlUX01JQ1JPVEFTS2AuXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIHF1ZXVlVGFzaygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gR0VUX0lORk87XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMb29wKGNiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9IHdoaWxlICh0aGlzLl9sb29wKTtcclxuXHJcbiAgICBjYihlcnIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZHMgdGhlIGZpcnN0IHR3byBieXRlcyBvZiBhIGZyYW1lLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7KFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ2V0SW5mbygpIHtcclxuICAgIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVzIDwgMikge1xyXG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidWYgPSB0aGlzLmNvbnN1bWUoMik7XHJcblxyXG4gICAgaWYgKChidWZbMF0gJiAweDMwKSAhPT0gMHgwMCkge1xyXG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgIHJldHVybiBlcnJvcihcclxuICAgICAgICBSYW5nZUVycm9yLFxyXG4gICAgICAgICdSU1YyIGFuZCBSU1YzIG11c3QgYmUgY2xlYXInLFxyXG4gICAgICAgIHRydWUsXHJcbiAgICAgICAgMTAwMixcclxuICAgICAgICAnV1NfRVJSX1VORVhQRUNURURfUlNWXzJfMydcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb21wcmVzc2VkID0gKGJ1ZlswXSAmIDB4NDApID09PSAweDQwO1xyXG5cclxuICAgIGlmIChjb21wcmVzc2VkICYmICF0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKSB7XHJcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuIGVycm9yKFxyXG4gICAgICAgIFJhbmdlRXJyb3IsXHJcbiAgICAgICAgJ1JTVjEgbXVzdCBiZSBjbGVhcicsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICAgICAxMDAyLFxyXG4gICAgICAgICdXU19FUlJfVU5FWFBFQ1RFRF9SU1ZfMSdcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9maW4gPSAoYnVmWzBdICYgMHg4MCkgPT09IDB4ODA7XHJcbiAgICB0aGlzLl9vcGNvZGUgPSBidWZbMF0gJiAweDBmO1xyXG4gICAgdGhpcy5fcGF5bG9hZExlbmd0aCA9IGJ1ZlsxXSAmIDB4N2Y7XHJcblxyXG4gICAgaWYgKHRoaXMuX29wY29kZSA9PT0gMHgwMCkge1xyXG4gICAgICBpZiAoY29tcHJlc3NlZCkge1xyXG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gZXJyb3IoXHJcbiAgICAgICAgICBSYW5nZUVycm9yLFxyXG4gICAgICAgICAgJ1JTVjEgbXVzdCBiZSBjbGVhcicsXHJcbiAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgMTAwMixcclxuICAgICAgICAgICdXU19FUlJfVU5FWFBFQ1RFRF9SU1ZfMSdcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMuX2ZyYWdtZW50ZWQpIHtcclxuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yKFxyXG4gICAgICAgICAgUmFuZ2VFcnJvcixcclxuICAgICAgICAgICdpbnZhbGlkIG9wY29kZSAwJyxcclxuICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAxMDAyLFxyXG4gICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX09QQ09ERSdcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9vcGNvZGUgPSB0aGlzLl9mcmFnbWVudGVkO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDEgfHwgdGhpcy5fb3Bjb2RlID09PSAweDAyKSB7XHJcbiAgICAgIGlmICh0aGlzLl9mcmFnbWVudGVkKSB7XHJcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBlcnJvcihcclxuICAgICAgICAgIFJhbmdlRXJyb3IsXHJcbiAgICAgICAgICBgaW52YWxpZCBvcGNvZGUgJHt0aGlzLl9vcGNvZGV9YCxcclxuICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAxMDAyLFxyXG4gICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX09QQ09ERSdcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9jb21wcmVzc2VkID0gY29tcHJlc3NlZDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5fb3Bjb2RlID4gMHgwNyAmJiB0aGlzLl9vcGNvZGUgPCAweDBiKSB7XHJcbiAgICAgIGlmICghdGhpcy5fZmluKSB7XHJcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBlcnJvcihcclxuICAgICAgICAgIFJhbmdlRXJyb3IsXHJcbiAgICAgICAgICAnRklOIG11c3QgYmUgc2V0JyxcclxuICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAxMDAyLFxyXG4gICAgICAgICAgJ1dTX0VSUl9FWFBFQ1RFRF9GSU4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNvbXByZXNzZWQpIHtcclxuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yKFxyXG4gICAgICAgICAgUmFuZ2VFcnJvcixcclxuICAgICAgICAgICdSU1YxIG11c3QgYmUgY2xlYXInLFxyXG4gICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgIDEwMDIsXHJcbiAgICAgICAgICAnV1NfRVJSX1VORVhQRUNURURfUlNWXzEnXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIHRoaXMuX3BheWxvYWRMZW5ndGggPiAweDdkIHx8XHJcbiAgICAgICAgKHRoaXMuX29wY29kZSA9PT0gMHgwOCAmJiB0aGlzLl9wYXlsb2FkTGVuZ3RoID09PSAxKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yKFxyXG4gICAgICAgICAgUmFuZ2VFcnJvcixcclxuICAgICAgICAgIGBpbnZhbGlkIHBheWxvYWQgbGVuZ3RoICR7dGhpcy5fcGF5bG9hZExlbmd0aH1gLFxyXG4gICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgIDEwMDIsXHJcbiAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfQ09OVFJPTF9QQVlMT0FEX0xFTkdUSCdcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgIHJldHVybiBlcnJvcihcclxuICAgICAgICBSYW5nZUVycm9yLFxyXG4gICAgICAgIGBpbnZhbGlkIG9wY29kZSAke3RoaXMuX29wY29kZX1gLFxyXG4gICAgICAgIHRydWUsXHJcbiAgICAgICAgMTAwMixcclxuICAgICAgICAnV1NfRVJSX0lOVkFMSURfT1BDT0RFJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5fZmluICYmICF0aGlzLl9mcmFnbWVudGVkKSB0aGlzLl9mcmFnbWVudGVkID0gdGhpcy5fb3Bjb2RlO1xyXG4gICAgdGhpcy5fbWFza2VkID0gKGJ1ZlsxXSAmIDB4ODApID09PSAweDgwO1xyXG5cclxuICAgIGlmICh0aGlzLl9pc1NlcnZlcikge1xyXG4gICAgICBpZiAoIXRoaXMuX21hc2tlZCkge1xyXG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gZXJyb3IoXHJcbiAgICAgICAgICBSYW5nZUVycm9yLFxyXG4gICAgICAgICAgJ01BU0sgbXVzdCBiZSBzZXQnLFxyXG4gICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgIDEwMDIsXHJcbiAgICAgICAgICAnV1NfRVJSX0VYUEVDVEVEX01BU0snXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9tYXNrZWQpIHtcclxuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xyXG4gICAgICByZXR1cm4gZXJyb3IoXHJcbiAgICAgICAgUmFuZ2VFcnJvcixcclxuICAgICAgICAnTUFTSyBtdXN0IGJlIGNsZWFyJyxcclxuICAgICAgICB0cnVlLFxyXG4gICAgICAgIDEwMDIsXHJcbiAgICAgICAgJ1dTX0VSUl9VTkVYUEVDVEVEX01BU0snXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGggPT09IDEyNikgdGhpcy5fc3RhdGUgPSBHRVRfUEFZTE9BRF9MRU5HVEhfMTY7XHJcbiAgICBlbHNlIGlmICh0aGlzLl9wYXlsb2FkTGVuZ3RoID09PSAxMjcpIHRoaXMuX3N0YXRlID0gR0VUX1BBWUxPQURfTEVOR1RIXzY0O1xyXG4gICAgZWxzZSByZXR1cm4gdGhpcy5oYXZlTGVuZ3RoKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIGV4dGVuZGVkIHBheWxvYWQgbGVuZ3RoICg3KzE2KS5cclxuICAgKlxyXG4gICAqIEByZXR1cm4geyhSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGdldFBheWxvYWRMZW5ndGgxNigpIHtcclxuICAgIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVzIDwgMikge1xyXG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9wYXlsb2FkTGVuZ3RoID0gdGhpcy5jb25zdW1lKDIpLnJlYWRVSW50MTZCRSgwKTtcclxuICAgIHJldHVybiB0aGlzLmhhdmVMZW5ndGgoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgZXh0ZW5kZWQgcGF5bG9hZCBsZW5ndGggKDcrNjQpLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7KFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ2V0UGF5bG9hZExlbmd0aDY0KCkge1xyXG4gICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCA4KSB7XHJcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1ZiA9IHRoaXMuY29uc3VtZSg4KTtcclxuICAgIGNvbnN0IG51bSA9IGJ1Zi5yZWFkVUludDMyQkUoMCk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIFRoZSBtYXhpbXVtIHNhZmUgaW50ZWdlciBpbiBKYXZhU2NyaXB0IGlzIDJeNTMgLSAxLiBBbiBlcnJvciBpcyByZXR1cm5lZFxyXG4gICAgLy8gaWYgcGF5bG9hZCBsZW5ndGggaXMgZ3JlYXRlciB0aGFuIHRoaXMgbnVtYmVyLlxyXG4gICAgLy9cclxuICAgIGlmIChudW0gPiBNYXRoLnBvdygyLCA1MyAtIDMyKSAtIDEpIHtcclxuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xyXG4gICAgICByZXR1cm4gZXJyb3IoXHJcbiAgICAgICAgUmFuZ2VFcnJvcixcclxuICAgICAgICAnVW5zdXBwb3J0ZWQgV2ViU29ja2V0IGZyYW1lOiBwYXlsb2FkIGxlbmd0aCA+IDJeNTMgLSAxJyxcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICAxMDA5LFxyXG4gICAgICAgICdXU19FUlJfVU5TVVBQT1JURURfREFUQV9QQVlMT0FEX0xFTkdUSCdcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9wYXlsb2FkTGVuZ3RoID0gbnVtICogTWF0aC5wb3coMiwgMzIpICsgYnVmLnJlYWRVSW50MzJCRSg0KTtcclxuICAgIHJldHVybiB0aGlzLmhhdmVMZW5ndGgoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBheWxvYWQgbGVuZ3RoIGhhcyBiZWVuIHJlYWQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHsoUmFuZ2VFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBoYXZlTGVuZ3RoKCkge1xyXG4gICAgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGggJiYgdGhpcy5fb3Bjb2RlIDwgMHgwOCkge1xyXG4gICAgICB0aGlzLl90b3RhbFBheWxvYWRMZW5ndGggKz0gdGhpcy5fcGF5bG9hZExlbmd0aDtcclxuICAgICAgaWYgKHRoaXMuX3RvdGFsUGF5bG9hZExlbmd0aCA+IHRoaXMuX21heFBheWxvYWQgJiYgdGhpcy5fbWF4UGF5bG9hZCA+IDApIHtcclxuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yKFxyXG4gICAgICAgICAgUmFuZ2VFcnJvcixcclxuICAgICAgICAgICdNYXggcGF5bG9hZCBzaXplIGV4Y2VlZGVkJyxcclxuICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgMTAwOSxcclxuICAgICAgICAgICdXU19FUlJfVU5TVVBQT1JURURfTUVTU0FHRV9MRU5HVEgnXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9tYXNrZWQpIHRoaXMuX3N0YXRlID0gR0VUX01BU0s7XHJcbiAgICBlbHNlIHRoaXMuX3N0YXRlID0gR0VUX0RBVEE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFkcyBtYXNrIGJ5dGVzLlxyXG4gICAqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBnZXRNYXNrKCkge1xyXG4gICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCA0KSB7XHJcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX21hc2sgPSB0aGlzLmNvbnN1bWUoNCk7XHJcbiAgICB0aGlzLl9zdGF0ZSA9IEdFVF9EQVRBO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZHMgZGF0YSBieXRlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXHJcbiAgICogQHJldHVybiB7KEVycm9yfFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ2V0RGF0YShjYikge1xyXG4gICAgbGV0IGRhdGEgPSBFTVBUWV9CVUZGRVI7XHJcblxyXG4gICAgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGgpIHtcclxuICAgICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCB0aGlzLl9wYXlsb2FkTGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZGF0YSA9IHRoaXMuY29uc3VtZSh0aGlzLl9wYXlsb2FkTGVuZ3RoKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLl9tYXNrZWQgJiZcclxuICAgICAgICAodGhpcy5fbWFza1swXSB8IHRoaXMuX21hc2tbMV0gfCB0aGlzLl9tYXNrWzJdIHwgdGhpcy5fbWFza1szXSkgIT09IDBcclxuICAgICAgKSB7XHJcbiAgICAgICAgdW5tYXNrKGRhdGEsIHRoaXMuX21hc2spO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX29wY29kZSA+IDB4MDcpIHJldHVybiB0aGlzLmNvbnRyb2xNZXNzYWdlKGRhdGEpO1xyXG5cclxuICAgIGlmICh0aGlzLl9jb21wcmVzc2VkKSB7XHJcbiAgICAgIHRoaXMuX3N0YXRlID0gSU5GTEFUSU5HO1xyXG4gICAgICB0aGlzLmRlY29tcHJlc3MoZGF0YSwgY2IpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIFRoaXMgbWVzc2FnZSBpcyBub3QgY29tcHJlc3NlZCBzbyBpdHMgbGVuZ3RoIGlzIHRoZSBzdW0gb2YgdGhlIHBheWxvYWRcclxuICAgICAgLy8gbGVuZ3RoIG9mIGFsbCBmcmFnbWVudHMuXHJcbiAgICAgIC8vXHJcbiAgICAgIHRoaXMuX21lc3NhZ2VMZW5ndGggPSB0aGlzLl90b3RhbFBheWxvYWRMZW5ndGg7XHJcbiAgICAgIHRoaXMuX2ZyYWdtZW50cy5wdXNoKGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmRhdGFNZXNzYWdlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWNvbXByZXNzZXMgZGF0YS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIENvbXByZXNzZWQgZGF0YVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBkZWNvbXByZXNzKGRhdGEsIGNiKSB7XHJcbiAgICBjb25zdCBwZXJNZXNzYWdlRGVmbGF0ZSA9IHRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV07XHJcblxyXG4gICAgcGVyTWVzc2FnZURlZmxhdGUuZGVjb21wcmVzcyhkYXRhLCB0aGlzLl9maW4sIChlcnIsIGJ1ZikgPT4ge1xyXG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcclxuXHJcbiAgICAgIGlmIChidWYubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZUxlbmd0aCArPSBidWYubGVuZ3RoO1xyXG4gICAgICAgIGlmICh0aGlzLl9tZXNzYWdlTGVuZ3RoID4gdGhpcy5fbWF4UGF5bG9hZCAmJiB0aGlzLl9tYXhQYXlsb2FkID4gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNiKFxyXG4gICAgICAgICAgICBlcnJvcihcclxuICAgICAgICAgICAgICBSYW5nZUVycm9yLFxyXG4gICAgICAgICAgICAgICdNYXggcGF5bG9hZCBzaXplIGV4Y2VlZGVkJyxcclxuICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAxMDA5LFxyXG4gICAgICAgICAgICAgICdXU19FUlJfVU5TVVBQT1JURURfTUVTU0FHRV9MRU5HVEgnXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9mcmFnbWVudHMucHVzaChidWYpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBlciA9IHRoaXMuZGF0YU1lc3NhZ2UoKTtcclxuICAgICAgaWYgKGVyKSByZXR1cm4gY2IoZXIpO1xyXG5cclxuICAgICAgdGhpcy5zdGFydExvb3AoY2IpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIYW5kbGVzIGEgZGF0YSBtZXNzYWdlLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7KEVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGRhdGFNZXNzYWdlKCkge1xyXG4gICAgaWYgKHRoaXMuX2Zpbikge1xyXG4gICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gdGhpcy5fbWVzc2FnZUxlbmd0aDtcclxuICAgICAgY29uc3QgZnJhZ21lbnRzID0gdGhpcy5fZnJhZ21lbnRzO1xyXG5cclxuICAgICAgdGhpcy5fdG90YWxQYXlsb2FkTGVuZ3RoID0gMDtcclxuICAgICAgdGhpcy5fbWVzc2FnZUxlbmd0aCA9IDA7XHJcbiAgICAgIHRoaXMuX2ZyYWdtZW50ZWQgPSAwO1xyXG4gICAgICB0aGlzLl9mcmFnbWVudHMgPSBbXTtcclxuXHJcbiAgICAgIGlmICh0aGlzLl9vcGNvZGUgPT09IDIpIHtcclxuICAgICAgICBsZXQgZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2JpbmFyeVR5cGUgPT09ICdub2RlYnVmZmVyJykge1xyXG4gICAgICAgICAgZGF0YSA9IGNvbmNhdChmcmFnbWVudHMsIG1lc3NhZ2VMZW5ndGgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYmluYXJ5VHlwZSA9PT0gJ2FycmF5YnVmZmVyJykge1xyXG4gICAgICAgICAgZGF0YSA9IHRvQXJyYXlCdWZmZXIoY29uY2F0KGZyYWdtZW50cywgbWVzc2FnZUxlbmd0aCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkYXRhID0gZnJhZ21lbnRzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgZGF0YSwgdHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgYnVmID0gY29uY2F0KGZyYWdtZW50cywgbWVzc2FnZUxlbmd0aCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5fc2tpcFVURjhWYWxpZGF0aW9uICYmICFpc1ZhbGlkVVRGOChidWYpKSB7XHJcbiAgICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XHJcbiAgICAgICAgICByZXR1cm4gZXJyb3IoXHJcbiAgICAgICAgICAgIEVycm9yLFxyXG4gICAgICAgICAgICAnaW52YWxpZCBVVEYtOCBzZXF1ZW5jZScsXHJcbiAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgIDEwMDcsXHJcbiAgICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9VVEY4J1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIGJ1ZiwgZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc3RhdGUgPSBXQUlUX01JQ1JPVEFTSztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZXMgYSBjb250cm9sIG1lc3NhZ2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBEYXRhIHRvIGhhbmRsZVxyXG4gICAqIEByZXR1cm4geyhFcnJvcnxSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGNvbnRyb2xNZXNzYWdlKGRhdGEpIHtcclxuICAgIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDgpIHtcclxuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjb25jbHVkZScsIDEwMDUsIEVNUFRZX0JVRkZFUik7XHJcbiAgICAgICAgdGhpcy5lbmQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBHRVRfSU5GTztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBjb2RlID0gZGF0YS5yZWFkVUludDE2QkUoMCk7XHJcblxyXG4gICAgICAgIGlmICghaXNWYWxpZFN0YXR1c0NvZGUoY29kZSkpIHtcclxuICAgICAgICAgIHJldHVybiBlcnJvcihcclxuICAgICAgICAgICAgUmFuZ2VFcnJvcixcclxuICAgICAgICAgICAgYGludmFsaWQgc3RhdHVzIGNvZGUgJHtjb2RlfWAsXHJcbiAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgIDEwMDIsXHJcbiAgICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9DTE9TRV9DT0RFJ1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBGYXN0QnVmZmVyKFxyXG4gICAgICAgICAgZGF0YS5idWZmZXIsXHJcbiAgICAgICAgICBkYXRhLmJ5dGVPZmZzZXQgKyAyLFxyXG4gICAgICAgICAgZGF0YS5sZW5ndGggLSAyXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9za2lwVVRGOFZhbGlkYXRpb24gJiYgIWlzVmFsaWRVVEY4KGJ1ZikpIHtcclxuICAgICAgICAgIHJldHVybiBlcnJvcihcclxuICAgICAgICAgICAgRXJyb3IsXHJcbiAgICAgICAgICAgICdpbnZhbGlkIFVURi04IHNlcXVlbmNlJyxcclxuICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgMTAwNyxcclxuICAgICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX1VURjgnXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KCdjb25jbHVkZScsIGNvZGUsIGJ1Zik7XHJcbiAgICAgICAgdGhpcy5lbmQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBHRVRfSU5GTztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDkpIHtcclxuICAgICAgdGhpcy5lbWl0KCdwaW5nJywgZGF0YSk7XHJcbiAgICAgIHRoaXMuX3N0YXRlID0gV0FJVF9NSUNST1RBU0s7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVtaXQoJ3BvbmcnLCBkYXRhKTtcclxuICAgICAgdGhpcy5fc3RhdGUgPSBXQUlUX01JQ1JPVEFTSztcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUmVjZWl2ZXI7XHJcblxyXG4vKipcclxuICogQnVpbGRzIGFuIGVycm9yIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6RXJyb3J8UmFuZ2VFcnJvcil9IEVycm9yQ3RvciBUaGUgZXJyb3IgY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2VcclxuICogQHBhcmFtIHtCb29sZWFufSBwcmVmaXggU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIGFkZCBhIGRlZmF1bHQgcHJlZml4IHRvXHJcbiAqICAgICBgbWVzc2FnZWBcclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c0NvZGUgVGhlIHN0YXR1cyBjb2RlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBlcnJvckNvZGUgVGhlIGV4cG9zZWQgZXJyb3IgY29kZVxyXG4gKiBAcmV0dXJuIHsoRXJyb3J8UmFuZ2VFcnJvcil9IFRoZSBlcnJvclxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZXJyb3IoRXJyb3JDdG9yLCBtZXNzYWdlLCBwcmVmaXgsIHN0YXR1c0NvZGUsIGVycm9yQ29kZSkge1xyXG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvckN0b3IoXHJcbiAgICBwcmVmaXggPyBgSW52YWxpZCBXZWJTb2NrZXQgZnJhbWU6ICR7bWVzc2FnZX1gIDogbWVzc2FnZVxyXG4gICk7XHJcblxyXG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVyciwgZXJyb3IpO1xyXG4gIGVyci5jb2RlID0gZXJyb3JDb2RlO1xyXG4gIGVycltrU3RhdHVzQ29kZV0gPSBzdGF0dXNDb2RlO1xyXG4gIHJldHVybiBlcnI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNoaW0gZm9yIGBxdWV1ZU1pY3JvdGFzaygpYC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcclxuICovXHJcbmZ1bmN0aW9uIHF1ZXVlTWljcm90YXNrU2hpbShjYikge1xyXG4gIHByb21pc2UudGhlbihjYikuY2F0Y2godGhyb3dFcnJvck5leHRUaWNrKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRocm93cyBhbiBlcnJvci5cclxuICpcclxuICogQHBhcmFtIHtFcnJvcn0gZXJyIFRoZSBlcnJvciB0byB0aHJvd1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdGhyb3dFcnJvcihlcnIpIHtcclxuICB0aHJvdyBlcnI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvd3MgYW4gZXJyb3IgaW4gdGhlIG5leHQgdGljay5cclxuICpcclxuICogQHBhcmFtIHtFcnJvcn0gZXJyIFRoZSBlcnJvciB0byB0aHJvd1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdGhyb3dFcnJvck5leHRUaWNrKGVycikge1xyXG4gIHByb2Nlc3MubmV4dFRpY2sodGhyb3dFcnJvciwgZXJyKTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/receiver.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/sender.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/sender.js ***!
  \*********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\r\n\r\n\r\n\r\nconst { Duplex } = __webpack_require__(/*! stream */ \"stream\");\r\nconst { randomFillSync } = __webpack_require__(/*! crypto */ \"crypto\");\r\n\r\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/permessage-deflate.js\");\r\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\");\r\nconst { isValidStatusCode } = __webpack_require__(/*! ./validation */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/validation.js\");\r\nconst { mask: applyMask, toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/buffer-util.js\");\r\n\r\nconst kByteLength = Symbol('kByteLength');\r\nconst maskBuffer = Buffer.alloc(4);\r\n\r\n/**\r\n * HyBi Sender implementation.\r\n */\r\nclass Sender {\r\n  /**\r\n   * Creates a Sender instance.\r\n   *\r\n   * @param {Duplex} socket The connection socket\r\n   * @param {Object} [extensions] An object containing the negotiated extensions\r\n   * @param {Function} [generateMask] The function used to generate the masking\r\n   *     key\r\n   */\r\n  constructor(socket, extensions, generateMask) {\r\n    this._extensions = extensions || {};\r\n\r\n    if (generateMask) {\r\n      this._generateMask = generateMask;\r\n      this._maskBuffer = Buffer.alloc(4);\r\n    }\r\n\r\n    this._socket = socket;\r\n\r\n    this._firstFragment = true;\r\n    this._compress = false;\r\n\r\n    this._bufferedBytes = 0;\r\n    this._deflating = false;\r\n    this._queue = [];\r\n  }\r\n\r\n  /**\r\n   * Frames a piece of data according to the HyBi WebSocket protocol.\r\n   *\r\n   * @param {(Buffer|String)} data The data to frame\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\r\n   *     FIN bit\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\r\n   *     key\r\n   * @param {Number} options.opcode The opcode\r\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\r\n   *     modified\r\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\r\n   *     RSV1 bit\r\n   * @return {(Buffer|String)[]} The framed data\r\n   * @public\r\n   */\r\n  static frame(data, options) {\r\n    let mask;\r\n    let merge = false;\r\n    let offset = 2;\r\n    let skipMasking = false;\r\n\r\n    if (options.mask) {\r\n      mask = options.maskBuffer || maskBuffer;\r\n\r\n      if (options.generateMask) {\r\n        options.generateMask(mask);\r\n      } else {\r\n        randomFillSync(mask, 0, 4);\r\n      }\r\n\r\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\r\n      offset = 6;\r\n    }\r\n\r\n    let dataLength;\r\n\r\n    if (typeof data === 'string') {\r\n      if (\r\n        (!options.mask || skipMasking) &&\r\n        options[kByteLength] !== undefined\r\n      ) {\r\n        dataLength = options[kByteLength];\r\n      } else {\r\n        data = Buffer.from(data);\r\n        dataLength = data.length;\r\n      }\r\n    } else {\r\n      dataLength = data.length;\r\n      merge = options.mask && options.readOnly && !skipMasking;\r\n    }\r\n\r\n    let payloadLength = dataLength;\r\n\r\n    if (dataLength >= 65536) {\r\n      offset += 8;\r\n      payloadLength = 127;\r\n    } else if (dataLength > 125) {\r\n      offset += 2;\r\n      payloadLength = 126;\r\n    }\r\n\r\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\r\n\r\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\r\n    if (options.rsv1) target[0] |= 0x40;\r\n\r\n    target[1] = payloadLength;\r\n\r\n    if (payloadLength === 126) {\r\n      target.writeUInt16BE(dataLength, 2);\r\n    } else if (payloadLength === 127) {\r\n      target[2] = target[3] = 0;\r\n      target.writeUIntBE(dataLength, 4, 6);\r\n    }\r\n\r\n    if (!options.mask) return [target, data];\r\n\r\n    target[1] |= 0x80;\r\n    target[offset - 4] = mask[0];\r\n    target[offset - 3] = mask[1];\r\n    target[offset - 2] = mask[2];\r\n    target[offset - 1] = mask[3];\r\n\r\n    if (skipMasking) return [target, data];\r\n\r\n    if (merge) {\r\n      applyMask(data, mask, target, offset, dataLength);\r\n      return [target];\r\n    }\r\n\r\n    applyMask(data, mask, data, 0, dataLength);\r\n    return [target, data];\r\n  }\r\n\r\n  /**\r\n   * Sends a close message to the other peer.\r\n   *\r\n   * @param {Number} [code] The status code component of the body\r\n   * @param {(String|Buffer)} [data] The message component of the body\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  close(code, data, mask, cb) {\r\n    let buf;\r\n\r\n    if (code === undefined) {\r\n      buf = EMPTY_BUFFER;\r\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\r\n      throw new TypeError('First argument must be a valid error code number');\r\n    } else if (data === undefined || !data.length) {\r\n      buf = Buffer.allocUnsafe(2);\r\n      buf.writeUInt16BE(code, 0);\r\n    } else {\r\n      const length = Buffer.byteLength(data);\r\n\r\n      if (length > 123) {\r\n        throw new RangeError('The message must not be greater than 123 bytes');\r\n      }\r\n\r\n      buf = Buffer.allocUnsafe(2 + length);\r\n      buf.writeUInt16BE(code, 0);\r\n\r\n      if (typeof data === 'string') {\r\n        buf.write(data, 2);\r\n      } else {\r\n        buf.set(data, 2);\r\n      }\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: buf.length,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x08,\r\n      readOnly: false,\r\n      rsv1: false\r\n    };\r\n\r\n    if (this._deflating) {\r\n      this.enqueue([this.dispatch, buf, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender.frame(buf, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a ping message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  ping(data, mask, cb) {\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer.readOnly;\r\n    }\r\n\r\n    if (byteLength > 125) {\r\n      throw new RangeError('The data size must not be greater than 125 bytes');\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: byteLength,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x09,\r\n      readOnly,\r\n      rsv1: false\r\n    };\r\n\r\n    if (this._deflating) {\r\n      this.enqueue([this.dispatch, data, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender.frame(data, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a pong message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  pong(data, mask, cb) {\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer.readOnly;\r\n    }\r\n\r\n    if (byteLength > 125) {\r\n      throw new RangeError('The data size must not be greater than 125 bytes');\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: byteLength,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x0a,\r\n      readOnly,\r\n      rsv1: false\r\n    };\r\n\r\n    if (this._deflating) {\r\n      this.enqueue([this.dispatch, data, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender.frame(data, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a data message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\r\n   *     or text\r\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\r\n   *     compress `data`\r\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\r\n   *     last one\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  send(data, options, cb) {\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\r\n    let opcode = options.binary ? 2 : 1;\r\n    let rsv1 = options.compress;\r\n\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer.readOnly;\r\n    }\r\n\r\n    if (this._firstFragment) {\r\n      this._firstFragment = false;\r\n      if (\r\n        rsv1 &&\r\n        perMessageDeflate &&\r\n        perMessageDeflate.params[\r\n          perMessageDeflate._isServer\r\n            ? 'server_no_context_takeover'\r\n            : 'client_no_context_takeover'\r\n        ]\r\n      ) {\r\n        rsv1 = byteLength >= perMessageDeflate._threshold;\r\n      }\r\n      this._compress = rsv1;\r\n    } else {\r\n      rsv1 = false;\r\n      opcode = 0;\r\n    }\r\n\r\n    if (options.fin) this._firstFragment = true;\r\n\r\n    if (perMessageDeflate) {\r\n      const opts = {\r\n        [kByteLength]: byteLength,\r\n        fin: options.fin,\r\n        generateMask: this._generateMask,\r\n        mask: options.mask,\r\n        maskBuffer: this._maskBuffer,\r\n        opcode,\r\n        readOnly,\r\n        rsv1\r\n      };\r\n\r\n      if (this._deflating) {\r\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\r\n      } else {\r\n        this.dispatch(data, this._compress, opts, cb);\r\n      }\r\n    } else {\r\n      this.sendFrame(\r\n        Sender.frame(data, {\r\n          [kByteLength]: byteLength,\r\n          fin: options.fin,\r\n          generateMask: this._generateMask,\r\n          mask: options.mask,\r\n          maskBuffer: this._maskBuffer,\r\n          opcode,\r\n          readOnly,\r\n          rsv1: false\r\n        }),\r\n        cb\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Dispatches a message.\r\n   *\r\n   * @param {(Buffer|String)} data The message to send\r\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\r\n   *     `data`\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\r\n   *     FIN bit\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\r\n   *     key\r\n   * @param {Number} options.opcode The opcode\r\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\r\n   *     modified\r\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\r\n   *     RSV1 bit\r\n   * @param {Function} [cb] Callback\r\n   * @private\r\n   */\r\n  dispatch(data, compress, options, cb) {\r\n    if (!compress) {\r\n      this.sendFrame(Sender.frame(data, options), cb);\r\n      return;\r\n    }\r\n\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\r\n\r\n    this._bufferedBytes += options[kByteLength];\r\n    this._deflating = true;\r\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\r\n      if (this._socket.destroyed) {\r\n        const err = new Error(\r\n          'The socket was closed while data was being compressed'\r\n        );\r\n\r\n        if (typeof cb === 'function') cb(err);\r\n\r\n        for (let i = 0; i < this._queue.length; i++) {\r\n          const params = this._queue[i];\r\n          const callback = params[params.length - 1];\r\n\r\n          if (typeof callback === 'function') callback(err);\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      this._bufferedBytes -= options[kByteLength];\r\n      this._deflating = false;\r\n      options.readOnly = false;\r\n      this.sendFrame(Sender.frame(buf, options), cb);\r\n      this.dequeue();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Executes queued send operations.\r\n   *\r\n   * @private\r\n   */\r\n  dequeue() {\r\n    while (!this._deflating && this._queue.length) {\r\n      const params = this._queue.shift();\r\n\r\n      this._bufferedBytes -= params[3][kByteLength];\r\n      Reflect.apply(params[0], this, params.slice(1));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Enqueues a send operation.\r\n   *\r\n   * @param {Array} params Send operation parameters.\r\n   * @private\r\n   */\r\n  enqueue(params) {\r\n    this._bufferedBytes += params[3][kByteLength];\r\n    this._queue.push(params);\r\n  }\r\n\r\n  /**\r\n   * Sends a frame.\r\n   *\r\n   * @param {Buffer[]} list The frame to send\r\n   * @param {Function} [cb] Callback\r\n   * @private\r\n   */\r\n  sendFrame(list, cb) {\r\n    if (list.length === 2) {\r\n      this._socket.cork();\r\n      this._socket.write(list[0]);\r\n      this._socket.write(list[1], cb);\r\n      this._socket.uncork();\r\n    } else {\r\n      this._socket.write(list[0], cb);\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = Sender;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3NlbmRlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0MsZ0NBQWdDO0FBQ3RFO0FBQ2E7QUFDYjtBQUNBLFFBQVEsU0FBUyxFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDbkMsUUFBUSxpQkFBaUIsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQzNDO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMseUhBQXNCO0FBQ3hELFFBQVEsZUFBZSxFQUFFLG1CQUFPLENBQUMsdUdBQWE7QUFDOUMsUUFBUSxvQkFBb0IsRUFBRSxtQkFBTyxDQUFDLHlHQUFjO0FBQ3BELFFBQVEsNEJBQTRCLEVBQUUsbUJBQU8sQ0FBQywyR0FBZTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLGlCQUFpQjtBQUM5QixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGFBQWEsU0FBUztBQUN0QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGFBQWEsU0FBUztBQUN0QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGlCQUFpQjtBQUM5QixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmVyY2VsK3Bvc3RncmVzQDAuOC4wL25vZGVfbW9kdWxlcy93cy9saWIvc2VuZGVyLmpzPzc5NDAiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBbXCJlcnJvclwiLCB7IFwidmFyc0lnbm9yZVBhdHRlcm5cIjogXCJeRHVwbGV4XCIgfV0gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IHsgRHVwbGV4IH0gPSByZXF1aXJlKCdzdHJlYW0nKTtcclxuY29uc3QgeyByYW5kb21GaWxsU3luYyB9ID0gcmVxdWlyZSgnY3J5cHRvJyk7XHJcblxyXG5jb25zdCBQZXJNZXNzYWdlRGVmbGF0ZSA9IHJlcXVpcmUoJy4vcGVybWVzc2FnZS1kZWZsYXRlJyk7XHJcbmNvbnN0IHsgRU1QVFlfQlVGRkVSIH0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xyXG5jb25zdCB7IGlzVmFsaWRTdGF0dXNDb2RlIH0gPSByZXF1aXJlKCcuL3ZhbGlkYXRpb24nKTtcclxuY29uc3QgeyBtYXNrOiBhcHBseU1hc2ssIHRvQnVmZmVyIH0gPSByZXF1aXJlKCcuL2J1ZmZlci11dGlsJyk7XHJcblxyXG5jb25zdCBrQnl0ZUxlbmd0aCA9IFN5bWJvbCgna0J5dGVMZW5ndGgnKTtcclxuY29uc3QgbWFza0J1ZmZlciA9IEJ1ZmZlci5hbGxvYyg0KTtcclxuXHJcbi8qKlxyXG4gKiBIeUJpIFNlbmRlciBpbXBsZW1lbnRhdGlvbi5cclxuICovXHJcbmNsYXNzIFNlbmRlciB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIFNlbmRlciBpbnN0YW5jZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RHVwbGV4fSBzb2NrZXQgVGhlIGNvbm5lY3Rpb24gc29ja2V0XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtleHRlbnNpb25zXSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbmVnb3RpYXRlZCBleHRlbnNpb25zXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2dlbmVyYXRlTWFza10gVGhlIGZ1bmN0aW9uIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIG1hc2tpbmdcclxuICAgKiAgICAga2V5XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc29ja2V0LCBleHRlbnNpb25zLCBnZW5lcmF0ZU1hc2spIHtcclxuICAgIHRoaXMuX2V4dGVuc2lvbnMgPSBleHRlbnNpb25zIHx8IHt9O1xyXG5cclxuICAgIGlmIChnZW5lcmF0ZU1hc2spIHtcclxuICAgICAgdGhpcy5fZ2VuZXJhdGVNYXNrID0gZ2VuZXJhdGVNYXNrO1xyXG4gICAgICB0aGlzLl9tYXNrQnVmZmVyID0gQnVmZmVyLmFsbG9jKDQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3NvY2tldCA9IHNvY2tldDtcclxuXHJcbiAgICB0aGlzLl9maXJzdEZyYWdtZW50ID0gdHJ1ZTtcclxuICAgIHRoaXMuX2NvbXByZXNzID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyA9IDA7XHJcbiAgICB0aGlzLl9kZWZsYXRpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuX3F1ZXVlID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGcmFtZXMgYSBwaWVjZSBvZiBkYXRhIGFjY29yZGluZyB0byB0aGUgSHlCaSBXZWJTb2NrZXQgcHJvdG9jb2wuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyhCdWZmZXJ8U3RyaW5nKX0gZGF0YSBUaGUgZGF0YSB0byBmcmFtZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0XHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5maW49ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBzZXQgdGhlXHJcbiAgICogICAgIEZJTiBiaXRcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5nZW5lcmF0ZU1hc2tdIFRoZSBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIHRoZVxyXG4gICAqICAgICBtYXNraW5nIGtleVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2tcclxuICAgKiAgICAgYGRhdGFgXHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IFtvcHRpb25zLm1hc2tCdWZmZXJdIFRoZSBidWZmZXIgdXNlZCB0byBzdG9yZSB0aGUgbWFza2luZ1xyXG4gICAqICAgICBrZXlcclxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5vcGNvZGUgVGhlIG9wY29kZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmVhZE9ubHk9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIGBkYXRhYCBjYW4gYmVcclxuICAgKiAgICAgbW9kaWZpZWRcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJzdjE9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBzZXQgdGhlXHJcbiAgICogICAgIFJTVjEgYml0XHJcbiAgICogQHJldHVybiB7KEJ1ZmZlcnxTdHJpbmcpW119IFRoZSBmcmFtZWQgZGF0YVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzdGF0aWMgZnJhbWUoZGF0YSwgb3B0aW9ucykge1xyXG4gICAgbGV0IG1hc2s7XHJcbiAgICBsZXQgbWVyZ2UgPSBmYWxzZTtcclxuICAgIGxldCBvZmZzZXQgPSAyO1xyXG4gICAgbGV0IHNraXBNYXNraW5nID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKG9wdGlvbnMubWFzaykge1xyXG4gICAgICBtYXNrID0gb3B0aW9ucy5tYXNrQnVmZmVyIHx8IG1hc2tCdWZmZXI7XHJcblxyXG4gICAgICBpZiAob3B0aW9ucy5nZW5lcmF0ZU1hc2spIHtcclxuICAgICAgICBvcHRpb25zLmdlbmVyYXRlTWFzayhtYXNrKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByYW5kb21GaWxsU3luYyhtYXNrLCAwLCA0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2tpcE1hc2tpbmcgPSAobWFza1swXSB8IG1hc2tbMV0gfCBtYXNrWzJdIHwgbWFza1szXSkgPT09IDA7XHJcbiAgICAgIG9mZnNldCA9IDY7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGRhdGFMZW5ndGg7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKCFvcHRpb25zLm1hc2sgfHwgc2tpcE1hc2tpbmcpICYmXHJcbiAgICAgICAgb3B0aW9uc1trQnl0ZUxlbmd0aF0gIT09IHVuZGVmaW5lZFxyXG4gICAgICApIHtcclxuICAgICAgICBkYXRhTGVuZ3RoID0gb3B0aW9uc1trQnl0ZUxlbmd0aF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YSA9IEJ1ZmZlci5mcm9tKGRhdGEpO1xyXG4gICAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICBtZXJnZSA9IG9wdGlvbnMubWFzayAmJiBvcHRpb25zLnJlYWRPbmx5ICYmICFza2lwTWFza2luZztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcGF5bG9hZExlbmd0aCA9IGRhdGFMZW5ndGg7XHJcblxyXG4gICAgaWYgKGRhdGFMZW5ndGggPj0gNjU1MzYpIHtcclxuICAgICAgb2Zmc2V0ICs9IDg7XHJcbiAgICAgIHBheWxvYWRMZW5ndGggPSAxMjc7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGFMZW5ndGggPiAxMjUpIHtcclxuICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgIHBheWxvYWRMZW5ndGggPSAxMjY7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGFyZ2V0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG1lcmdlID8gZGF0YUxlbmd0aCArIG9mZnNldCA6IG9mZnNldCk7XHJcblxyXG4gICAgdGFyZ2V0WzBdID0gb3B0aW9ucy5maW4gPyBvcHRpb25zLm9wY29kZSB8IDB4ODAgOiBvcHRpb25zLm9wY29kZTtcclxuICAgIGlmIChvcHRpb25zLnJzdjEpIHRhcmdldFswXSB8PSAweDQwO1xyXG5cclxuICAgIHRhcmdldFsxXSA9IHBheWxvYWRMZW5ndGg7XHJcblxyXG4gICAgaWYgKHBheWxvYWRMZW5ndGggPT09IDEyNikge1xyXG4gICAgICB0YXJnZXQud3JpdGVVSW50MTZCRShkYXRhTGVuZ3RoLCAyKTtcclxuICAgIH0gZWxzZSBpZiAocGF5bG9hZExlbmd0aCA9PT0gMTI3KSB7XHJcbiAgICAgIHRhcmdldFsyXSA9IHRhcmdldFszXSA9IDA7XHJcbiAgICAgIHRhcmdldC53cml0ZVVJbnRCRShkYXRhTGVuZ3RoLCA0LCA2KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMubWFzaykgcmV0dXJuIFt0YXJnZXQsIGRhdGFdO1xyXG5cclxuICAgIHRhcmdldFsxXSB8PSAweDgwO1xyXG4gICAgdGFyZ2V0W29mZnNldCAtIDRdID0gbWFza1swXTtcclxuICAgIHRhcmdldFtvZmZzZXQgLSAzXSA9IG1hc2tbMV07XHJcbiAgICB0YXJnZXRbb2Zmc2V0IC0gMl0gPSBtYXNrWzJdO1xyXG4gICAgdGFyZ2V0W29mZnNldCAtIDFdID0gbWFza1szXTtcclxuXHJcbiAgICBpZiAoc2tpcE1hc2tpbmcpIHJldHVybiBbdGFyZ2V0LCBkYXRhXTtcclxuXHJcbiAgICBpZiAobWVyZ2UpIHtcclxuICAgICAgYXBwbHlNYXNrKGRhdGEsIG1hc2ssIHRhcmdldCwgb2Zmc2V0LCBkYXRhTGVuZ3RoKTtcclxuICAgICAgcmV0dXJuIFt0YXJnZXRdO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5TWFzayhkYXRhLCBtYXNrLCBkYXRhLCAwLCBkYXRhTGVuZ3RoKTtcclxuICAgIHJldHVybiBbdGFyZ2V0LCBkYXRhXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmRzIGEgY2xvc2UgbWVzc2FnZSB0byB0aGUgb3RoZXIgcGVlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbY29kZV0gVGhlIHN0YXR1cyBjb2RlIGNvbXBvbmVudCBvZiB0aGUgYm9keVxyXG4gICAqIEBwYXJhbSB7KFN0cmluZ3xCdWZmZXIpfSBbZGF0YV0gVGhlIG1lc3NhZ2UgY29tcG9uZW50IG9mIHRoZSBib2R5XHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgdGhlIG1lc3NhZ2VcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIGNsb3NlKGNvZGUsIGRhdGEsIG1hc2ssIGNiKSB7XHJcbiAgICBsZXQgYnVmO1xyXG5cclxuICAgIGlmIChjb2RlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgYnVmID0gRU1QVFlfQlVGRkVSO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29kZSAhPT0gJ251bWJlcicgfHwgIWlzVmFsaWRTdGF0dXNDb2RlKGNvZGUpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSB2YWxpZCBlcnJvciBjb2RlIG51bWJlcicpO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhID09PSB1bmRlZmluZWQgfHwgIWRhdGEubGVuZ3RoKSB7XHJcbiAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgyKTtcclxuICAgICAgYnVmLndyaXRlVUludDE2QkUoY29kZSwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBsZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhKTtcclxuXHJcbiAgICAgIGlmIChsZW5ndGggPiAxMjMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIG1lc3NhZ2UgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIDEyMyBieXRlcycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMiArIGxlbmd0aCk7XHJcbiAgICAgIGJ1Zi53cml0ZVVJbnQxNkJFKGNvZGUsIDApO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGJ1Zi53cml0ZShkYXRhLCAyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBidWYuc2V0KGRhdGEsIDIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgW2tCeXRlTGVuZ3RoXTogYnVmLmxlbmd0aCxcclxuICAgICAgZmluOiB0cnVlLFxyXG4gICAgICBnZW5lcmF0ZU1hc2s6IHRoaXMuX2dlbmVyYXRlTWFzayxcclxuICAgICAgbWFzayxcclxuICAgICAgbWFza0J1ZmZlcjogdGhpcy5fbWFza0J1ZmZlcixcclxuICAgICAgb3Bjb2RlOiAweDA4LFxyXG4gICAgICByZWFkT25seTogZmFsc2UsXHJcbiAgICAgIHJzdjE6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0aGlzLl9kZWZsYXRpbmcpIHtcclxuICAgICAgdGhpcy5lbnF1ZXVlKFt0aGlzLmRpc3BhdGNoLCBidWYsIGZhbHNlLCBvcHRpb25zLCBjYl0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZW5kRnJhbWUoU2VuZGVyLmZyYW1lKGJ1Ziwgb3B0aW9ucyksIGNiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmRzIGEgcGluZyBtZXNzYWdlIHRvIHRoZSBvdGhlciBwZWVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHBpbmcoZGF0YSwgbWFzaywgY2IpIHtcclxuICAgIGxldCBieXRlTGVuZ3RoO1xyXG4gICAgbGV0IHJlYWRPbmx5O1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgYnl0ZUxlbmd0aCA9IEJ1ZmZlci5ieXRlTGVuZ3RoKGRhdGEpO1xyXG4gICAgICByZWFkT25seSA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YSA9IHRvQnVmZmVyKGRhdGEpO1xyXG4gICAgICBieXRlTGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgIHJlYWRPbmx5ID0gdG9CdWZmZXIucmVhZE9ubHk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGJ5dGVMZW5ndGggPiAxMjUpIHtcclxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSBkYXRhIHNpemUgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIDEyNSBieXRlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIFtrQnl0ZUxlbmd0aF06IGJ5dGVMZW5ndGgsXHJcbiAgICAgIGZpbjogdHJ1ZSxcclxuICAgICAgZ2VuZXJhdGVNYXNrOiB0aGlzLl9nZW5lcmF0ZU1hc2ssXHJcbiAgICAgIG1hc2ssXHJcbiAgICAgIG1hc2tCdWZmZXI6IHRoaXMuX21hc2tCdWZmZXIsXHJcbiAgICAgIG9wY29kZTogMHgwOSxcclxuICAgICAgcmVhZE9ubHksXHJcbiAgICAgIHJzdjE6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0aGlzLl9kZWZsYXRpbmcpIHtcclxuICAgICAgdGhpcy5lbnF1ZXVlKFt0aGlzLmRpc3BhdGNoLCBkYXRhLCBmYWxzZSwgb3B0aW9ucywgY2JdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VuZEZyYW1lKFNlbmRlci5mcmFtZShkYXRhLCBvcHRpb25zKSwgY2IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VuZHMgYSBwb25nIG1lc3NhZ2UgdG8gdGhlIG90aGVyIHBlZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcG9uZyhkYXRhLCBtYXNrLCBjYikge1xyXG4gICAgbGV0IGJ5dGVMZW5ndGg7XHJcbiAgICBsZXQgcmVhZE9ubHk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xyXG4gICAgICBieXRlTGVuZ3RoID0gQnVmZmVyLmJ5dGVMZW5ndGgoZGF0YSk7XHJcbiAgICAgIHJlYWRPbmx5ID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkYXRhID0gdG9CdWZmZXIoZGF0YSk7XHJcbiAgICAgIGJ5dGVMZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuICAgICAgcmVhZE9ubHkgPSB0b0J1ZmZlci5yZWFkT25seTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYnl0ZUxlbmd0aCA+IDEyNSkge1xyXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIGRhdGEgc2l6ZSBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gMTI1IGJ5dGVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgW2tCeXRlTGVuZ3RoXTogYnl0ZUxlbmd0aCxcclxuICAgICAgZmluOiB0cnVlLFxyXG4gICAgICBnZW5lcmF0ZU1hc2s6IHRoaXMuX2dlbmVyYXRlTWFzayxcclxuICAgICAgbWFzayxcclxuICAgICAgbWFza0J1ZmZlcjogdGhpcy5fbWFza0J1ZmZlcixcclxuICAgICAgb3Bjb2RlOiAweDBhLFxyXG4gICAgICByZWFkT25seSxcclxuICAgICAgcnN2MTogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHRoaXMuX2RlZmxhdGluZykge1xyXG4gICAgICB0aGlzLmVucXVldWUoW3RoaXMuZGlzcGF0Y2gsIGRhdGEsIGZhbHNlLCBvcHRpb25zLCBjYl0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZW5kRnJhbWUoU2VuZGVyLmZyYW1lKGRhdGEsIG9wdGlvbnMpLCBjYik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZW5kcyBhIGRhdGEgbWVzc2FnZSB0byB0aGUgb3RoZXIgcGVlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3RcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmJpbmFyeT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgYGRhdGFgIGlzIGJpbmFyeVxyXG4gICAqICAgICBvciB0ZXh0XHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jb21wcmVzcz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvXHJcbiAgICogICAgIGNvbXByZXNzIGBkYXRhYFxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmluPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZnJhZ21lbnQgaXMgdGhlXHJcbiAgICogICAgIGxhc3Qgb25lXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFza1xyXG4gICAqICAgICBgZGF0YWBcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHNlbmQoZGF0YSwgb3B0aW9ucywgY2IpIHtcclxuICAgIGNvbnN0IHBlck1lc3NhZ2VEZWZsYXRlID0gdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXTtcclxuICAgIGxldCBvcGNvZGUgPSBvcHRpb25zLmJpbmFyeSA/IDIgOiAxO1xyXG4gICAgbGV0IHJzdjEgPSBvcHRpb25zLmNvbXByZXNzO1xyXG5cclxuICAgIGxldCBieXRlTGVuZ3RoO1xyXG4gICAgbGV0IHJlYWRPbmx5O1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgYnl0ZUxlbmd0aCA9IEJ1ZmZlci5ieXRlTGVuZ3RoKGRhdGEpO1xyXG4gICAgICByZWFkT25seSA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YSA9IHRvQnVmZmVyKGRhdGEpO1xyXG4gICAgICBieXRlTGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgIHJlYWRPbmx5ID0gdG9CdWZmZXIucmVhZE9ubHk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2ZpcnN0RnJhZ21lbnQpIHtcclxuICAgICAgdGhpcy5fZmlyc3RGcmFnbWVudCA9IGZhbHNlO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgcnN2MSAmJlxyXG4gICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlICYmXHJcbiAgICAgICAgcGVyTWVzc2FnZURlZmxhdGUucGFyYW1zW1xyXG4gICAgICAgICAgcGVyTWVzc2FnZURlZmxhdGUuX2lzU2VydmVyXHJcbiAgICAgICAgICAgID8gJ3NlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyJ1xyXG4gICAgICAgICAgICA6ICdjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlcidcclxuICAgICAgICBdXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJzdjEgPSBieXRlTGVuZ3RoID49IHBlck1lc3NhZ2VEZWZsYXRlLl90aHJlc2hvbGQ7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fY29tcHJlc3MgPSByc3YxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcnN2MSA9IGZhbHNlO1xyXG4gICAgICBvcGNvZGUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLmZpbikgdGhpcy5fZmlyc3RGcmFnbWVudCA9IHRydWU7XHJcblxyXG4gICAgaWYgKHBlck1lc3NhZ2VEZWZsYXRlKSB7XHJcbiAgICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgICAgW2tCeXRlTGVuZ3RoXTogYnl0ZUxlbmd0aCxcclxuICAgICAgICBmaW46IG9wdGlvbnMuZmluLFxyXG4gICAgICAgIGdlbmVyYXRlTWFzazogdGhpcy5fZ2VuZXJhdGVNYXNrLFxyXG4gICAgICAgIG1hc2s6IG9wdGlvbnMubWFzayxcclxuICAgICAgICBtYXNrQnVmZmVyOiB0aGlzLl9tYXNrQnVmZmVyLFxyXG4gICAgICAgIG9wY29kZSxcclxuICAgICAgICByZWFkT25seSxcclxuICAgICAgICByc3YxXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5fZGVmbGF0aW5nKSB7XHJcbiAgICAgICAgdGhpcy5lbnF1ZXVlKFt0aGlzLmRpc3BhdGNoLCBkYXRhLCB0aGlzLl9jb21wcmVzcywgb3B0cywgY2JdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKGRhdGEsIHRoaXMuX2NvbXByZXNzLCBvcHRzLCBjYik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VuZEZyYW1lKFxyXG4gICAgICAgIFNlbmRlci5mcmFtZShkYXRhLCB7XHJcbiAgICAgICAgICBba0J5dGVMZW5ndGhdOiBieXRlTGVuZ3RoLFxyXG4gICAgICAgICAgZmluOiBvcHRpb25zLmZpbixcclxuICAgICAgICAgIGdlbmVyYXRlTWFzazogdGhpcy5fZ2VuZXJhdGVNYXNrLFxyXG4gICAgICAgICAgbWFzazogb3B0aW9ucy5tYXNrLFxyXG4gICAgICAgICAgbWFza0J1ZmZlcjogdGhpcy5fbWFza0J1ZmZlcixcclxuICAgICAgICAgIG9wY29kZSxcclxuICAgICAgICAgIHJlYWRPbmx5LFxyXG4gICAgICAgICAgcnN2MTogZmFsc2VcclxuICAgICAgICB9KSxcclxuICAgICAgICBjYlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzcGF0Y2hlcyBhIG1lc3NhZ2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyhCdWZmZXJ8U3RyaW5nKX0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbY29tcHJlc3M9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBjb21wcmVzc1xyXG4gICAqICAgICBgZGF0YWBcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmluPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gc2V0IHRoZVxyXG4gICAqICAgICBGSU4gYml0XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZ2VuZXJhdGVNYXNrXSBUaGUgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSB0aGVcclxuICAgKiAgICAgbWFza2luZyBrZXlcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrXHJcbiAgICogICAgIGBkYXRhYFxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBbb3B0aW9ucy5tYXNrQnVmZmVyXSBUaGUgYnVmZmVyIHVzZWQgdG8gc3RvcmUgdGhlIG1hc2tpbmdcclxuICAgKiAgICAga2V5XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMub3Bjb2RlIFRoZSBvcGNvZGVcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJlYWRPbmx5PWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgY2FuIGJlXHJcbiAgICogICAgIG1vZGlmaWVkXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yc3YxPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gc2V0IHRoZVxyXG4gICAqICAgICBSU1YxIGJpdFxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGRpc3BhdGNoKGRhdGEsIGNvbXByZXNzLCBvcHRpb25zLCBjYikge1xyXG4gICAgaWYgKCFjb21wcmVzcykge1xyXG4gICAgICB0aGlzLnNlbmRGcmFtZShTZW5kZXIuZnJhbWUoZGF0YSwgb3B0aW9ucyksIGNiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBlck1lc3NhZ2VEZWZsYXRlID0gdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXTtcclxuXHJcbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzICs9IG9wdGlvbnNba0J5dGVMZW5ndGhdO1xyXG4gICAgdGhpcy5fZGVmbGF0aW5nID0gdHJ1ZTtcclxuICAgIHBlck1lc3NhZ2VEZWZsYXRlLmNvbXByZXNzKGRhdGEsIG9wdGlvbnMuZmluLCAoXywgYnVmKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9zb2NrZXQuZGVzdHJveWVkKSB7XHJcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxyXG4gICAgICAgICAgJ1RoZSBzb2NrZXQgd2FzIGNsb3NlZCB3aGlsZSBkYXRhIHdhcyBiZWluZyBjb21wcmVzc2VkJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIGNiKGVycik7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuX3F1ZXVlW2ldO1xyXG4gICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBwYXJhbXNbcGFyYW1zLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgLT0gb3B0aW9uc1trQnl0ZUxlbmd0aF07XHJcbiAgICAgIHRoaXMuX2RlZmxhdGluZyA9IGZhbHNlO1xyXG4gICAgICBvcHRpb25zLnJlYWRPbmx5ID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuc2VuZEZyYW1lKFNlbmRlci5mcmFtZShidWYsIG9wdGlvbnMpLCBjYik7XHJcbiAgICAgIHRoaXMuZGVxdWV1ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlcyBxdWV1ZWQgc2VuZCBvcGVyYXRpb25zLlxyXG4gICAqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBkZXF1ZXVlKCkge1xyXG4gICAgd2hpbGUgKCF0aGlzLl9kZWZsYXRpbmcgJiYgdGhpcy5fcXVldWUubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgICB0aGlzLl9idWZmZXJlZEJ5dGVzIC09IHBhcmFtc1szXVtrQnl0ZUxlbmd0aF07XHJcbiAgICAgIFJlZmxlY3QuYXBwbHkocGFyYW1zWzBdLCB0aGlzLCBwYXJhbXMuc2xpY2UoMSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5xdWV1ZXMgYSBzZW5kIG9wZXJhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBTZW5kIG9wZXJhdGlvbiBwYXJhbWV0ZXJzLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZW5xdWV1ZShwYXJhbXMpIHtcclxuICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgKz0gcGFyYW1zWzNdW2tCeXRlTGVuZ3RoXTtcclxuICAgIHRoaXMuX3F1ZXVlLnB1c2gocGFyYW1zKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmRzIGEgZnJhbWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0J1ZmZlcltdfSBsaXN0IFRoZSBmcmFtZSB0byBzZW5kXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgc2VuZEZyYW1lKGxpc3QsIGNiKSB7XHJcbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDIpIHtcclxuICAgICAgdGhpcy5fc29ja2V0LmNvcmsoKTtcclxuICAgICAgdGhpcy5fc29ja2V0LndyaXRlKGxpc3RbMF0pO1xyXG4gICAgICB0aGlzLl9zb2NrZXQud3JpdGUobGlzdFsxXSwgY2IpO1xyXG4gICAgICB0aGlzLl9zb2NrZXQudW5jb3JrKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zb2NrZXQud3JpdGUobGlzdFswXSwgY2IpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTZW5kZXI7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/sender.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/stream.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/stream.js ***!
  \*********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst { Duplex } = __webpack_require__(/*! stream */ \"stream\");\r\n\r\n/**\r\n * Emits the `'close'` event on a stream.\r\n *\r\n * @param {Duplex} stream The stream.\r\n * @private\r\n */\r\nfunction emitClose(stream) {\r\n  stream.emit('close');\r\n}\r\n\r\n/**\r\n * The listener of the `'end'` event.\r\n *\r\n * @private\r\n */\r\nfunction duplexOnEnd() {\r\n  if (!this.destroyed && this._writableState.finished) {\r\n    this.destroy();\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the `'error'` event.\r\n *\r\n * @param {Error} err The error\r\n * @private\r\n */\r\nfunction duplexOnError(err) {\r\n  this.removeListener('error', duplexOnError);\r\n  this.destroy();\r\n  if (this.listenerCount('error') === 0) {\r\n    // Do not suppress the throwing behavior.\r\n    this.emit('error', err);\r\n  }\r\n}\r\n\r\n/**\r\n * Wraps a `WebSocket` in a duplex stream.\r\n *\r\n * @param {WebSocket} ws The `WebSocket` to wrap\r\n * @param {Object} [options] The options for the `Duplex` constructor\r\n * @return {Duplex} The duplex stream\r\n * @public\r\n */\r\nfunction createWebSocketStream(ws, options) {\r\n  let terminateOnDestroy = true;\r\n\r\n  const duplex = new Duplex({\r\n    ...options,\r\n    autoDestroy: false,\r\n    emitClose: false,\r\n    objectMode: false,\r\n    writableObjectMode: false\r\n  });\r\n\r\n  ws.on('message', function message(msg, isBinary) {\r\n    const data =\r\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\r\n\r\n    if (!duplex.push(data)) ws.pause();\r\n  });\r\n\r\n  ws.once('error', function error(err) {\r\n    if (duplex.destroyed) return;\r\n\r\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\r\n    //\r\n    // - If the `'error'` event is emitted before the `'open'` event, then\r\n    //   `ws.terminate()` is a noop as no socket is assigned.\r\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\r\n    //   event of the `Receiver` object. The listener already closes the\r\n    //   connection by calling `ws.close()`. This allows a close frame to be\r\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\r\n    //   then the close frame might not be sent.\r\n    terminateOnDestroy = false;\r\n    duplex.destroy(err);\r\n  });\r\n\r\n  ws.once('close', function close() {\r\n    if (duplex.destroyed) return;\r\n\r\n    duplex.push(null);\r\n  });\r\n\r\n  duplex._destroy = function (err, callback) {\r\n    if (ws.readyState === ws.CLOSED) {\r\n      callback(err);\r\n      process.nextTick(emitClose, duplex);\r\n      return;\r\n    }\r\n\r\n    let called = false;\r\n\r\n    ws.once('error', function error(err) {\r\n      called = true;\r\n      callback(err);\r\n    });\r\n\r\n    ws.once('close', function close() {\r\n      if (!called) callback(err);\r\n      process.nextTick(emitClose, duplex);\r\n    });\r\n\r\n    if (terminateOnDestroy) ws.terminate();\r\n  };\r\n\r\n  duplex._final = function (callback) {\r\n    if (ws.readyState === ws.CONNECTING) {\r\n      ws.once('open', function open() {\r\n        duplex._final(callback);\r\n      });\r\n      return;\r\n    }\r\n\r\n    // If the value of the `_socket` property is `null` it means that `ws` is a\r\n    // client websocket and the handshake failed. In fact, when this happens, a\r\n    // socket is never assigned to the websocket. Wait for the `'error'` event\r\n    // that will be emitted by the websocket.\r\n    if (ws._socket === null) return;\r\n\r\n    if (ws._socket._writableState.finished) {\r\n      callback();\r\n      if (duplex._readableState.endEmitted) duplex.destroy();\r\n    } else {\r\n      ws._socket.once('finish', function finish() {\r\n        // `duplex` is not destroyed here because the `'end'` event will be\r\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\r\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\r\n        callback();\r\n      });\r\n      ws.close();\r\n    }\r\n  };\r\n\r\n  duplex._read = function () {\r\n    if (ws.isPaused) ws.resume();\r\n  };\r\n\r\n  duplex._write = function (chunk, encoding, callback) {\r\n    if (ws.readyState === ws.CONNECTING) {\r\n      ws.once('open', function open() {\r\n        duplex._write(chunk, encoding, callback);\r\n      });\r\n      return;\r\n    }\r\n\r\n    ws.send(chunk, callback);\r\n  };\r\n\r\n  duplex.on('end', duplexOnEnd);\r\n  duplex.on('error', duplexOnError);\r\n  return duplex;\r\n}\r\n\r\nmodule.exports = createWebSocketStream;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3N0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsUUFBUSxTQUFTLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3N0cmVhbS5qcz9iYTQzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IHsgRHVwbGV4IH0gPSByZXF1aXJlKCdzdHJlYW0nKTtcclxuXHJcbi8qKlxyXG4gKiBFbWl0cyB0aGUgYCdjbG9zZSdgIGV2ZW50IG9uIGEgc3RyZWFtLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0R1cGxleH0gc3RyZWFtIFRoZSBzdHJlYW0uXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBlbWl0Q2xvc2Uoc3RyZWFtKSB7XHJcbiAgc3RyZWFtLmVtaXQoJ2Nsb3NlJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGAnZW5kJ2AgZXZlbnQuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBkdXBsZXhPbkVuZCgpIHtcclxuICBpZiAoIXRoaXMuZGVzdHJveWVkICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQpIHtcclxuICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYCdlcnJvcidgIGV2ZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnIgVGhlIGVycm9yXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBkdXBsZXhPbkVycm9yKGVycikge1xyXG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZHVwbGV4T25FcnJvcik7XHJcbiAgdGhpcy5kZXN0cm95KCk7XHJcbiAgaWYgKHRoaXMubGlzdGVuZXJDb3VudCgnZXJyb3InKSA9PT0gMCkge1xyXG4gICAgLy8gRG8gbm90IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvci5cclxuICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFdyYXBzIGEgYFdlYlNvY2tldGAgaW4gYSBkdXBsZXggc3RyZWFtLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1dlYlNvY2tldH0gd3MgVGhlIGBXZWJTb2NrZXRgIHRvIHdyYXBcclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBmb3IgdGhlIGBEdXBsZXhgIGNvbnN0cnVjdG9yXHJcbiAqIEByZXR1cm4ge0R1cGxleH0gVGhlIGR1cGxleCBzdHJlYW1cclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlV2ViU29ja2V0U3RyZWFtKHdzLCBvcHRpb25zKSB7XHJcbiAgbGV0IHRlcm1pbmF0ZU9uRGVzdHJveSA9IHRydWU7XHJcblxyXG4gIGNvbnN0IGR1cGxleCA9IG5ldyBEdXBsZXgoe1xyXG4gICAgLi4ub3B0aW9ucyxcclxuICAgIGF1dG9EZXN0cm95OiBmYWxzZSxcclxuICAgIGVtaXRDbG9zZTogZmFsc2UsXHJcbiAgICBvYmplY3RNb2RlOiBmYWxzZSxcclxuICAgIHdyaXRhYmxlT2JqZWN0TW9kZTogZmFsc2VcclxuICB9KTtcclxuXHJcbiAgd3Mub24oJ21lc3NhZ2UnLCBmdW5jdGlvbiBtZXNzYWdlKG1zZywgaXNCaW5hcnkpIHtcclxuICAgIGNvbnN0IGRhdGEgPVxyXG4gICAgICAhaXNCaW5hcnkgJiYgZHVwbGV4Ll9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGUgPyBtc2cudG9TdHJpbmcoKSA6IG1zZztcclxuXHJcbiAgICBpZiAoIWR1cGxleC5wdXNoKGRhdGEpKSB3cy5wYXVzZSgpO1xyXG4gIH0pO1xyXG5cclxuICB3cy5vbmNlKCdlcnJvcicsIGZ1bmN0aW9uIGVycm9yKGVycikge1xyXG4gICAgaWYgKGR1cGxleC5kZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAvLyBQcmV2ZW50IGB3cy50ZXJtaW5hdGUoKWAgZnJvbSBiZWluZyBjYWxsZWQgYnkgYGR1cGxleC5fZGVzdHJveSgpYC5cclxuICAgIC8vXHJcbiAgICAvLyAtIElmIHRoZSBgJ2Vycm9yJ2AgZXZlbnQgaXMgZW1pdHRlZCBiZWZvcmUgdGhlIGAnb3BlbidgIGV2ZW50LCB0aGVuXHJcbiAgICAvLyAgIGB3cy50ZXJtaW5hdGUoKWAgaXMgYSBub29wIGFzIG5vIHNvY2tldCBpcyBhc3NpZ25lZC5cclxuICAgIC8vIC0gT3RoZXJ3aXNlLCB0aGUgZXJyb3IgaXMgcmUtZW1pdHRlZCBieSB0aGUgbGlzdGVuZXIgb2YgdGhlIGAnZXJyb3InYFxyXG4gICAgLy8gICBldmVudCBvZiB0aGUgYFJlY2VpdmVyYCBvYmplY3QuIFRoZSBsaXN0ZW5lciBhbHJlYWR5IGNsb3NlcyB0aGVcclxuICAgIC8vICAgY29ubmVjdGlvbiBieSBjYWxsaW5nIGB3cy5jbG9zZSgpYC4gVGhpcyBhbGxvd3MgYSBjbG9zZSBmcmFtZSB0byBiZVxyXG4gICAgLy8gICBzZW50IHRvIHRoZSBvdGhlciBwZWVyLiBJZiBgd3MudGVybWluYXRlKClgIGlzIGNhbGxlZCByaWdodCBhZnRlciB0aGlzLFxyXG4gICAgLy8gICB0aGVuIHRoZSBjbG9zZSBmcmFtZSBtaWdodCBub3QgYmUgc2VudC5cclxuICAgIHRlcm1pbmF0ZU9uRGVzdHJveSA9IGZhbHNlO1xyXG4gICAgZHVwbGV4LmRlc3Ryb3koZXJyKTtcclxuICB9KTtcclxuXHJcbiAgd3Mub25jZSgnY2xvc2UnLCBmdW5jdGlvbiBjbG9zZSgpIHtcclxuICAgIGlmIChkdXBsZXguZGVzdHJveWVkKSByZXR1cm47XHJcblxyXG4gICAgZHVwbGV4LnB1c2gobnVsbCk7XHJcbiAgfSk7XHJcblxyXG4gIGR1cGxleC5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gd3MuQ0xPU0VEKSB7XHJcbiAgICAgIGNhbGxiYWNrKGVycik7XHJcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlLCBkdXBsZXgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xyXG5cclxuICAgIHdzLm9uY2UoJ2Vycm9yJywgZnVuY3Rpb24gZXJyb3IoZXJyKSB7XHJcbiAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgIGNhbGxiYWNrKGVycik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3cy5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uIGNsb3NlKCkge1xyXG4gICAgICBpZiAoIWNhbGxlZCkgY2FsbGJhY2soZXJyKTtcclxuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2UsIGR1cGxleCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlT25EZXN0cm95KSB3cy50ZXJtaW5hdGUoKTtcclxuICB9O1xyXG5cclxuICBkdXBsZXguX2ZpbmFsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gd3MuQ09OTkVDVElORykge1xyXG4gICAgICB3cy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gb3BlbigpIHtcclxuICAgICAgICBkdXBsZXguX2ZpbmFsKGNhbGxiYWNrKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIGBfc29ja2V0YCBwcm9wZXJ0eSBpcyBgbnVsbGAgaXQgbWVhbnMgdGhhdCBgd3NgIGlzIGFcclxuICAgIC8vIGNsaWVudCB3ZWJzb2NrZXQgYW5kIHRoZSBoYW5kc2hha2UgZmFpbGVkLiBJbiBmYWN0LCB3aGVuIHRoaXMgaGFwcGVucywgYVxyXG4gICAgLy8gc29ja2V0IGlzIG5ldmVyIGFzc2lnbmVkIHRvIHRoZSB3ZWJzb2NrZXQuIFdhaXQgZm9yIHRoZSBgJ2Vycm9yJ2AgZXZlbnRcclxuICAgIC8vIHRoYXQgd2lsbCBiZSBlbWl0dGVkIGJ5IHRoZSB3ZWJzb2NrZXQuXHJcbiAgICBpZiAod3MuX3NvY2tldCA9PT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgIGlmICh3cy5fc29ja2V0Ll93cml0YWJsZVN0YXRlLmZpbmlzaGVkKSB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIGlmIChkdXBsZXguX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCkgZHVwbGV4LmRlc3Ryb3koKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHdzLl9zb2NrZXQub25jZSgnZmluaXNoJywgZnVuY3Rpb24gZmluaXNoKCkge1xyXG4gICAgICAgIC8vIGBkdXBsZXhgIGlzIG5vdCBkZXN0cm95ZWQgaGVyZSBiZWNhdXNlIHRoZSBgJ2VuZCdgIGV2ZW50IHdpbGwgYmVcclxuICAgICAgICAvLyBlbWl0dGVkIG9uIGBkdXBsZXhgIGFmdGVyIHRoaXMgYCdmaW5pc2gnYCBldmVudC4gVGhlIEVPRiBzaWduYWxpbmdcclxuICAgICAgICAvLyBgbnVsbGAgY2h1bmsgaXMsIGluIGZhY3QsIHB1c2hlZCB3aGVuIHRoZSB3ZWJzb2NrZXQgZW1pdHMgYCdjbG9zZSdgLlxyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB3cy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGR1cGxleC5fcmVhZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh3cy5pc1BhdXNlZCkgd3MucmVzdW1lKCk7XHJcbiAgfTtcclxuXHJcbiAgZHVwbGV4Ll93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gd3MuQ09OTkVDVElORykge1xyXG4gICAgICB3cy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gb3BlbigpIHtcclxuICAgICAgICBkdXBsZXguX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHdzLnNlbmQoY2h1bmssIGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICBkdXBsZXgub24oJ2VuZCcsIGR1cGxleE9uRW5kKTtcclxuICBkdXBsZXgub24oJ2Vycm9yJywgZHVwbGV4T25FcnJvcik7XHJcbiAgcmV0dXJuIGR1cGxleDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVXZWJTb2NrZXRTdHJlYW07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/stream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/subprotocol.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/subprotocol.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst { tokenChars } = __webpack_require__(/*! ./validation */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/validation.js\");\r\n\r\n/**\r\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\r\n *\r\n * @param {String} header The field value of the header\r\n * @return {Set} The subprotocol names\r\n * @public\r\n */\r\nfunction parse(header) {\r\n  const protocols = new Set();\r\n  let start = -1;\r\n  let end = -1;\r\n  let i = 0;\r\n\r\n  for (i; i < header.length; i++) {\r\n    const code = header.charCodeAt(i);\r\n\r\n    if (end === -1 && tokenChars[code] === 1) {\r\n      if (start === -1) start = i;\r\n    } else if (\r\n      i !== 0 &&\r\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\r\n    ) {\r\n      if (end === -1 && start !== -1) end = i;\r\n    } else if (code === 0x2c /* ',' */) {\r\n      if (start === -1) {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n\r\n      if (end === -1) end = i;\r\n\r\n      const protocol = header.slice(start, end);\r\n\r\n      if (protocols.has(protocol)) {\r\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\r\n      }\r\n\r\n      protocols.add(protocol);\r\n      start = end = -1;\r\n    } else {\r\n      throw new SyntaxError(`Unexpected character at index ${i}`);\r\n    }\r\n  }\r\n\r\n  if (start === -1 || end !== -1) {\r\n    throw new SyntaxError('Unexpected end of input');\r\n  }\r\n\r\n  const protocol = header.slice(start, i);\r\n\r\n  if (protocols.has(protocol)) {\r\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\r\n  }\r\n\r\n  protocols.add(protocol);\r\n  return protocols;\r\n}\r\n\r\nmodule.exports = { parse };\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3N1YnByb3RvY29sLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSxRQUFRLGFBQWEsRUFBRSxtQkFBTyxDQUFDLHlHQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksS0FBSztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSwrREFBK0QsRUFBRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDZEQUE2RCxFQUFFO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFNBQVM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL3dzL2xpYi9zdWJwcm90b2NvbC5qcz8zMDZjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IHsgdG9rZW5DaGFycyB9ID0gcmVxdWlyZSgnLi92YWxpZGF0aW9uJyk7XHJcblxyXG4vKipcclxuICogUGFyc2VzIHRoZSBgU2VjLVdlYlNvY2tldC1Qcm90b2NvbGAgaGVhZGVyIGludG8gYSBzZXQgb2Ygc3VicHJvdG9jb2wgbmFtZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXIgVGhlIGZpZWxkIHZhbHVlIG9mIHRoZSBoZWFkZXJcclxuICogQHJldHVybiB7U2V0fSBUaGUgc3VicHJvdG9jb2wgbmFtZXNcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2UoaGVhZGVyKSB7XHJcbiAgY29uc3QgcHJvdG9jb2xzID0gbmV3IFNldCgpO1xyXG4gIGxldCBzdGFydCA9IC0xO1xyXG4gIGxldCBlbmQgPSAtMTtcclxuICBsZXQgaSA9IDA7XHJcblxyXG4gIGZvciAoaTsgaSA8IGhlYWRlci5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgY29kZSA9IGhlYWRlci5jaGFyQ29kZUF0KGkpO1xyXG5cclxuICAgIGlmIChlbmQgPT09IC0xICYmIHRva2VuQ2hhcnNbY29kZV0gPT09IDEpIHtcclxuICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgaSAhPT0gMCAmJlxyXG4gICAgICAoY29kZSA9PT0gMHgyMCAvKiAnICcgKi8gfHwgY29kZSA9PT0gMHgwOSkgLyogJ1xcdCcgKi9cclxuICAgICkge1xyXG4gICAgICBpZiAoZW5kID09PSAtMSAmJiBzdGFydCAhPT0gLTEpIGVuZCA9IGk7XHJcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MmMgLyogJywnICovKSB7XHJcbiAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcclxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XHJcblxyXG4gICAgICBjb25zdCBwcm90b2NvbCA9IGhlYWRlci5zbGljZShzdGFydCwgZW5kKTtcclxuXHJcbiAgICAgIGlmIChwcm90b2NvbHMuaGFzKHByb3RvY29sKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVGhlIFwiJHtwcm90b2NvbH1cIiBzdWJwcm90b2NvbCBpcyBkdXBsaWNhdGVkYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHByb3RvY29scy5hZGQocHJvdG9jb2wpO1xyXG4gICAgICBzdGFydCA9IGVuZCA9IC0xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoc3RhcnQgPT09IC0xIHx8IGVuZCAhPT0gLTEpIHtcclxuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHByb3RvY29sID0gaGVhZGVyLnNsaWNlKHN0YXJ0LCBpKTtcclxuXHJcbiAgaWYgKHByb3RvY29scy5oYXMocHJvdG9jb2wpKSB7XHJcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFRoZSBcIiR7cHJvdG9jb2x9XCIgc3VicHJvdG9jb2wgaXMgZHVwbGljYXRlZGApO1xyXG4gIH1cclxuXHJcbiAgcHJvdG9jb2xzLmFkZChwcm90b2NvbCk7XHJcbiAgcmV0dXJuIHByb3RvY29scztcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IHBhcnNlIH07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/subprotocol.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/validation.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/validation.js ***!
  \*************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\r\n\r\nconst { isUtf8 } = __webpack_require__(/*! buffer */ \"buffer\");\r\n\r\n//\r\n// Allowed token characters:\r\n//\r\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\r\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\r\n//\r\n// tokenChars[32] === 0 // ' '\r\n// tokenChars[33] === 1 // '!'\r\n// tokenChars[34] === 0 // '\"'\r\n// ...\r\n//\r\n// prettier-ignore\r\nconst tokenChars = [\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\r\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\r\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\r\n];\r\n\r\n/**\r\n * Checks if a status code is allowed in a close frame.\r\n *\r\n * @param {Number} code The status code\r\n * @return {Boolean} `true` if the status code is valid, else `false`\r\n * @public\r\n */\r\nfunction isValidStatusCode(code) {\r\n  return (\r\n    (code >= 1000 &&\r\n      code <= 1014 &&\r\n      code !== 1004 &&\r\n      code !== 1005 &&\r\n      code !== 1006) ||\r\n    (code >= 3000 && code <= 4999)\r\n  );\r\n}\r\n\r\n/**\r\n * Checks if a given buffer contains only correct UTF-8.\r\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\r\n * Markus Kuhn.\r\n *\r\n * @param {Buffer} buf The buffer to check\r\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\r\n * @public\r\n */\r\nfunction _isValidUTF8(buf) {\r\n  const len = buf.length;\r\n  let i = 0;\r\n\r\n  while (i < len) {\r\n    if ((buf[i] & 0x80) === 0) {\r\n      // 0xxxxxxx\r\n      i++;\r\n    } else if ((buf[i] & 0xe0) === 0xc0) {\r\n      // 110xxxxx 10xxxxxx\r\n      if (\r\n        i + 1 === len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i] & 0xfe) === 0xc0 // Overlong\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 2;\r\n    } else if ((buf[i] & 0xf0) === 0xe0) {\r\n      // 1110xxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 2 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\r\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 3;\r\n    } else if ((buf[i] & 0xf8) === 0xf0) {\r\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 3 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        (buf[i + 3] & 0xc0) !== 0x80 ||\r\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\r\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\r\n        buf[i] > 0xf4 // > U+10FFFF\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 4;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nmodule.exports = {\r\n  isValidStatusCode,\r\n  isValidUTF8: _isValidUTF8,\r\n  tokenChars\r\n};\r\n\r\nif (isUtf8) {\r\n  module.exports.isValidUTF8 = function (buf) {\r\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\r\n  };\r\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\r\n  try {\r\n    const isValidUTF8 = __webpack_require__(/*! utf-8-validate */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/utf-8-validate/index.js\");\r\n\r\n    module.exports.isValidUTF8 = function (buf) {\r\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\r\n    };\r\n  } catch (e) {\r\n    // Continue regardless of the error.\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3ZhbGlkYXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLFFBQVEsU0FBUyxFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDBCQUEwQjtBQUM1QjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0Esd0JBQXdCLG1CQUFPLENBQUMsOEdBQWdCO0FBQ2hEO0FBQ0EsSUFBSSwwQkFBMEI7QUFDOUI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3ZhbGlkYXRpb24uanM/YTAyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCB7IGlzVXRmOCB9ID0gcmVxdWlyZSgnYnVmZmVyJyk7XHJcblxyXG4vL1xyXG4vLyBBbGxvd2VkIHRva2VuIGNoYXJhY3RlcnM6XHJcbi8vXHJcbi8vICchJywgJyMnLCAnJCcsICclJywgJyYnLCAnJycsICcqJywgJysnLCAnLScsXHJcbi8vICcuJywgMC05LCBBLVosICdeJywgJ18nLCAnYCcsIGEteiwgJ3wnLCAnfidcclxuLy9cclxuLy8gdG9rZW5DaGFyc1szMl0gPT09IDAgLy8gJyAnXHJcbi8vIHRva2VuQ2hhcnNbMzNdID09PSAxIC8vICchJ1xyXG4vLyB0b2tlbkNoYXJzWzM0XSA9PT0gMCAvLyAnXCInXHJcbi8vIC4uLlxyXG4vL1xyXG4vLyBwcmV0dGllci1pZ25vcmVcclxuY29uc3QgdG9rZW5DaGFycyA9IFtcclxuICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAvLyAwIC0gMTVcclxuICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAvLyAxNiAtIDMxXHJcbiAgMCwgMSwgMCwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMSwgMSwgMCwgMSwgMSwgMCwgLy8gMzIgLSA0N1xyXG4gIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIC8vIDQ4IC0gNjNcclxuICAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAvLyA2NCAtIDc5XHJcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMSwgMSwgLy8gODAgLSA5NVxyXG4gIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIC8vIDk2IC0gMTExXHJcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMSwgMCwgMSwgMCAvLyAxMTIgLSAxMjdcclxuXTtcclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYSBzdGF0dXMgY29kZSBpcyBhbGxvd2VkIGluIGEgY2xvc2UgZnJhbWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFRoZSBzdGF0dXMgY29kZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHN0YXR1cyBjb2RlIGlzIHZhbGlkLCBlbHNlIGBmYWxzZWBcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gaXNWYWxpZFN0YXR1c0NvZGUoY29kZSkge1xyXG4gIHJldHVybiAoXHJcbiAgICAoY29kZSA+PSAxMDAwICYmXHJcbiAgICAgIGNvZGUgPD0gMTAxNCAmJlxyXG4gICAgICBjb2RlICE9PSAxMDA0ICYmXHJcbiAgICAgIGNvZGUgIT09IDEwMDUgJiZcclxuICAgICAgY29kZSAhPT0gMTAwNikgfHxcclxuICAgIChjb2RlID49IDMwMDAgJiYgY29kZSA8PSA0OTk5KVxyXG4gICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBidWZmZXIgY29udGFpbnMgb25seSBjb3JyZWN0IFVURi04LlxyXG4gKiBQb3J0ZWQgZnJvbSBodHRwczovL3d3dy5jbC5jYW0uYWMudWsvJTdFbWdrMjUvdWNzL3V0ZjhfY2hlY2suYyBieVxyXG4gKiBNYXJrdXMgS3Vobi5cclxuICpcclxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZiBUaGUgYnVmZmVyIHRvIGNoZWNrXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBgYnVmYCBjb250YWlucyBvbmx5IGNvcnJlY3QgVVRGLTgsIGVsc2UgYGZhbHNlYFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBfaXNWYWxpZFVURjgoYnVmKSB7XHJcbiAgY29uc3QgbGVuID0gYnVmLmxlbmd0aDtcclxuICBsZXQgaSA9IDA7XHJcblxyXG4gIHdoaWxlIChpIDwgbGVuKSB7XHJcbiAgICBpZiAoKGJ1ZltpXSAmIDB4ODApID09PSAwKSB7XHJcbiAgICAgIC8vIDB4eHh4eHh4XHJcbiAgICAgIGkrKztcclxuICAgIH0gZWxzZSBpZiAoKGJ1ZltpXSAmIDB4ZTApID09PSAweGMwKSB7XHJcbiAgICAgIC8vIDExMHh4eHh4IDEweHh4eHh4XHJcbiAgICAgIGlmIChcclxuICAgICAgICBpICsgMSA9PT0gbGVuIHx8XHJcbiAgICAgICAgKGJ1ZltpICsgMV0gJiAweGMwKSAhPT0gMHg4MCB8fFxyXG4gICAgICAgIChidWZbaV0gJiAweGZlKSA9PT0gMHhjMCAvLyBPdmVybG9uZ1xyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGkgKz0gMjtcclxuICAgIH0gZWxzZSBpZiAoKGJ1ZltpXSAmIDB4ZjApID09PSAweGUwKSB7XHJcbiAgICAgIC8vIDExMTB4eHh4IDEweHh4eHh4IDEweHh4eHh4XHJcbiAgICAgIGlmIChcclxuICAgICAgICBpICsgMiA+PSBsZW4gfHxcclxuICAgICAgICAoYnVmW2kgKyAxXSAmIDB4YzApICE9PSAweDgwIHx8XHJcbiAgICAgICAgKGJ1ZltpICsgMl0gJiAweGMwKSAhPT0gMHg4MCB8fFxyXG4gICAgICAgIChidWZbaV0gPT09IDB4ZTAgJiYgKGJ1ZltpICsgMV0gJiAweGUwKSA9PT0gMHg4MCkgfHwgLy8gT3ZlcmxvbmdcclxuICAgICAgICAoYnVmW2ldID09PSAweGVkICYmIChidWZbaSArIDFdICYgMHhlMCkgPT09IDB4YTApIC8vIFN1cnJvZ2F0ZSAoVStEODAwIC0gVStERkZGKVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGkgKz0gMztcclxuICAgIH0gZWxzZSBpZiAoKGJ1ZltpXSAmIDB4ZjgpID09PSAweGYwKSB7XHJcbiAgICAgIC8vIDExMTEweHh4IDEweHh4eHh4IDEweHh4eHh4IDEweHh4eHh4XHJcbiAgICAgIGlmIChcclxuICAgICAgICBpICsgMyA+PSBsZW4gfHxcclxuICAgICAgICAoYnVmW2kgKyAxXSAmIDB4YzApICE9PSAweDgwIHx8XHJcbiAgICAgICAgKGJ1ZltpICsgMl0gJiAweGMwKSAhPT0gMHg4MCB8fFxyXG4gICAgICAgIChidWZbaSArIDNdICYgMHhjMCkgIT09IDB4ODAgfHxcclxuICAgICAgICAoYnVmW2ldID09PSAweGYwICYmIChidWZbaSArIDFdICYgMHhmMCkgPT09IDB4ODApIHx8IC8vIE92ZXJsb25nXHJcbiAgICAgICAgKGJ1ZltpXSA9PT0gMHhmNCAmJiBidWZbaSArIDFdID4gMHg4ZikgfHxcclxuICAgICAgICBidWZbaV0gPiAweGY0IC8vID4gVSsxMEZGRkZcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpICs9IDQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaXNWYWxpZFN0YXR1c0NvZGUsXHJcbiAgaXNWYWxpZFVURjg6IF9pc1ZhbGlkVVRGOCxcclxuICB0b2tlbkNoYXJzXHJcbn07XHJcblxyXG5pZiAoaXNVdGY4KSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMuaXNWYWxpZFVURjggPSBmdW5jdGlvbiAoYnVmKSB7XHJcbiAgICByZXR1cm4gYnVmLmxlbmd0aCA8IDI0ID8gX2lzVmFsaWRVVEY4KGJ1ZikgOiBpc1V0ZjgoYnVmKTtcclxuICB9O1xyXG59IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqLyBlbHNlIGlmICghcHJvY2Vzcy5lbnYuV1NfTk9fVVRGXzhfVkFMSURBVEUpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaXNWYWxpZFVURjggPSByZXF1aXJlKCd1dGYtOC12YWxpZGF0ZScpO1xyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzLmlzVmFsaWRVVEY4ID0gZnVuY3Rpb24gKGJ1Zikge1xyXG4gICAgICByZXR1cm4gYnVmLmxlbmd0aCA8IDMyID8gX2lzVmFsaWRVVEY4KGJ1ZikgOiBpc1ZhbGlkVVRGOChidWYpO1xyXG4gICAgfTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBDb250aW51ZSByZWdhcmRsZXNzIG9mIHRoZSBlcnJvci5cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/validation.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket-server.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket-server.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\" }] */\r\n\r\n\r\n\r\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\r\nconst http = __webpack_require__(/*! http */ \"http\");\r\nconst { Duplex } = __webpack_require__(/*! stream */ \"stream\");\r\nconst { createHash } = __webpack_require__(/*! crypto */ \"crypto\");\r\n\r\nconst extension = __webpack_require__(/*! ./extension */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/extension.js\");\r\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/permessage-deflate.js\");\r\nconst subprotocol = __webpack_require__(/*! ./subprotocol */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/subprotocol.js\");\r\nconst WebSocket = __webpack_require__(/*! ./websocket */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket.js\");\r\nconst { GUID, kWebSocket } = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\");\r\n\r\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\r\n\r\nconst RUNNING = 0;\r\nconst CLOSING = 1;\r\nconst CLOSED = 2;\r\n\r\n/**\r\n * Class representing a WebSocket server.\r\n *\r\n * @extends EventEmitter\r\n */\r\nclass WebSocketServer extends EventEmitter {\r\n  /**\r\n   * Create a `WebSocketServer` instance.\r\n   *\r\n   * @param {Object} options Configuration options\r\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\r\n   *     pending connections\r\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\r\n   *     track clients\r\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\r\n   * @param {String} [options.host] The hostname where to bind the server\r\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\r\n   *     size\r\n   * @param {Boolean} [options.noServer=false] Enable no server mode\r\n   * @param {String} [options.path] Accept only connections matching this path\r\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\r\n   *     permessage-deflate\r\n   * @param {Number} [options.port] The port where to bind the server\r\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\r\n   *     server to use\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   * @param {Function} [options.verifyClient] A hook to reject connections\r\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\r\n   *     class to use. It must be the `WebSocket` class or class that extends it\r\n   * @param {Function} [callback] A listener for the `listening` event\r\n   */\r\n  constructor(options, callback) {\r\n    super();\r\n\r\n    options = {\r\n      maxPayload: 100 * 1024 * 1024,\r\n      skipUTF8Validation: false,\r\n      perMessageDeflate: false,\r\n      handleProtocols: null,\r\n      clientTracking: true,\r\n      verifyClient: null,\r\n      noServer: false,\r\n      backlog: null, // use default (511 as implemented in net.js)\r\n      server: null,\r\n      host: null,\r\n      path: null,\r\n      port: null,\r\n      WebSocket,\r\n      ...options\r\n    };\r\n\r\n    if (\r\n      (options.port == null && !options.server && !options.noServer) ||\r\n      (options.port != null && (options.server || options.noServer)) ||\r\n      (options.server && options.noServer)\r\n    ) {\r\n      throw new TypeError(\r\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\r\n          'must be specified'\r\n      );\r\n    }\r\n\r\n    if (options.port != null) {\r\n      this._server = http.createServer((req, res) => {\r\n        const body = http.STATUS_CODES[426];\r\n\r\n        res.writeHead(426, {\r\n          'Content-Length': body.length,\r\n          'Content-Type': 'text/plain'\r\n        });\r\n        res.end(body);\r\n      });\r\n      this._server.listen(\r\n        options.port,\r\n        options.host,\r\n        options.backlog,\r\n        callback\r\n      );\r\n    } else if (options.server) {\r\n      this._server = options.server;\r\n    }\r\n\r\n    if (this._server) {\r\n      const emitConnection = this.emit.bind(this, 'connection');\r\n\r\n      this._removeListeners = addListeners(this._server, {\r\n        listening: this.emit.bind(this, 'listening'),\r\n        error: this.emit.bind(this, 'error'),\r\n        upgrade: (req, socket, head) => {\r\n          this.handleUpgrade(req, socket, head, emitConnection);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\r\n    if (options.clientTracking) {\r\n      this.clients = new Set();\r\n      this._shouldEmitClose = false;\r\n    }\r\n\r\n    this.options = options;\r\n    this._state = RUNNING;\r\n  }\r\n\r\n  /**\r\n   * Returns the bound address, the address family name, and port of the server\r\n   * as reported by the operating system if listening on an IP socket.\r\n   * If the server is listening on a pipe or UNIX domain socket, the name is\r\n   * returned as a string.\r\n   *\r\n   * @return {(Object|String|null)} The address of the server\r\n   * @public\r\n   */\r\n  address() {\r\n    if (this.options.noServer) {\r\n      throw new Error('The server is operating in \"noServer\" mode');\r\n    }\r\n\r\n    if (!this._server) return null;\r\n    return this._server.address();\r\n  }\r\n\r\n  /**\r\n   * Stop the server from accepting new connections and emit the `'close'` event\r\n   * when all existing connections are closed.\r\n   *\r\n   * @param {Function} [cb] A one-time listener for the `'close'` event\r\n   * @public\r\n   */\r\n  close(cb) {\r\n    if (this._state === CLOSED) {\r\n      if (cb) {\r\n        this.once('close', () => {\r\n          cb(new Error('The server is not running'));\r\n        });\r\n      }\r\n\r\n      process.nextTick(emitClose, this);\r\n      return;\r\n    }\r\n\r\n    if (cb) this.once('close', cb);\r\n\r\n    if (this._state === CLOSING) return;\r\n    this._state = CLOSING;\r\n\r\n    if (this.options.noServer || this.options.server) {\r\n      if (this._server) {\r\n        this._removeListeners();\r\n        this._removeListeners = this._server = null;\r\n      }\r\n\r\n      if (this.clients) {\r\n        if (!this.clients.size) {\r\n          process.nextTick(emitClose, this);\r\n        } else {\r\n          this._shouldEmitClose = true;\r\n        }\r\n      } else {\r\n        process.nextTick(emitClose, this);\r\n      }\r\n    } else {\r\n      const server = this._server;\r\n\r\n      this._removeListeners();\r\n      this._removeListeners = this._server = null;\r\n\r\n      //\r\n      // The HTTP/S server was created internally. Close it, and rely on its\r\n      // `'close'` event.\r\n      //\r\n      server.close(() => {\r\n        emitClose(this);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * See if a given request should be handled by this server instance.\r\n   *\r\n   * @param {http.IncomingMessage} req Request object to inspect\r\n   * @return {Boolean} `true` if the request is valid, else `false`\r\n   * @public\r\n   */\r\n  shouldHandle(req) {\r\n    if (this.options.path) {\r\n      const index = req.url.indexOf('?');\r\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\r\n\r\n      if (pathname !== this.options.path) return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Handle a HTTP Upgrade request.\r\n   *\r\n   * @param {http.IncomingMessage} req The request object\r\n   * @param {Duplex} socket The network socket between the server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Function} cb Callback\r\n   * @public\r\n   */\r\n  handleUpgrade(req, socket, head, cb) {\r\n    socket.on('error', socketOnError);\r\n\r\n    const key = req.headers['sec-websocket-key'];\r\n    const version = +req.headers['sec-websocket-version'];\r\n\r\n    if (req.method !== 'GET') {\r\n      const message = 'Invalid HTTP method';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\r\n      return;\r\n    }\r\n\r\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\r\n      const message = 'Invalid Upgrade header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (!key || !keyRegex.test(key)) {\r\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (version !== 8 && version !== 13) {\r\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (!this.shouldHandle(req)) {\r\n      abortHandshake(socket, 400);\r\n      return;\r\n    }\r\n\r\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\r\n    let protocols = new Set();\r\n\r\n    if (secWebSocketProtocol !== undefined) {\r\n      try {\r\n        protocols = subprotocol.parse(secWebSocketProtocol);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Protocol header';\r\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\r\n    const extensions = {};\r\n\r\n    if (\r\n      this.options.perMessageDeflate &&\r\n      secWebSocketExtensions !== undefined\r\n    ) {\r\n      const perMessageDeflate = new PerMessageDeflate(\r\n        this.options.perMessageDeflate,\r\n        true,\r\n        this.options.maxPayload\r\n      );\r\n\r\n      try {\r\n        const offers = extension.parse(secWebSocketExtensions);\r\n\r\n        if (offers[PerMessageDeflate.extensionName]) {\r\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\r\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\r\n        }\r\n      } catch (err) {\r\n        const message =\r\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\r\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n        return;\r\n      }\r\n    }\r\n\r\n    //\r\n    // Optionally call external client verification handler.\r\n    //\r\n    if (this.options.verifyClient) {\r\n      const info = {\r\n        origin:\r\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\r\n        secure: !!(req.socket.authorized || req.socket.encrypted),\r\n        req\r\n      };\r\n\r\n      if (this.options.verifyClient.length === 2) {\r\n        this.options.verifyClient(info, (verified, code, message, headers) => {\r\n          if (!verified) {\r\n            return abortHandshake(socket, code || 401, message, headers);\r\n          }\r\n\r\n          this.completeUpgrade(\r\n            extensions,\r\n            key,\r\n            protocols,\r\n            req,\r\n            socket,\r\n            head,\r\n            cb\r\n          );\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\r\n    }\r\n\r\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\r\n  }\r\n\r\n  /**\r\n   * Upgrade the connection to WebSocket.\r\n   *\r\n   * @param {Object} extensions The accepted extensions\r\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\r\n   * @param {Set} protocols The subprotocols\r\n   * @param {http.IncomingMessage} req The request object\r\n   * @param {Duplex} socket The network socket between the server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Function} cb Callback\r\n   * @throws {Error} If called more than once with the same socket\r\n   * @private\r\n   */\r\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\r\n    //\r\n    // Destroy the socket if the client has already sent a FIN packet.\r\n    //\r\n    if (!socket.readable || !socket.writable) return socket.destroy();\r\n\r\n    if (socket[kWebSocket]) {\r\n      throw new Error(\r\n        'server.handleUpgrade() was called more than once with the same ' +\r\n          'socket, possibly due to a misconfiguration'\r\n      );\r\n    }\r\n\r\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\r\n\r\n    const digest = createHash('sha1')\r\n      .update(key + GUID)\r\n      .digest('base64');\r\n\r\n    const headers = [\r\n      'HTTP/1.1 101 Switching Protocols',\r\n      'Upgrade: websocket',\r\n      'Connection: Upgrade',\r\n      `Sec-WebSocket-Accept: ${digest}`\r\n    ];\r\n\r\n    const ws = new this.options.WebSocket(null);\r\n\r\n    if (protocols.size) {\r\n      //\r\n      // Optionally call external protocol selection handler.\r\n      //\r\n      const protocol = this.options.handleProtocols\r\n        ? this.options.handleProtocols(protocols, req)\r\n        : protocols.values().next().value;\r\n\r\n      if (protocol) {\r\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\r\n        ws._protocol = protocol;\r\n      }\r\n    }\r\n\r\n    if (extensions[PerMessageDeflate.extensionName]) {\r\n      const params = extensions[PerMessageDeflate.extensionName].params;\r\n      const value = extension.format({\r\n        [PerMessageDeflate.extensionName]: [params]\r\n      });\r\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\r\n      ws._extensions = extensions;\r\n    }\r\n\r\n    //\r\n    // Allow external modification/inspection of handshake headers.\r\n    //\r\n    this.emit('headers', headers, req);\r\n\r\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\r\n    socket.removeListener('error', socketOnError);\r\n\r\n    ws.setSocket(socket, head, {\r\n      maxPayload: this.options.maxPayload,\r\n      skipUTF8Validation: this.options.skipUTF8Validation\r\n    });\r\n\r\n    if (this.clients) {\r\n      this.clients.add(ws);\r\n      ws.on('close', () => {\r\n        this.clients.delete(ws);\r\n\r\n        if (this._shouldEmitClose && !this.clients.size) {\r\n          process.nextTick(emitClose, this);\r\n        }\r\n      });\r\n    }\r\n\r\n    cb(ws, req);\r\n  }\r\n}\r\n\r\nmodule.exports = WebSocketServer;\r\n\r\n/**\r\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\r\n * pairs.\r\n *\r\n * @param {EventEmitter} server The event emitter\r\n * @param {Object.<String, Function>} map The listeners to add\r\n * @return {Function} A function that will remove the added listeners when\r\n *     called\r\n * @private\r\n */\r\nfunction addListeners(server, map) {\r\n  for (const event of Object.keys(map)) server.on(event, map[event]);\r\n\r\n  return function removeListeners() {\r\n    for (const event of Object.keys(map)) {\r\n      server.removeListener(event, map[event]);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Emit a `'close'` event on an `EventEmitter`.\r\n *\r\n * @param {EventEmitter} server The event emitter\r\n * @private\r\n */\r\nfunction emitClose(server) {\r\n  server._state = CLOSED;\r\n  server.emit('close');\r\n}\r\n\r\n/**\r\n * Handle socket errors.\r\n *\r\n * @private\r\n */\r\nfunction socketOnError() {\r\n  this.destroy();\r\n}\r\n\r\n/**\r\n * Close the connection when preconditions are not fulfilled.\r\n *\r\n * @param {Duplex} socket The socket of the upgrade request\r\n * @param {Number} code The HTTP response status code\r\n * @param {String} [message] The HTTP response body\r\n * @param {Object} [headers] Additional HTTP response headers\r\n * @private\r\n */\r\nfunction abortHandshake(socket, code, message, headers) {\r\n  //\r\n  // The socket is writable unless the user destroyed or ended it before calling\r\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\r\n  // error. Handling this does not make much sense as the worst that can happen\r\n  // is that some of the data written by the user might be discarded due to the\r\n  // call to `socket.end()` below, which triggers an `'error'` event that in\r\n  // turn causes the socket to be destroyed.\r\n  //\r\n  message = message || http.STATUS_CODES[code];\r\n  headers = {\r\n    Connection: 'close',\r\n    'Content-Type': 'text/html',\r\n    'Content-Length': Buffer.byteLength(message),\r\n    ...headers\r\n  };\r\n\r\n  socket.once('finish', socket.destroy);\r\n\r\n  socket.end(\r\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\r\n      Object.keys(headers)\r\n        .map((h) => `${h}: ${headers[h]}`)\r\n        .join('\\r\\n') +\r\n      '\\r\\n\\r\\n' +\r\n      message\r\n  );\r\n}\r\n\r\n/**\r\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\r\n * one listener for it, otherwise call `abortHandshake()`.\r\n *\r\n * @param {WebSocketServer} server The WebSocket server\r\n * @param {http.IncomingMessage} req The request object\r\n * @param {Duplex} socket The socket of the upgrade request\r\n * @param {Number} code The HTTP response status code\r\n * @param {String} message The HTTP response body\r\n * @private\r\n */\r\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\r\n  if (server.listenerCount('wsClientError')) {\r\n    const err = new Error(message);\r\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\r\n\r\n    server.emit('wsClientError', err, socket, req);\r\n  } else {\r\n    abortHandshake(socket, code, message);\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC1zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDLGlDQUFpQztBQUN2RTtBQUNhO0FBQ2I7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNyQyxhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsUUFBUSxTQUFTLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTtBQUNuQyxRQUFRLGFBQWEsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQ3ZDO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsdUdBQWE7QUFDdkMsMEJBQTBCLG1CQUFPLENBQUMseUhBQXNCO0FBQ3hELG9CQUFvQixtQkFBTyxDQUFDLDJHQUFlO0FBQzNDLGtCQUFrQixtQkFBTyxDQUFDLHVHQUFhO0FBQ3ZDLFFBQVEsbUJBQW1CLEVBQUUsbUJBQU8sQ0FBQyx1R0FBYTtBQUNsRDtBQUNBLGlDQUFpQyxHQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsNEJBQTRCO0FBQ3pDO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsVUFBVTtBQUN2QjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQyxjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQyxhQUFhLFFBQVE7QUFD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VyxpQkFBaUI7QUFDNUIsV0FBVyxzQkFBc0I7QUFDakMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC1zZXJ2ZXIuanM/ZmUxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFtcImVycm9yXCIsIHsgXCJ2YXJzSWdub3JlUGF0dGVyblwiOiBcIl5EdXBsZXgkXCIgfV0gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xyXG5jb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xyXG5jb25zdCB7IER1cGxleCB9ID0gcmVxdWlyZSgnc3RyZWFtJyk7XHJcbmNvbnN0IHsgY3JlYXRlSGFzaCB9ID0gcmVxdWlyZSgnY3J5cHRvJyk7XHJcblxyXG5jb25zdCBleHRlbnNpb24gPSByZXF1aXJlKCcuL2V4dGVuc2lvbicpO1xyXG5jb25zdCBQZXJNZXNzYWdlRGVmbGF0ZSA9IHJlcXVpcmUoJy4vcGVybWVzc2FnZS1kZWZsYXRlJyk7XHJcbmNvbnN0IHN1YnByb3RvY29sID0gcmVxdWlyZSgnLi9zdWJwcm90b2NvbCcpO1xyXG5jb25zdCBXZWJTb2NrZXQgPSByZXF1aXJlKCcuL3dlYnNvY2tldCcpO1xyXG5jb25zdCB7IEdVSUQsIGtXZWJTb2NrZXQgfSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XHJcblxyXG5jb25zdCBrZXlSZWdleCA9IC9eWysvMC05QS1aYS16XXsyMn09PSQvO1xyXG5cclxuY29uc3QgUlVOTklORyA9IDA7XHJcbmNvbnN0IENMT1NJTkcgPSAxO1xyXG5jb25zdCBDTE9TRUQgPSAyO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIFdlYlNvY2tldCBzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxyXG4gKi9cclxuY2xhc3MgV2ViU29ja2V0U2VydmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBgV2ViU29ja2V0U2VydmVyYCBpbnN0YW5jZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5iYWNrbG9nPTUxMV0gVGhlIG1heGltdW0gbGVuZ3RoIG9mIHRoZSBxdWV1ZSBvZlxyXG4gICAqICAgICBwZW5kaW5nIGNvbm5lY3Rpb25zXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jbGllbnRUcmFja2luZz10cnVlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG9cclxuICAgKiAgICAgdHJhY2sgY2xpZW50c1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmhhbmRsZVByb3RvY29sc10gQSBob29rIHRvIGhhbmRsZSBwcm90b2NvbHNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaG9zdF0gVGhlIGhvc3RuYW1lIHdoZXJlIHRvIGJpbmQgdGhlIHNlcnZlclxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhQYXlsb2FkPTEwNDg1NzYwMF0gVGhlIG1heGltdW0gYWxsb3dlZCBtZXNzYWdlXHJcbiAgICogICAgIHNpemVcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm5vU2VydmVyPWZhbHNlXSBFbmFibGUgbm8gc2VydmVyIG1vZGVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGF0aF0gQWNjZXB0IG9ubHkgY29ubmVjdGlvbnMgbWF0Y2hpbmcgdGhpcyBwYXRoXHJcbiAgICogQHBhcmFtIHsoQm9vbGVhbnxPYmplY3QpfSBbb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZT1mYWxzZV0gRW5hYmxlL2Rpc2FibGVcclxuICAgKiAgICAgcGVybWVzc2FnZS1kZWZsYXRlXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnBvcnRdIFRoZSBwb3J0IHdoZXJlIHRvIGJpbmQgdGhlIHNlcnZlclxyXG4gICAqIEBwYXJhbSB7KGh0dHAuU2VydmVyfGh0dHBzLlNlcnZlcil9IFtvcHRpb25zLnNlcnZlcl0gQSBwcmUtY3JlYXRlZCBIVFRQL1NcclxuICAgKiAgICAgc2VydmVyIHRvIHVzZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2tpcFVURjhWYWxpZGF0aW9uPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvclxyXG4gICAqICAgICBub3QgdG8gc2tpcCBVVEYtOCB2YWxpZGF0aW9uIGZvciB0ZXh0IGFuZCBjbG9zZSBtZXNzYWdlc1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZlcmlmeUNsaWVudF0gQSBob29rIHRvIHJlamVjdCBjb25uZWN0aW9uc1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLldlYlNvY2tldD1XZWJTb2NrZXRdIFNwZWNpZmllcyB0aGUgYFdlYlNvY2tldGBcclxuICAgKiAgICAgY2xhc3MgdG8gdXNlLiBJdCBtdXN0IGJlIHRoZSBgV2ViU29ja2V0YCBjbGFzcyBvciBjbGFzcyB0aGF0IGV4dGVuZHMgaXRcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgbGlzdGVuZXIgZm9yIHRoZSBgbGlzdGVuaW5nYCBldmVudFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIG1heFBheWxvYWQ6IDEwMCAqIDEwMjQgKiAxMDI0LFxyXG4gICAgICBza2lwVVRGOFZhbGlkYXRpb246IGZhbHNlLFxyXG4gICAgICBwZXJNZXNzYWdlRGVmbGF0ZTogZmFsc2UsXHJcbiAgICAgIGhhbmRsZVByb3RvY29sczogbnVsbCxcclxuICAgICAgY2xpZW50VHJhY2tpbmc6IHRydWUsXHJcbiAgICAgIHZlcmlmeUNsaWVudDogbnVsbCxcclxuICAgICAgbm9TZXJ2ZXI6IGZhbHNlLFxyXG4gICAgICBiYWNrbG9nOiBudWxsLCAvLyB1c2UgZGVmYXVsdCAoNTExIGFzIGltcGxlbWVudGVkIGluIG5ldC5qcylcclxuICAgICAgc2VydmVyOiBudWxsLFxyXG4gICAgICBob3N0OiBudWxsLFxyXG4gICAgICBwYXRoOiBudWxsLFxyXG4gICAgICBwb3J0OiBudWxsLFxyXG4gICAgICBXZWJTb2NrZXQsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAob3B0aW9ucy5wb3J0ID09IG51bGwgJiYgIW9wdGlvbnMuc2VydmVyICYmICFvcHRpb25zLm5vU2VydmVyKSB8fFxyXG4gICAgICAob3B0aW9ucy5wb3J0ICE9IG51bGwgJiYgKG9wdGlvbnMuc2VydmVyIHx8IG9wdGlvbnMubm9TZXJ2ZXIpKSB8fFxyXG4gICAgICAob3B0aW9ucy5zZXJ2ZXIgJiYgb3B0aW9ucy5ub1NlcnZlcilcclxuICAgICkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4gICAgICAgICdPbmUgYW5kIG9ubHkgb25lIG9mIHRoZSBcInBvcnRcIiwgXCJzZXJ2ZXJcIiwgb3IgXCJub1NlcnZlclwiIG9wdGlvbnMgJyArXHJcbiAgICAgICAgICAnbXVzdCBiZSBzcGVjaWZpZWQnXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMucG9ydCAhPSBudWxsKSB7XHJcbiAgICAgIHRoaXMuX3NlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBodHRwLlNUQVRVU19DT0RFU1s0MjZdO1xyXG5cclxuICAgICAgICByZXMud3JpdGVIZWFkKDQyNiwge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogYm9keS5sZW5ndGgsXHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVzLmVuZChib2R5KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuX3NlcnZlci5saXN0ZW4oXHJcbiAgICAgICAgb3B0aW9ucy5wb3J0LFxyXG4gICAgICAgIG9wdGlvbnMuaG9zdCxcclxuICAgICAgICBvcHRpb25zLmJhY2tsb2csXHJcbiAgICAgICAgY2FsbGJhY2tcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5zZXJ2ZXIpIHtcclxuICAgICAgdGhpcy5fc2VydmVyID0gb3B0aW9ucy5zZXJ2ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX3NlcnZlcikge1xyXG4gICAgICBjb25zdCBlbWl0Q29ubmVjdGlvbiA9IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdjb25uZWN0aW9uJyk7XHJcblxyXG4gICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSBhZGRMaXN0ZW5lcnModGhpcy5fc2VydmVyLCB7XHJcbiAgICAgICAgbGlzdGVuaW5nOiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnbGlzdGVuaW5nJyksXHJcbiAgICAgICAgZXJyb3I6IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdlcnJvcicpLFxyXG4gICAgICAgIHVwZ3JhZGU6IChyZXEsIHNvY2tldCwgaGVhZCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVVcGdyYWRlKHJlcSwgc29ja2V0LCBoZWFkLCBlbWl0Q29ubmVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSA9PT0gdHJ1ZSkgb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSA9IHt9O1xyXG4gICAgaWYgKG9wdGlvbnMuY2xpZW50VHJhY2tpbmcpIHtcclxuICAgICAgdGhpcy5jbGllbnRzID0gbmV3IFNldCgpO1xyXG4gICAgICB0aGlzLl9zaG91bGRFbWl0Q2xvc2UgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5fc3RhdGUgPSBSVU5OSU5HO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYm91bmQgYWRkcmVzcywgdGhlIGFkZHJlc3MgZmFtaWx5IG5hbWUsIGFuZCBwb3J0IG9mIHRoZSBzZXJ2ZXJcclxuICAgKiBhcyByZXBvcnRlZCBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbSBpZiBsaXN0ZW5pbmcgb24gYW4gSVAgc29ja2V0LlxyXG4gICAqIElmIHRoZSBzZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIGEgcGlwZSBvciBVTklYIGRvbWFpbiBzb2NrZXQsIHRoZSBuYW1lIGlzXHJcbiAgICogcmV0dXJuZWQgYXMgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHsoT2JqZWN0fFN0cmluZ3xudWxsKX0gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlcnZlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBhZGRyZXNzKCkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5ub1NlcnZlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzZXJ2ZXIgaXMgb3BlcmF0aW5nIGluIFwibm9TZXJ2ZXJcIiBtb2RlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLl9zZXJ2ZXIpIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlci5hZGRyZXNzKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIHRoZSBzZXJ2ZXIgZnJvbSBhY2NlcHRpbmcgbmV3IGNvbm5lY3Rpb25zIGFuZCBlbWl0IHRoZSBgJ2Nsb3NlJ2AgZXZlbnRcclxuICAgKiB3aGVuIGFsbCBleGlzdGluZyBjb25uZWN0aW9ucyBhcmUgY2xvc2VkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBBIG9uZS10aW1lIGxpc3RlbmVyIGZvciB0aGUgYCdjbG9zZSdgIGV2ZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIGNsb3NlKGNiKSB7XHJcbiAgICBpZiAodGhpcy5fc3RhdGUgPT09IENMT1NFRCkge1xyXG4gICAgICBpZiAoY2IpIHtcclxuICAgICAgICB0aGlzLm9uY2UoJ2Nsb3NlJywgKCkgPT4ge1xyXG4gICAgICAgICAgY2IobmV3IEVycm9yKCdUaGUgc2VydmVyIGlzIG5vdCBydW5uaW5nJykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZSwgdGhpcyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2IpIHRoaXMub25jZSgnY2xvc2UnLCBjYik7XHJcblxyXG4gICAgaWYgKHRoaXMuX3N0YXRlID09PSBDTE9TSU5HKSByZXR1cm47XHJcbiAgICB0aGlzLl9zdGF0ZSA9IENMT1NJTkc7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5ub1NlcnZlciB8fCB0aGlzLm9wdGlvbnMuc2VydmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLl9zZXJ2ZXIpIHtcclxuICAgICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSB0aGlzLl9zZXJ2ZXIgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5jbGllbnRzKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudHMuc2l6ZSkge1xyXG4gICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2UsIHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9zaG91bGRFbWl0Q2xvc2UgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZSwgdGhpcyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHNlcnZlciA9IHRoaXMuX3NlcnZlcjtcclxuXHJcbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSB0aGlzLl9zZXJ2ZXIgPSBudWxsO1xyXG5cclxuICAgICAgLy9cclxuICAgICAgLy8gVGhlIEhUVFAvUyBzZXJ2ZXIgd2FzIGNyZWF0ZWQgaW50ZXJuYWxseS4gQ2xvc2UgaXQsIGFuZCByZWx5IG9uIGl0c1xyXG4gICAgICAvLyBgJ2Nsb3NlJ2AgZXZlbnQuXHJcbiAgICAgIC8vXHJcbiAgICAgIHNlcnZlci5jbG9zZSgoKSA9PiB7XHJcbiAgICAgICAgZW1pdENsb3NlKHRoaXMpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlZSBpZiBhIGdpdmVuIHJlcXVlc3Qgc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhpcyBzZXJ2ZXIgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2h0dHAuSW5jb21pbmdNZXNzYWdlfSByZXEgUmVxdWVzdCBvYmplY3QgdG8gaW5zcGVjdFxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcmVxdWVzdCBpcyB2YWxpZCwgZWxzZSBgZmFsc2VgXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHNob3VsZEhhbmRsZShyZXEpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMucGF0aCkge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHJlcS51cmwuaW5kZXhPZignPycpO1xyXG4gICAgICBjb25zdCBwYXRobmFtZSA9IGluZGV4ICE9PSAtMSA/IHJlcS51cmwuc2xpY2UoMCwgaW5kZXgpIDogcmVxLnVybDtcclxuXHJcbiAgICAgIGlmIChwYXRobmFtZSAhPT0gdGhpcy5vcHRpb25zLnBhdGgpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZSBhIEhUVFAgVXBncmFkZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtodHRwLkluY29taW5nTWVzc2FnZX0gcmVxIFRoZSByZXF1ZXN0IG9iamVjdFxyXG4gICAqIEBwYXJhbSB7RHVwbGV4fSBzb2NrZXQgVGhlIG5ldHdvcmsgc29ja2V0IGJldHdlZW4gdGhlIHNlcnZlciBhbmQgY2xpZW50XHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGhlYWQgVGhlIGZpcnN0IHBhY2tldCBvZiB0aGUgdXBncmFkZWQgc3RyZWFtXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgaGFuZGxlVXBncmFkZShyZXEsIHNvY2tldCwgaGVhZCwgY2IpIHtcclxuICAgIHNvY2tldC5vbignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcclxuXHJcbiAgICBjb25zdCBrZXkgPSByZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1rZXknXTtcclxuICAgIGNvbnN0IHZlcnNpb24gPSArcmVxLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQtdmVyc2lvbiddO1xyXG5cclxuICAgIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xyXG4gICAgICBjb25zdCBtZXNzYWdlID0gJ0ludmFsaWQgSFRUUCBtZXRob2QnO1xyXG4gICAgICBhYm9ydEhhbmRzaGFrZU9yRW1pdHdzQ2xpZW50RXJyb3IodGhpcywgcmVxLCBzb2NrZXQsIDQwNSwgbWVzc2FnZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVxLmhlYWRlcnMudXBncmFkZS50b0xvd2VyQ2FzZSgpICE9PSAnd2Vic29ja2V0Jykge1xyXG4gICAgICBjb25zdCBtZXNzYWdlID0gJ0ludmFsaWQgVXBncmFkZSBoZWFkZXInO1xyXG4gICAgICBhYm9ydEhhbmRzaGFrZU9yRW1pdHdzQ2xpZW50RXJyb3IodGhpcywgcmVxLCBzb2NrZXQsIDQwMCwgbWVzc2FnZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWtleSB8fCAha2V5UmVnZXgudGVzdChrZXkpKSB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnTWlzc2luZyBvciBpbnZhbGlkIFNlYy1XZWJTb2NrZXQtS2V5IGhlYWRlcic7XHJcbiAgICAgIGFib3J0SGFuZHNoYWtlT3JFbWl0d3NDbGllbnRFcnJvcih0aGlzLCByZXEsIHNvY2tldCwgNDAwLCBtZXNzYWdlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2ZXJzaW9uICE9PSA4ICYmIHZlcnNpb24gIT09IDEzKSB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnTWlzc2luZyBvciBpbnZhbGlkIFNlYy1XZWJTb2NrZXQtVmVyc2lvbiBoZWFkZXInO1xyXG4gICAgICBhYm9ydEhhbmRzaGFrZU9yRW1pdHdzQ2xpZW50RXJyb3IodGhpcywgcmVxLCBzb2NrZXQsIDQwMCwgbWVzc2FnZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuc2hvdWxkSGFuZGxlKHJlcSkpIHtcclxuICAgICAgYWJvcnRIYW5kc2hha2Uoc29ja2V0LCA0MDApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VjV2ViU29ja2V0UHJvdG9jb2wgPSByZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1wcm90b2NvbCddO1xyXG4gICAgbGV0IHByb3RvY29scyA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICBpZiAoc2VjV2ViU29ja2V0UHJvdG9jb2wgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHByb3RvY29scyA9IHN1YnByb3RvY29sLnBhcnNlKHNlY1dlYlNvY2tldFByb3RvY29sKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdJbnZhbGlkIFNlYy1XZWJTb2NrZXQtUHJvdG9jb2wgaGVhZGVyJztcclxuICAgICAgICBhYm9ydEhhbmRzaGFrZU9yRW1pdHdzQ2xpZW50RXJyb3IodGhpcywgcmVxLCBzb2NrZXQsIDQwMCwgbWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VjV2ViU29ja2V0RXh0ZW5zaW9ucyA9IHJlcS5oZWFkZXJzWydzZWMtd2Vic29ja2V0LWV4dGVuc2lvbnMnXTtcclxuICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB7fTtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMub3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSAmJlxyXG4gICAgICBzZWNXZWJTb2NrZXRFeHRlbnNpb25zICE9PSB1bmRlZmluZWRcclxuICAgICkge1xyXG4gICAgICBjb25zdCBwZXJNZXNzYWdlRGVmbGF0ZSA9IG5ldyBQZXJNZXNzYWdlRGVmbGF0ZShcclxuICAgICAgICB0aGlzLm9wdGlvbnMucGVyTWVzc2FnZURlZmxhdGUsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICAgICB0aGlzLm9wdGlvbnMubWF4UGF5bG9hZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBvZmZlcnMgPSBleHRlbnNpb24ucGFyc2Uoc2VjV2ViU29ja2V0RXh0ZW5zaW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChvZmZlcnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pIHtcclxuICAgICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlLmFjY2VwdChvZmZlcnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pO1xyXG4gICAgICAgICAgZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSA9IHBlck1lc3NhZ2VEZWZsYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9XHJcbiAgICAgICAgICAnSW52YWxpZCBvciB1bmFjY2VwdGFibGUgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zIGhlYWRlcic7XHJcbiAgICAgICAgYWJvcnRIYW5kc2hha2VPckVtaXR3c0NsaWVudEVycm9yKHRoaXMsIHJlcSwgc29ja2V0LCA0MDAsIG1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vXHJcbiAgICAvLyBPcHRpb25hbGx5IGNhbGwgZXh0ZXJuYWwgY2xpZW50IHZlcmlmaWNhdGlvbiBoYW5kbGVyLlxyXG4gICAgLy9cclxuICAgIGlmICh0aGlzLm9wdGlvbnMudmVyaWZ5Q2xpZW50KSB7XHJcbiAgICAgIGNvbnN0IGluZm8gPSB7XHJcbiAgICAgICAgb3JpZ2luOlxyXG4gICAgICAgICAgcmVxLmhlYWRlcnNbYCR7dmVyc2lvbiA9PT0gOCA/ICdzZWMtd2Vic29ja2V0LW9yaWdpbicgOiAnb3JpZ2luJ31gXSxcclxuICAgICAgICBzZWN1cmU6ICEhKHJlcS5zb2NrZXQuYXV0aG9yaXplZCB8fCByZXEuc29ja2V0LmVuY3J5cHRlZCksXHJcbiAgICAgICAgcmVxXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnZlcmlmeUNsaWVudC5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMudmVyaWZ5Q2xpZW50KGluZm8sICh2ZXJpZmllZCwgY29kZSwgbWVzc2FnZSwgaGVhZGVycykgPT4ge1xyXG4gICAgICAgICAgaWYgKCF2ZXJpZmllZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWJvcnRIYW5kc2hha2Uoc29ja2V0LCBjb2RlIHx8IDQwMSwgbWVzc2FnZSwgaGVhZGVycyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5jb21wbGV0ZVVwZ3JhZGUoXHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgcHJvdG9jb2xzLFxyXG4gICAgICAgICAgICByZXEsXHJcbiAgICAgICAgICAgIHNvY2tldCxcclxuICAgICAgICAgICAgaGVhZCxcclxuICAgICAgICAgICAgY2JcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy52ZXJpZnlDbGllbnQoaW5mbykpIHJldHVybiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIDQwMSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb21wbGV0ZVVwZ3JhZGUoZXh0ZW5zaW9ucywga2V5LCBwcm90b2NvbHMsIHJlcSwgc29ja2V0LCBoZWFkLCBjYik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGdyYWRlIHRoZSBjb25uZWN0aW9uIHRvIFdlYlNvY2tldC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBleHRlbnNpb25zIFRoZSBhY2NlcHRlZCBleHRlbnNpb25zXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUgdmFsdWUgb2YgdGhlIGBTZWMtV2ViU29ja2V0LUtleWAgaGVhZGVyXHJcbiAgICogQHBhcmFtIHtTZXR9IHByb3RvY29scyBUaGUgc3VicHJvdG9jb2xzXHJcbiAgICogQHBhcmFtIHtodHRwLkluY29taW5nTWVzc2FnZX0gcmVxIFRoZSByZXF1ZXN0IG9iamVjdFxyXG4gICAqIEBwYXJhbSB7RHVwbGV4fSBzb2NrZXQgVGhlIG5ldHdvcmsgc29ja2V0IGJldHdlZW4gdGhlIHNlcnZlciBhbmQgY2xpZW50XHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGhlYWQgVGhlIGZpcnN0IHBhY2tldCBvZiB0aGUgdXBncmFkZWQgc3RyZWFtXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcclxuICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgY2FsbGVkIG1vcmUgdGhhbiBvbmNlIHdpdGggdGhlIHNhbWUgc29ja2V0XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBjb21wbGV0ZVVwZ3JhZGUoZXh0ZW5zaW9ucywga2V5LCBwcm90b2NvbHMsIHJlcSwgc29ja2V0LCBoZWFkLCBjYikge1xyXG4gICAgLy9cclxuICAgIC8vIERlc3Ryb3kgdGhlIHNvY2tldCBpZiB0aGUgY2xpZW50IGhhcyBhbHJlYWR5IHNlbnQgYSBGSU4gcGFja2V0LlxyXG4gICAgLy9cclxuICAgIGlmICghc29ja2V0LnJlYWRhYmxlIHx8ICFzb2NrZXQud3JpdGFibGUpIHJldHVybiBzb2NrZXQuZGVzdHJveSgpO1xyXG5cclxuICAgIGlmIChzb2NrZXRba1dlYlNvY2tldF0pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICdzZXJ2ZXIuaGFuZGxlVXBncmFkZSgpIHdhcyBjYWxsZWQgbW9yZSB0aGFuIG9uY2Ugd2l0aCB0aGUgc2FtZSAnICtcclxuICAgICAgICAgICdzb2NrZXQsIHBvc3NpYmx5IGR1ZSB0byBhIG1pc2NvbmZpZ3VyYXRpb24nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX3N0YXRlID4gUlVOTklORykgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHNvY2tldCwgNTAzKTtcclxuXHJcbiAgICBjb25zdCBkaWdlc3QgPSBjcmVhdGVIYXNoKCdzaGExJylcclxuICAgICAgLnVwZGF0ZShrZXkgKyBHVUlEKVxyXG4gICAgICAuZGlnZXN0KCdiYXNlNjQnKTtcclxuXHJcbiAgICBjb25zdCBoZWFkZXJzID0gW1xyXG4gICAgICAnSFRUUC8xLjEgMTAxIFN3aXRjaGluZyBQcm90b2NvbHMnLFxyXG4gICAgICAnVXBncmFkZTogd2Vic29ja2V0JyxcclxuICAgICAgJ0Nvbm5lY3Rpb246IFVwZ3JhZGUnLFxyXG4gICAgICBgU2VjLVdlYlNvY2tldC1BY2NlcHQ6ICR7ZGlnZXN0fWBcclxuICAgIF07XHJcblxyXG4gICAgY29uc3Qgd3MgPSBuZXcgdGhpcy5vcHRpb25zLldlYlNvY2tldChudWxsKTtcclxuXHJcbiAgICBpZiAocHJvdG9jb2xzLnNpemUpIHtcclxuICAgICAgLy9cclxuICAgICAgLy8gT3B0aW9uYWxseSBjYWxsIGV4dGVybmFsIHByb3RvY29sIHNlbGVjdGlvbiBoYW5kbGVyLlxyXG4gICAgICAvL1xyXG4gICAgICBjb25zdCBwcm90b2NvbCA9IHRoaXMub3B0aW9ucy5oYW5kbGVQcm90b2NvbHNcclxuICAgICAgICA/IHRoaXMub3B0aW9ucy5oYW5kbGVQcm90b2NvbHMocHJvdG9jb2xzLCByZXEpXHJcbiAgICAgICAgOiBwcm90b2NvbHMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xyXG5cclxuICAgICAgaWYgKHByb3RvY29sKSB7XHJcbiAgICAgICAgaGVhZGVycy5wdXNoKGBTZWMtV2ViU29ja2V0LVByb3RvY29sOiAke3Byb3RvY29sfWApO1xyXG4gICAgICAgIHdzLl9wcm90b2NvbCA9IHByb3RvY29sO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pIHtcclxuICAgICAgY29uc3QgcGFyYW1zID0gZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXS5wYXJhbXM7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gZXh0ZW5zaW9uLmZvcm1hdCh7XHJcbiAgICAgICAgW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdOiBbcGFyYW1zXVxyXG4gICAgICB9KTtcclxuICAgICAgaGVhZGVycy5wdXNoKGBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnM6ICR7dmFsdWV9YCk7XHJcbiAgICAgIHdzLl9leHRlbnNpb25zID0gZXh0ZW5zaW9ucztcclxuICAgIH1cclxuXHJcbiAgICAvL1xyXG4gICAgLy8gQWxsb3cgZXh0ZXJuYWwgbW9kaWZpY2F0aW9uL2luc3BlY3Rpb24gb2YgaGFuZHNoYWtlIGhlYWRlcnMuXHJcbiAgICAvL1xyXG4gICAgdGhpcy5lbWl0KCdoZWFkZXJzJywgaGVhZGVycywgcmVxKTtcclxuXHJcbiAgICBzb2NrZXQud3JpdGUoaGVhZGVycy5jb25jYXQoJ1xcclxcbicpLmpvaW4oJ1xcclxcbicpKTtcclxuICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcclxuXHJcbiAgICB3cy5zZXRTb2NrZXQoc29ja2V0LCBoZWFkLCB7XHJcbiAgICAgIG1heFBheWxvYWQ6IHRoaXMub3B0aW9ucy5tYXhQYXlsb2FkLFxyXG4gICAgICBza2lwVVRGOFZhbGlkYXRpb246IHRoaXMub3B0aW9ucy5za2lwVVRGOFZhbGlkYXRpb25cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLmNsaWVudHMpIHtcclxuICAgICAgdGhpcy5jbGllbnRzLmFkZCh3cyk7XHJcbiAgICAgIHdzLm9uKCdjbG9zZScsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsaWVudHMuZGVsZXRlKHdzKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEVtaXRDbG9zZSAmJiAhdGhpcy5jbGllbnRzLnNpemUpIHtcclxuICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNiKHdzLCByZXEpO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBXZWJTb2NrZXRTZXJ2ZXI7XHJcblxyXG4vKipcclxuICogQWRkIGV2ZW50IGxpc3RlbmVycyBvbiBhbiBgRXZlbnRFbWl0dGVyYCB1c2luZyBhIG1hcCBvZiA8ZXZlbnQsIGxpc3RlbmVyPlxyXG4gKiBwYWlycy5cclxuICpcclxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IHNlcnZlciBUaGUgZXZlbnQgZW1pdHRlclxyXG4gKiBAcGFyYW0ge09iamVjdC48U3RyaW5nLCBGdW5jdGlvbj59IG1hcCBUaGUgbGlzdGVuZXJzIHRvIGFkZFxyXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVtb3ZlIHRoZSBhZGRlZCBsaXN0ZW5lcnMgd2hlblxyXG4gKiAgICAgY2FsbGVkXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcnMoc2VydmVyLCBtYXApIHtcclxuICBmb3IgKGNvbnN0IGV2ZW50IG9mIE9iamVjdC5rZXlzKG1hcCkpIHNlcnZlci5vbihldmVudCwgbWFwW2V2ZW50XSk7XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIE9iamVjdC5rZXlzKG1hcCkpIHtcclxuICAgICAgc2VydmVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBtYXBbZXZlbnRdKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogRW1pdCBhIGAnY2xvc2UnYCBldmVudCBvbiBhbiBgRXZlbnRFbWl0dGVyYC5cclxuICpcclxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IHNlcnZlciBUaGUgZXZlbnQgZW1pdHRlclxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZW1pdENsb3NlKHNlcnZlcikge1xyXG4gIHNlcnZlci5fc3RhdGUgPSBDTE9TRUQ7XHJcbiAgc2VydmVyLmVtaXQoJ2Nsb3NlJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGUgc29ja2V0IGVycm9ycy5cclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHNvY2tldE9uRXJyb3IoKSB7XHJcbiAgdGhpcy5kZXN0cm95KCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbG9zZSB0aGUgY29ubmVjdGlvbiB3aGVuIHByZWNvbmRpdGlvbnMgYXJlIG5vdCBmdWxmaWxsZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RHVwbGV4fSBzb2NrZXQgVGhlIHNvY2tldCBvZiB0aGUgdXBncmFkZSByZXF1ZXN0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFRoZSBIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbWVzc2FnZV0gVGhlIEhUVFAgcmVzcG9uc2UgYm9keVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2hlYWRlcnNdIEFkZGl0aW9uYWwgSFRUUCByZXNwb25zZSBoZWFkZXJzXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIGNvZGUsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcclxuICAvL1xyXG4gIC8vIFRoZSBzb2NrZXQgaXMgd3JpdGFibGUgdW5sZXNzIHRoZSB1c2VyIGRlc3Ryb3llZCBvciBlbmRlZCBpdCBiZWZvcmUgY2FsbGluZ1xyXG4gIC8vIGBzZXJ2ZXIuaGFuZGxlVXBncmFkZSgpYCBvciBpbiB0aGUgYHZlcmlmeUNsaWVudGAgZnVuY3Rpb24sIHdoaWNoIGlzIGEgdXNlclxyXG4gIC8vIGVycm9yLiBIYW5kbGluZyB0aGlzIGRvZXMgbm90IG1ha2UgbXVjaCBzZW5zZSBhcyB0aGUgd29yc3QgdGhhdCBjYW4gaGFwcGVuXHJcbiAgLy8gaXMgdGhhdCBzb21lIG9mIHRoZSBkYXRhIHdyaXR0ZW4gYnkgdGhlIHVzZXIgbWlnaHQgYmUgZGlzY2FyZGVkIGR1ZSB0byB0aGVcclxuICAvLyBjYWxsIHRvIGBzb2NrZXQuZW5kKClgIGJlbG93LCB3aGljaCB0cmlnZ2VycyBhbiBgJ2Vycm9yJ2AgZXZlbnQgdGhhdCBpblxyXG4gIC8vIHR1cm4gY2F1c2VzIHRoZSBzb2NrZXQgdG8gYmUgZGVzdHJveWVkLlxyXG4gIC8vXHJcbiAgbWVzc2FnZSA9IG1lc3NhZ2UgfHwgaHR0cC5TVEFUVVNfQ09ERVNbY29kZV07XHJcbiAgaGVhZGVycyA9IHtcclxuICAgIENvbm5lY3Rpb246ICdjbG9zZScsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCcsXHJcbiAgICAnQ29udGVudC1MZW5ndGgnOiBCdWZmZXIuYnl0ZUxlbmd0aChtZXNzYWdlKSxcclxuICAgIC4uLmhlYWRlcnNcclxuICB9O1xyXG5cclxuICBzb2NrZXQub25jZSgnZmluaXNoJywgc29ja2V0LmRlc3Ryb3kpO1xyXG5cclxuICBzb2NrZXQuZW5kKFxyXG4gICAgYEhUVFAvMS4xICR7Y29kZX0gJHtodHRwLlNUQVRVU19DT0RFU1tjb2RlXX1cXHJcXG5gICtcclxuICAgICAgT2JqZWN0LmtleXMoaGVhZGVycylcclxuICAgICAgICAubWFwKChoKSA9PiBgJHtofTogJHtoZWFkZXJzW2hdfWApXHJcbiAgICAgICAgLmpvaW4oJ1xcclxcbicpICtcclxuICAgICAgJ1xcclxcblxcclxcbicgK1xyXG4gICAgICBtZXNzYWdlXHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVtaXQgYSBgJ3dzQ2xpZW50RXJyb3InYCBldmVudCBvbiBhIGBXZWJTb2NrZXRTZXJ2ZXJgIGlmIHRoZXJlIGlzIGF0IGxlYXN0XHJcbiAqIG9uZSBsaXN0ZW5lciBmb3IgaXQsIG90aGVyd2lzZSBjYWxsIGBhYm9ydEhhbmRzaGFrZSgpYC5cclxuICpcclxuICogQHBhcmFtIHtXZWJTb2NrZXRTZXJ2ZXJ9IHNlcnZlciBUaGUgV2ViU29ja2V0IHNlcnZlclxyXG4gKiBAcGFyYW0ge2h0dHAuSW5jb21pbmdNZXNzYWdlfSByZXEgVGhlIHJlcXVlc3Qgb2JqZWN0XHJcbiAqIEBwYXJhbSB7RHVwbGV4fSBzb2NrZXQgVGhlIHNvY2tldCBvZiB0aGUgdXBncmFkZSByZXF1ZXN0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFRoZSBIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSBIVFRQIHJlc3BvbnNlIGJvZHlcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGFib3J0SGFuZHNoYWtlT3JFbWl0d3NDbGllbnRFcnJvcihzZXJ2ZXIsIHJlcSwgc29ja2V0LCBjb2RlLCBtZXNzYWdlKSB7XHJcbiAgaWYgKHNlcnZlci5saXN0ZW5lckNvdW50KCd3c0NsaWVudEVycm9yJykpIHtcclxuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVyciwgYWJvcnRIYW5kc2hha2VPckVtaXR3c0NsaWVudEVycm9yKTtcclxuXHJcbiAgICBzZXJ2ZXIuZW1pdCgnd3NDbGllbnRFcnJvcicsIGVyciwgc29ja2V0LCByZXEpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIGNvZGUsIG1lc3NhZ2UpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket-server.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket.js":
/*!************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket.js ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\" }] */\r\n\r\n\r\n\r\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\r\nconst https = __webpack_require__(/*! https */ \"https\");\r\nconst http = __webpack_require__(/*! http */ \"http\");\r\nconst net = __webpack_require__(/*! net */ \"net\");\r\nconst tls = __webpack_require__(/*! tls */ \"tls\");\r\nconst { randomBytes, createHash } = __webpack_require__(/*! crypto */ \"crypto\");\r\nconst { Duplex, Readable } = __webpack_require__(/*! stream */ \"stream\");\r\nconst { URL } = __webpack_require__(/*! url */ \"url\");\r\n\r\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/permessage-deflate.js\");\r\nconst Receiver = __webpack_require__(/*! ./receiver */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/receiver.js\");\r\nconst Sender = __webpack_require__(/*! ./sender */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/sender.js\");\r\nconst {\r\n  BINARY_TYPES,\r\n  EMPTY_BUFFER,\r\n  GUID,\r\n  kForOnEventAttribute,\r\n  kListener,\r\n  kStatusCode,\r\n  kWebSocket,\r\n  NOOP\r\n} = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/constants.js\");\r\nconst {\r\n  EventTarget: { addEventListener, removeEventListener }\r\n} = __webpack_require__(/*! ./event-target */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/event-target.js\");\r\nconst { format, parse } = __webpack_require__(/*! ./extension */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/extension.js\");\r\nconst { toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/buffer-util.js\");\r\n\r\nconst closeTimeout = 30 * 1000;\r\nconst kAborted = Symbol('kAborted');\r\nconst protocolVersions = [8, 13];\r\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\r\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\r\n\r\n/**\r\n * Class representing a WebSocket.\r\n *\r\n * @extends EventEmitter\r\n */\r\nclass WebSocket extends EventEmitter {\r\n  /**\r\n   * Create a new `WebSocket`.\r\n   *\r\n   * @param {(String|URL)} address The URL to which to connect\r\n   * @param {(String|String[])} [protocols] The subprotocols\r\n   * @param {Object} [options] Connection options\r\n   */\r\n  constructor(address, protocols, options) {\r\n    super();\r\n\r\n    this._binaryType = BINARY_TYPES[0];\r\n    this._closeCode = 1006;\r\n    this._closeFrameReceived = false;\r\n    this._closeFrameSent = false;\r\n    this._closeMessage = EMPTY_BUFFER;\r\n    this._closeTimer = null;\r\n    this._extensions = {};\r\n    this._paused = false;\r\n    this._protocol = '';\r\n    this._readyState = WebSocket.CONNECTING;\r\n    this._receiver = null;\r\n    this._sender = null;\r\n    this._socket = null;\r\n\r\n    if (address !== null) {\r\n      this._bufferedAmount = 0;\r\n      this._isServer = false;\r\n      this._redirects = 0;\r\n\r\n      if (protocols === undefined) {\r\n        protocols = [];\r\n      } else if (!Array.isArray(protocols)) {\r\n        if (typeof protocols === 'object' && protocols !== null) {\r\n          options = protocols;\r\n          protocols = [];\r\n        } else {\r\n          protocols = [protocols];\r\n        }\r\n      }\r\n\r\n      initAsClient(this, address, protocols, options);\r\n    } else {\r\n      this._isServer = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This deviates from the WHATWG interface since ws doesn't support the\r\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\r\n   * type).\r\n   *\r\n   * @type {String}\r\n   */\r\n  get binaryType() {\r\n    return this._binaryType;\r\n  }\r\n\r\n  set binaryType(type) {\r\n    if (!BINARY_TYPES.includes(type)) return;\r\n\r\n    this._binaryType = type;\r\n\r\n    //\r\n    // Allow to change `binaryType` on the fly.\r\n    //\r\n    if (this._receiver) this._receiver._binaryType = type;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get bufferedAmount() {\r\n    if (!this._socket) return this._bufferedAmount;\r\n\r\n    return this._socket._writableState.length + this._sender._bufferedBytes;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get extensions() {\r\n    return Object.keys(this._extensions).join();\r\n  }\r\n\r\n  /**\r\n   * @type {Boolean}\r\n   */\r\n  get isPaused() {\r\n    return this._paused;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onclose() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onerror() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onopen() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onmessage() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get protocol() {\r\n    return this._protocol;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get readyState() {\r\n    return this._readyState;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get url() {\r\n    return this._url;\r\n  }\r\n\r\n  /**\r\n   * Set up the socket and the internal resources.\r\n   *\r\n   * @param {Duplex} socket The network socket between the server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Object} options Options object\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   * @private\r\n   */\r\n  setSocket(socket, head, options) {\r\n    const receiver = new Receiver({\r\n      binaryType: this.binaryType,\r\n      extensions: this._extensions,\r\n      isServer: this._isServer,\r\n      maxPayload: options.maxPayload,\r\n      skipUTF8Validation: options.skipUTF8Validation\r\n    });\r\n\r\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\r\n    this._receiver = receiver;\r\n    this._socket = socket;\r\n\r\n    receiver[kWebSocket] = this;\r\n    socket[kWebSocket] = this;\r\n\r\n    receiver.on('conclude', receiverOnConclude);\r\n    receiver.on('drain', receiverOnDrain);\r\n    receiver.on('error', receiverOnError);\r\n    receiver.on('message', receiverOnMessage);\r\n    receiver.on('ping', receiverOnPing);\r\n    receiver.on('pong', receiverOnPong);\r\n\r\n    //\r\n    // These methods may not be available if `socket` is just a `Duplex`.\r\n    //\r\n    if (socket.setTimeout) socket.setTimeout(0);\r\n    if (socket.setNoDelay) socket.setNoDelay();\r\n\r\n    if (head.length > 0) socket.unshift(head);\r\n\r\n    socket.on('close', socketOnClose);\r\n    socket.on('data', socketOnData);\r\n    socket.on('end', socketOnEnd);\r\n    socket.on('error', socketOnError);\r\n\r\n    this._readyState = WebSocket.OPEN;\r\n    this.emit('open');\r\n  }\r\n\r\n  /**\r\n   * Emit the `'close'` event.\r\n   *\r\n   * @private\r\n   */\r\n  emitClose() {\r\n    if (!this._socket) {\r\n      this._readyState = WebSocket.CLOSED;\r\n      this.emit('close', this._closeCode, this._closeMessage);\r\n      return;\r\n    }\r\n\r\n    if (this._extensions[PerMessageDeflate.extensionName]) {\r\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\r\n    }\r\n\r\n    this._receiver.removeAllListeners();\r\n    this._readyState = WebSocket.CLOSED;\r\n    this.emit('close', this._closeCode, this._closeMessage);\r\n  }\r\n\r\n  /**\r\n   * Start a closing handshake.\r\n   *\r\n   *          +----------+   +-----------+   +----------+\r\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\r\n   *    |     +----------+   +-----------+   +----------+     |\r\n   *          +----------+   +-----------+         |\r\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\r\n   *          +----------+   +-----------+   |\r\n   *    |           |                        |   +---+        |\r\n   *                +------------------------+-->|fin| - - - -\r\n   *    |         +---+                      |   +---+\r\n   *     - - - - -|fin|<---------------------+\r\n   *              +---+\r\n   *\r\n   * @param {Number} [code] Status code explaining why the connection is closing\r\n   * @param {(String|Buffer)} [data] The reason why the connection is\r\n   *     closing\r\n   * @public\r\n   */\r\n  close(code, data) {\r\n    if (this.readyState === WebSocket.CLOSED) return;\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      const msg = 'WebSocket was closed before the connection was established';\r\n      abortHandshake(this, this._req, msg);\r\n      return;\r\n    }\r\n\r\n    if (this.readyState === WebSocket.CLOSING) {\r\n      if (\r\n        this._closeFrameSent &&\r\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\r\n      ) {\r\n        this._socket.end();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    this._readyState = WebSocket.CLOSING;\r\n    this._sender.close(code, data, !this._isServer, (err) => {\r\n      //\r\n      // This error is handled by the `'error'` listener on the socket. We only\r\n      // want to know if the close frame has been sent here.\r\n      //\r\n      if (err) return;\r\n\r\n      this._closeFrameSent = true;\r\n\r\n      if (\r\n        this._closeFrameReceived ||\r\n        this._receiver._writableState.errorEmitted\r\n      ) {\r\n        this._socket.end();\r\n      }\r\n    });\r\n\r\n    //\r\n    // Specify a timeout for the closing handshake to complete.\r\n    //\r\n    this._closeTimer = setTimeout(\r\n      this._socket.destroy.bind(this._socket),\r\n      closeTimeout\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Pause the socket.\r\n   *\r\n   * @public\r\n   */\r\n  pause() {\r\n    if (\r\n      this.readyState === WebSocket.CONNECTING ||\r\n      this.readyState === WebSocket.CLOSED\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this._paused = true;\r\n    this._socket.pause();\r\n  }\r\n\r\n  /**\r\n   * Send a ping.\r\n   *\r\n   * @param {*} [data] The data to send\r\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when the ping is sent\r\n   * @public\r\n   */\r\n  ping(data, mask, cb) {\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof data === 'function') {\r\n      cb = data;\r\n      data = mask = undefined;\r\n    } else if (typeof mask === 'function') {\r\n      cb = mask;\r\n      mask = undefined;\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    if (mask === undefined) mask = !this._isServer;\r\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\r\n  }\r\n\r\n  /**\r\n   * Send a pong.\r\n   *\r\n   * @param {*} [data] The data to send\r\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when the pong is sent\r\n   * @public\r\n   */\r\n  pong(data, mask, cb) {\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof data === 'function') {\r\n      cb = data;\r\n      data = mask = undefined;\r\n    } else if (typeof mask === 'function') {\r\n      cb = mask;\r\n      mask = undefined;\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    if (mask === undefined) mask = !this._isServer;\r\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\r\n  }\r\n\r\n  /**\r\n   * Resume the socket.\r\n   *\r\n   * @public\r\n   */\r\n  resume() {\r\n    if (\r\n      this.readyState === WebSocket.CONNECTING ||\r\n      this.readyState === WebSocket.CLOSED\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this._paused = false;\r\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\r\n  }\r\n\r\n  /**\r\n   * Send a data message.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Object} [options] Options object\r\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\r\n   *     text\r\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\r\n   *     `data`\r\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\r\n   *     last one\r\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when data is written out\r\n   * @public\r\n   */\r\n  send(data, options, cb) {\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof options === 'function') {\r\n      cb = options;\r\n      options = {};\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    const opts = {\r\n      binary: typeof data !== 'string',\r\n      mask: !this._isServer,\r\n      compress: true,\r\n      fin: true,\r\n      ...options\r\n    };\r\n\r\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\r\n      opts.compress = false;\r\n    }\r\n\r\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\r\n  }\r\n\r\n  /**\r\n   * Forcibly close the connection.\r\n   *\r\n   * @public\r\n   */\r\n  terminate() {\r\n    if (this.readyState === WebSocket.CLOSED) return;\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      const msg = 'WebSocket was closed before the connection was established';\r\n      abortHandshake(this, this._req, msg);\r\n      return;\r\n    }\r\n\r\n    if (this._socket) {\r\n      this._readyState = WebSocket.CLOSING;\r\n      this._socket.destroy();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @constant {Number} CONNECTING\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket, 'CONNECTING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CONNECTING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CONNECTING\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CONNECTING')\r\n});\r\n\r\n/**\r\n * @constant {Number} OPEN\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket, 'OPEN', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('OPEN')\r\n});\r\n\r\n/**\r\n * @constant {Number} OPEN\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('OPEN')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSING\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket, 'CLOSING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSING\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSED\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket, 'CLOSED', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSED')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSED\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSED')\r\n});\r\n\r\n[\r\n  'binaryType',\r\n  'bufferedAmount',\r\n  'extensions',\r\n  'isPaused',\r\n  'protocol',\r\n  'readyState',\r\n  'url'\r\n].forEach((property) => {\r\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\r\n});\r\n\r\n//\r\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\r\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\r\n//\r\n['open', 'error', 'close', 'message'].forEach((method) => {\r\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\r\n    enumerable: true,\r\n    get() {\r\n      for (const listener of this.listeners(method)) {\r\n        if (listener[kForOnEventAttribute]) return listener[kListener];\r\n      }\r\n\r\n      return null;\r\n    },\r\n    set(handler) {\r\n      for (const listener of this.listeners(method)) {\r\n        if (listener[kForOnEventAttribute]) {\r\n          this.removeListener(method, listener);\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (typeof handler !== 'function') return;\r\n\r\n      this.addEventListener(method, handler, {\r\n        [kForOnEventAttribute]: true\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\nWebSocket.prototype.addEventListener = addEventListener;\r\nWebSocket.prototype.removeEventListener = removeEventListener;\r\n\r\nmodule.exports = WebSocket;\r\n\r\n/**\r\n * Initialize a WebSocket client.\r\n *\r\n * @param {WebSocket} websocket The client to initialize\r\n * @param {(String|URL)} address The URL to which to connect\r\n * @param {Array} protocols The subprotocols\r\n * @param {Object} [options] Connection options\r\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\r\n *     redirects\r\n * @param {Function} [options.generateMask] The function used to generate the\r\n *     masking key\r\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\r\n *     handshake request\r\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\r\n *     size\r\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\r\n *     allowed\r\n * @param {String} [options.origin] Value of the `Origin` or\r\n *     `Sec-WebSocket-Origin` header\r\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\r\n *     permessage-deflate\r\n * @param {Number} [options.protocolVersion=13] Value of the\r\n *     `Sec-WebSocket-Version` header\r\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n *     not to skip UTF-8 validation for text and close messages\r\n * @private\r\n */\r\nfunction initAsClient(websocket, address, protocols, options) {\r\n  const opts = {\r\n    protocolVersion: protocolVersions[1],\r\n    maxPayload: 100 * 1024 * 1024,\r\n    skipUTF8Validation: false,\r\n    perMessageDeflate: true,\r\n    followRedirects: false,\r\n    maxRedirects: 10,\r\n    ...options,\r\n    createConnection: undefined,\r\n    socketPath: undefined,\r\n    hostname: undefined,\r\n    protocol: undefined,\r\n    timeout: undefined,\r\n    method: 'GET',\r\n    host: undefined,\r\n    path: undefined,\r\n    port: undefined\r\n  };\r\n\r\n  if (!protocolVersions.includes(opts.protocolVersion)) {\r\n    throw new RangeError(\r\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\r\n        `(supported versions: ${protocolVersions.join(', ')})`\r\n    );\r\n  }\r\n\r\n  let parsedUrl;\r\n\r\n  if (address instanceof URL) {\r\n    parsedUrl = address;\r\n  } else {\r\n    try {\r\n      parsedUrl = new URL(address);\r\n    } catch (e) {\r\n      throw new SyntaxError(`Invalid URL: ${address}`);\r\n    }\r\n  }\r\n\r\n  if (parsedUrl.protocol === 'http:') {\r\n    parsedUrl.protocol = 'ws:';\r\n  } else if (parsedUrl.protocol === 'https:') {\r\n    parsedUrl.protocol = 'wss:';\r\n  }\r\n\r\n  websocket._url = parsedUrl.href;\r\n\r\n  const isSecure = parsedUrl.protocol === 'wss:';\r\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\r\n  let invalidUrlMessage;\r\n\r\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\r\n    invalidUrlMessage =\r\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\r\n      '\"http:\", \"https\", or \"ws+unix:\"';\r\n  } else if (isIpcUrl && !parsedUrl.pathname) {\r\n    invalidUrlMessage = \"The URL's pathname is empty\";\r\n  } else if (parsedUrl.hash) {\r\n    invalidUrlMessage = 'The URL contains a fragment identifier';\r\n  }\r\n\r\n  if (invalidUrlMessage) {\r\n    const err = new SyntaxError(invalidUrlMessage);\r\n\r\n    if (websocket._redirects === 0) {\r\n      throw err;\r\n    } else {\r\n      emitErrorAndClose(websocket, err);\r\n      return;\r\n    }\r\n  }\r\n\r\n  const defaultPort = isSecure ? 443 : 80;\r\n  const key = randomBytes(16).toString('base64');\r\n  const request = isSecure ? https.request : http.request;\r\n  const protocolSet = new Set();\r\n  let perMessageDeflate;\r\n\r\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\r\n  opts.defaultPort = opts.defaultPort || defaultPort;\r\n  opts.port = parsedUrl.port || defaultPort;\r\n  opts.host = parsedUrl.hostname.startsWith('[')\r\n    ? parsedUrl.hostname.slice(1, -1)\r\n    : parsedUrl.hostname;\r\n  opts.headers = {\r\n    ...opts.headers,\r\n    'Sec-WebSocket-Version': opts.protocolVersion,\r\n    'Sec-WebSocket-Key': key,\r\n    Connection: 'Upgrade',\r\n    Upgrade: 'websocket'\r\n  };\r\n  opts.path = parsedUrl.pathname + parsedUrl.search;\r\n  opts.timeout = opts.handshakeTimeout;\r\n\r\n  if (opts.perMessageDeflate) {\r\n    perMessageDeflate = new PerMessageDeflate(\r\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\r\n      false,\r\n      opts.maxPayload\r\n    );\r\n    opts.headers['Sec-WebSocket-Extensions'] = format({\r\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\r\n    });\r\n  }\r\n  if (protocols.length) {\r\n    for (const protocol of protocols) {\r\n      if (\r\n        typeof protocol !== 'string' ||\r\n        !subprotocolRegex.test(protocol) ||\r\n        protocolSet.has(protocol)\r\n      ) {\r\n        throw new SyntaxError(\r\n          'An invalid or duplicated subprotocol was specified'\r\n        );\r\n      }\r\n\r\n      protocolSet.add(protocol);\r\n    }\r\n\r\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\r\n  }\r\n  if (opts.origin) {\r\n    if (opts.protocolVersion < 13) {\r\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\r\n    } else {\r\n      opts.headers.Origin = opts.origin;\r\n    }\r\n  }\r\n  if (parsedUrl.username || parsedUrl.password) {\r\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\r\n  }\r\n\r\n  if (isIpcUrl) {\r\n    const parts = opts.path.split(':');\r\n\r\n    opts.socketPath = parts[0];\r\n    opts.path = parts[1];\r\n  }\r\n\r\n  let req;\r\n\r\n  if (opts.followRedirects) {\r\n    if (websocket._redirects === 0) {\r\n      websocket._originalIpc = isIpcUrl;\r\n      websocket._originalSecure = isSecure;\r\n      websocket._originalHostOrSocketPath = isIpcUrl\r\n        ? opts.socketPath\r\n        : parsedUrl.host;\r\n\r\n      const headers = options && options.headers;\r\n\r\n      //\r\n      // Shallow copy the user provided options so that headers can be changed\r\n      // without mutating the original object.\r\n      //\r\n      options = { ...options, headers: {} };\r\n\r\n      if (headers) {\r\n        for (const [key, value] of Object.entries(headers)) {\r\n          options.headers[key.toLowerCase()] = value;\r\n        }\r\n      }\r\n    } else if (websocket.listenerCount('redirect') === 0) {\r\n      const isSameHost = isIpcUrl\r\n        ? websocket._originalIpc\r\n          ? opts.socketPath === websocket._originalHostOrSocketPath\r\n          : false\r\n        : websocket._originalIpc\r\n        ? false\r\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\r\n\r\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\r\n        //\r\n        // Match curl 7.77.0 behavior and drop the following headers. These\r\n        // headers are also dropped when following a redirect to a subdomain.\r\n        //\r\n        delete opts.headers.authorization;\r\n        delete opts.headers.cookie;\r\n\r\n        if (!isSameHost) delete opts.headers.host;\r\n\r\n        opts.auth = undefined;\r\n      }\r\n    }\r\n\r\n    //\r\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\r\n    // If the `Authorization` header is set, then there is nothing to do as it\r\n    // will take precedence.\r\n    //\r\n    if (opts.auth && !options.headers.authorization) {\r\n      options.headers.authorization =\r\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\r\n    }\r\n\r\n    req = websocket._req = request(opts);\r\n\r\n    if (websocket._redirects) {\r\n      //\r\n      // Unlike what is done for the `'upgrade'` event, no early exit is\r\n      // triggered here if the user calls `websocket.close()` or\r\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\r\n      // is because the user can also call `request.destroy()` with an error\r\n      // before calling `websocket.close()` or `websocket.terminate()` and this\r\n      // would result in an error being emitted on the `request` object with no\r\n      // `'error'` event listeners attached.\r\n      //\r\n      websocket.emit('redirect', websocket.url, req);\r\n    }\r\n  } else {\r\n    req = websocket._req = request(opts);\r\n  }\r\n\r\n  if (opts.timeout) {\r\n    req.on('timeout', () => {\r\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\r\n    });\r\n  }\r\n\r\n  req.on('error', (err) => {\r\n    if (req === null || req[kAborted]) return;\r\n\r\n    req = websocket._req = null;\r\n    emitErrorAndClose(websocket, err);\r\n  });\r\n\r\n  req.on('response', (res) => {\r\n    const location = res.headers.location;\r\n    const statusCode = res.statusCode;\r\n\r\n    if (\r\n      location &&\r\n      opts.followRedirects &&\r\n      statusCode >= 300 &&\r\n      statusCode < 400\r\n    ) {\r\n      if (++websocket._redirects > opts.maxRedirects) {\r\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\r\n        return;\r\n      }\r\n\r\n      req.abort();\r\n\r\n      let addr;\r\n\r\n      try {\r\n        addr = new URL(location, address);\r\n      } catch (e) {\r\n        const err = new SyntaxError(`Invalid URL: ${location}`);\r\n        emitErrorAndClose(websocket, err);\r\n        return;\r\n      }\r\n\r\n      initAsClient(websocket, addr, protocols, options);\r\n    } else if (!websocket.emit('unexpected-response', req, res)) {\r\n      abortHandshake(\r\n        websocket,\r\n        req,\r\n        `Unexpected server response: ${res.statusCode}`\r\n      );\r\n    }\r\n  });\r\n\r\n  req.on('upgrade', (res, socket, head) => {\r\n    websocket.emit('upgrade', res);\r\n\r\n    //\r\n    // The user may have closed the connection from a listener of the\r\n    // `'upgrade'` event.\r\n    //\r\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\r\n\r\n    req = websocket._req = null;\r\n\r\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\r\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\r\n      return;\r\n    }\r\n\r\n    const digest = createHash('sha1')\r\n      .update(key + GUID)\r\n      .digest('base64');\r\n\r\n    if (res.headers['sec-websocket-accept'] !== digest) {\r\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\r\n      return;\r\n    }\r\n\r\n    const serverProt = res.headers['sec-websocket-protocol'];\r\n    let protError;\r\n\r\n    if (serverProt !== undefined) {\r\n      if (!protocolSet.size) {\r\n        protError = 'Server sent a subprotocol but none was requested';\r\n      } else if (!protocolSet.has(serverProt)) {\r\n        protError = 'Server sent an invalid subprotocol';\r\n      }\r\n    } else if (protocolSet.size) {\r\n      protError = 'Server sent no subprotocol';\r\n    }\r\n\r\n    if (protError) {\r\n      abortHandshake(websocket, socket, protError);\r\n      return;\r\n    }\r\n\r\n    if (serverProt) websocket._protocol = serverProt;\r\n\r\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\r\n\r\n    if (secWebSocketExtensions !== undefined) {\r\n      if (!perMessageDeflate) {\r\n        const message =\r\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\r\n          'was requested';\r\n        abortHandshake(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      let extensions;\r\n\r\n      try {\r\n        extensions = parse(secWebSocketExtensions);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Extensions header';\r\n        abortHandshake(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      const extensionNames = Object.keys(extensions);\r\n\r\n      if (\r\n        extensionNames.length !== 1 ||\r\n        extensionNames[0] !== PerMessageDeflate.extensionName\r\n      ) {\r\n        const message = 'Server indicated an extension that was not requested';\r\n        abortHandshake(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Extensions header';\r\n        abortHandshake(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      websocket._extensions[PerMessageDeflate.extensionName] =\r\n        perMessageDeflate;\r\n    }\r\n\r\n    websocket.setSocket(socket, head, {\r\n      generateMask: opts.generateMask,\r\n      maxPayload: opts.maxPayload,\r\n      skipUTF8Validation: opts.skipUTF8Validation\r\n    });\r\n  });\r\n\r\n  if (opts.finishRequest) {\r\n    opts.finishRequest(req, websocket);\r\n  } else {\r\n    req.end();\r\n  }\r\n}\r\n\r\n/**\r\n * Emit the `'error'` and `'close'` events.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {Error} The error to emit\r\n * @private\r\n */\r\nfunction emitErrorAndClose(websocket, err) {\r\n  websocket._readyState = WebSocket.CLOSING;\r\n  websocket.emit('error', err);\r\n  websocket.emitClose();\r\n}\r\n\r\n/**\r\n * Create a `net.Socket` and initiate a connection.\r\n *\r\n * @param {Object} options Connection options\r\n * @return {net.Socket} The newly created socket used to start the connection\r\n * @private\r\n */\r\nfunction netConnect(options) {\r\n  options.path = options.socketPath;\r\n  return net.connect(options);\r\n}\r\n\r\n/**\r\n * Create a `tls.TLSSocket` and initiate a connection.\r\n *\r\n * @param {Object} options Connection options\r\n * @return {tls.TLSSocket} The newly created socket used to start the connection\r\n * @private\r\n */\r\nfunction tlsConnect(options) {\r\n  options.path = undefined;\r\n\r\n  if (!options.servername && options.servername !== '') {\r\n    options.servername = net.isIP(options.host) ? '' : options.host;\r\n  }\r\n\r\n  return tls.connect(options);\r\n}\r\n\r\n/**\r\n * Abort the handshake and emit an error.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\r\n *     abort or the socket to destroy\r\n * @param {String} message The error message\r\n * @private\r\n */\r\nfunction abortHandshake(websocket, stream, message) {\r\n  websocket._readyState = WebSocket.CLOSING;\r\n\r\n  const err = new Error(message);\r\n  Error.captureStackTrace(err, abortHandshake);\r\n\r\n  if (stream.setHeader) {\r\n    stream[kAborted] = true;\r\n    stream.abort();\r\n\r\n    if (stream.socket && !stream.socket.destroyed) {\r\n      //\r\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\r\n      // called after the request completed. See\r\n      // https://github.com/websockets/ws/issues/1869.\r\n      //\r\n      stream.socket.destroy();\r\n    }\r\n\r\n    process.nextTick(emitErrorAndClose, websocket, err);\r\n  } else {\r\n    stream.destroy(err);\r\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\r\n    stream.once('close', websocket.emitClose.bind(websocket));\r\n  }\r\n}\r\n\r\n/**\r\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\r\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {*} [data] The data to send\r\n * @param {Function} [cb] Callback\r\n * @private\r\n */\r\nfunction sendAfterClose(websocket, data, cb) {\r\n  if (data) {\r\n    const length = toBuffer(data).length;\r\n\r\n    //\r\n    // The `_bufferedAmount` property is used only when the peer is a client and\r\n    // the opening handshake fails. Under these circumstances, in fact, the\r\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\r\n    // properties are set to `null`.\r\n    //\r\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\r\n    else websocket._bufferedAmount += length;\r\n  }\r\n\r\n  if (cb) {\r\n    const err = new Error(\r\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\r\n        `(${readyStates[websocket.readyState]})`\r\n    );\r\n    process.nextTick(cb, err);\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'conclude'` event.\r\n *\r\n * @param {Number} code The status code\r\n * @param {Buffer} reason The reason for closing\r\n * @private\r\n */\r\nfunction receiverOnConclude(code, reason) {\r\n  const websocket = this[kWebSocket];\r\n\r\n  websocket._closeFrameReceived = true;\r\n  websocket._closeMessage = reason;\r\n  websocket._closeCode = code;\r\n\r\n  if (websocket._socket[kWebSocket] === undefined) return;\r\n\r\n  websocket._socket.removeListener('data', socketOnData);\r\n  process.nextTick(resume, websocket._socket);\r\n\r\n  if (code === 1005) websocket.close();\r\n  else websocket.close(code, reason);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'drain'` event.\r\n *\r\n * @private\r\n */\r\nfunction receiverOnDrain() {\r\n  const websocket = this[kWebSocket];\r\n\r\n  if (!websocket.isPaused) websocket._socket.resume();\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'error'` event.\r\n *\r\n * @param {(RangeError|Error)} err The emitted error\r\n * @private\r\n */\r\nfunction receiverOnError(err) {\r\n  const websocket = this[kWebSocket];\r\n\r\n  if (websocket._socket[kWebSocket] !== undefined) {\r\n    websocket._socket.removeListener('data', socketOnData);\r\n\r\n    //\r\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\r\n    // https://github.com/websockets/ws/issues/1940.\r\n    //\r\n    process.nextTick(resume, websocket._socket);\r\n\r\n    websocket.close(err[kStatusCode]);\r\n  }\r\n\r\n  websocket.emit('error', err);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'finish'` event.\r\n *\r\n * @private\r\n */\r\nfunction receiverOnFinish() {\r\n  this[kWebSocket].emitClose();\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'message'` event.\r\n *\r\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\r\n * @param {Boolean} isBinary Specifies whether the message is binary or not\r\n * @private\r\n */\r\nfunction receiverOnMessage(data, isBinary) {\r\n  this[kWebSocket].emit('message', data, isBinary);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'ping'` event.\r\n *\r\n * @param {Buffer} data The data included in the ping frame\r\n * @private\r\n */\r\nfunction receiverOnPing(data) {\r\n  const websocket = this[kWebSocket];\r\n\r\n  websocket.pong(data, !websocket._isServer, NOOP);\r\n  websocket.emit('ping', data);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'pong'` event.\r\n *\r\n * @param {Buffer} data The data included in the pong frame\r\n * @private\r\n */\r\nfunction receiverOnPong(data) {\r\n  this[kWebSocket].emit('pong', data);\r\n}\r\n\r\n/**\r\n * Resume a readable stream\r\n *\r\n * @param {Readable} stream The readable stream\r\n * @private\r\n */\r\nfunction resume(stream) {\r\n  stream.resume();\r\n}\r\n\r\n/**\r\n * The listener of the socket `'close'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnClose() {\r\n  const websocket = this[kWebSocket];\r\n\r\n  this.removeListener('close', socketOnClose);\r\n  this.removeListener('data', socketOnData);\r\n  this.removeListener('end', socketOnEnd);\r\n\r\n  websocket._readyState = WebSocket.CLOSING;\r\n\r\n  let chunk;\r\n\r\n  //\r\n  // The close frame might not have been received or the `'end'` event emitted,\r\n  // for example, if the socket was destroyed due to an error. Ensure that the\r\n  // `receiver` stream is closed after writing any remaining buffered data to\r\n  // it. If the readable side of the socket is in flowing mode then there is no\r\n  // buffered data as everything has been already written and `readable.read()`\r\n  // will return `null`. If instead, the socket is paused, any possible buffered\r\n  // data will be read as a single chunk.\r\n  //\r\n  if (\r\n    !this._readableState.endEmitted &&\r\n    !websocket._closeFrameReceived &&\r\n    !websocket._receiver._writableState.errorEmitted &&\r\n    (chunk = websocket._socket.read()) !== null\r\n  ) {\r\n    websocket._receiver.write(chunk);\r\n  }\r\n\r\n  websocket._receiver.end();\r\n\r\n  this[kWebSocket] = undefined;\r\n\r\n  clearTimeout(websocket._closeTimer);\r\n\r\n  if (\r\n    websocket._receiver._writableState.finished ||\r\n    websocket._receiver._writableState.errorEmitted\r\n  ) {\r\n    websocket.emitClose();\r\n  } else {\r\n    websocket._receiver.on('error', receiverOnFinish);\r\n    websocket._receiver.on('finish', receiverOnFinish);\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the socket `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction socketOnData(chunk) {\r\n  if (!this[kWebSocket]._receiver.write(chunk)) {\r\n    this.pause();\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the socket `'end'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnEnd() {\r\n  const websocket = this[kWebSocket];\r\n\r\n  websocket._readyState = WebSocket.CLOSING;\r\n  websocket._receiver.end();\r\n  this.end();\r\n}\r\n\r\n/**\r\n * The listener of the socket `'error'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnError() {\r\n  const websocket = this[kWebSocket];\r\n\r\n  this.removeListener('error', socketOnError);\r\n  this.on('error', NOOP);\r\n\r\n  if (websocket) {\r\n    websocket._readyState = WebSocket.CLOSING;\r\n    this.destroy();\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0MsMENBQTBDO0FBQ2hGO0FBQ2E7QUFDYjtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLHNCQUFRO0FBQ3JDLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsWUFBWSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3pCLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixRQUFRLDBCQUEwQixFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDcEQsUUFBUSxtQkFBbUIsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQzdDLFFBQVEsTUFBTSxFQUFFLG1CQUFPLENBQUMsZ0JBQUs7QUFDN0I7QUFDQSwwQkFBMEIsbUJBQU8sQ0FBQyx5SEFBc0I7QUFDeEQsaUJBQWlCLG1CQUFPLENBQUMscUdBQVk7QUFDckMsZUFBZSxtQkFBTyxDQUFDLGlHQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxtQkFBTyxDQUFDLHVHQUFhO0FBQ3pCO0FBQ0EsaUJBQWlCO0FBQ2pCLEVBQUUsRUFBRSxtQkFBTyxDQUFDLDZHQUFnQjtBQUM1QixRQUFRLGdCQUFnQixFQUFFLG1CQUFPLENBQUMsdUdBQWE7QUFDL0MsUUFBUSxXQUFXLEVBQUUsbUJBQU8sQ0FBQywyR0FBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsY0FBYztBQUMzQixhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLGlCQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLG9EQUFvRCxTQUFTO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGVBQWU7QUFDdEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyw0Q0FBNEM7QUFDdkQ7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxzQkFBc0I7QUFDakUsWUFBWSxrQ0FBa0M7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhCQUE4QjtBQUN6QyxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC5qcz81YmQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNJZ25vcmVQYXR0ZXJuXCI6IFwiXkR1cGxleHxSZWFkYWJsZSRcIiB9XSAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJyk7XHJcbmNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTtcclxuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcclxuY29uc3QgbmV0ID0gcmVxdWlyZSgnbmV0Jyk7XHJcbmNvbnN0IHRscyA9IHJlcXVpcmUoJ3RscycpO1xyXG5jb25zdCB7IHJhbmRvbUJ5dGVzLCBjcmVhdGVIYXNoIH0gPSByZXF1aXJlKCdjcnlwdG8nKTtcclxuY29uc3QgeyBEdXBsZXgsIFJlYWRhYmxlIH0gPSByZXF1aXJlKCdzdHJlYW0nKTtcclxuY29uc3QgeyBVUkwgfSA9IHJlcXVpcmUoJ3VybCcpO1xyXG5cclxuY29uc3QgUGVyTWVzc2FnZURlZmxhdGUgPSByZXF1aXJlKCcuL3Blcm1lc3NhZ2UtZGVmbGF0ZScpO1xyXG5jb25zdCBSZWNlaXZlciA9IHJlcXVpcmUoJy4vcmVjZWl2ZXInKTtcclxuY29uc3QgU2VuZGVyID0gcmVxdWlyZSgnLi9zZW5kZXInKTtcclxuY29uc3Qge1xyXG4gIEJJTkFSWV9UWVBFUyxcclxuICBFTVBUWV9CVUZGRVIsXHJcbiAgR1VJRCxcclxuICBrRm9yT25FdmVudEF0dHJpYnV0ZSxcclxuICBrTGlzdGVuZXIsXHJcbiAga1N0YXR1c0NvZGUsXHJcbiAga1dlYlNvY2tldCxcclxuICBOT09QXHJcbn0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xyXG5jb25zdCB7XHJcbiAgRXZlbnRUYXJnZXQ6IHsgYWRkRXZlbnRMaXN0ZW5lciwgcmVtb3ZlRXZlbnRMaXN0ZW5lciB9XHJcbn0gPSByZXF1aXJlKCcuL2V2ZW50LXRhcmdldCcpO1xyXG5jb25zdCB7IGZvcm1hdCwgcGFyc2UgfSA9IHJlcXVpcmUoJy4vZXh0ZW5zaW9uJyk7XHJcbmNvbnN0IHsgdG9CdWZmZXIgfSA9IHJlcXVpcmUoJy4vYnVmZmVyLXV0aWwnKTtcclxuXHJcbmNvbnN0IGNsb3NlVGltZW91dCA9IDMwICogMTAwMDtcclxuY29uc3Qga0Fib3J0ZWQgPSBTeW1ib2woJ2tBYm9ydGVkJyk7XHJcbmNvbnN0IHByb3RvY29sVmVyc2lvbnMgPSBbOCwgMTNdO1xyXG5jb25zdCByZWFkeVN0YXRlcyA9IFsnQ09OTkVDVElORycsICdPUEVOJywgJ0NMT1NJTkcnLCAnQ0xPU0VEJ107XHJcbmNvbnN0IHN1YnByb3RvY29sUmVnZXggPSAvXlshIyQlJicqK1xcLS4wLTlBLVpeX2B8YS16fl0rJC87XHJcblxyXG4vKipcclxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgV2ViU29ja2V0LlxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcclxuICovXHJcbmNsYXNzIFdlYlNvY2tldCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IGBXZWJTb2NrZXRgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsoU3RyaW5nfFVSTCl9IGFkZHJlc3MgVGhlIFVSTCB0byB3aGljaCB0byBjb25uZWN0XHJcbiAgICogQHBhcmFtIHsoU3RyaW5nfFN0cmluZ1tdKX0gW3Byb3RvY29sc10gVGhlIHN1YnByb3RvY29sc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQ29ubmVjdGlvbiBvcHRpb25zXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoYWRkcmVzcywgcHJvdG9jb2xzLCBvcHRpb25zKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuX2JpbmFyeVR5cGUgPSBCSU5BUllfVFlQRVNbMF07XHJcbiAgICB0aGlzLl9jbG9zZUNvZGUgPSAxMDA2O1xyXG4gICAgdGhpcy5fY2xvc2VGcmFtZVJlY2VpdmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9jbG9zZUZyYW1lU2VudCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fY2xvc2VNZXNzYWdlID0gRU1QVFlfQlVGRkVSO1xyXG4gICAgdGhpcy5fY2xvc2VUaW1lciA9IG51bGw7XHJcbiAgICB0aGlzLl9leHRlbnNpb25zID0ge307XHJcbiAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuX3Byb3RvY29sID0gJyc7XHJcbiAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNPTk5FQ1RJTkc7XHJcbiAgICB0aGlzLl9yZWNlaXZlciA9IG51bGw7XHJcbiAgICB0aGlzLl9zZW5kZXIgPSBudWxsO1xyXG4gICAgdGhpcy5fc29ja2V0ID0gbnVsbDtcclxuXHJcbiAgICBpZiAoYWRkcmVzcyAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLl9idWZmZXJlZEFtb3VudCA9IDA7XHJcbiAgICAgIHRoaXMuX2lzU2VydmVyID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuX3JlZGlyZWN0cyA9IDA7XHJcblxyXG4gICAgICBpZiAocHJvdG9jb2xzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwcm90b2NvbHMgPSBbXTtcclxuICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShwcm90b2NvbHMpKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm90b2NvbHMgPT09ICdvYmplY3QnICYmIHByb3RvY29scyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgb3B0aW9ucyA9IHByb3RvY29scztcclxuICAgICAgICAgIHByb3RvY29scyA9IFtdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcm90b2NvbHMgPSBbcHJvdG9jb2xzXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGluaXRBc0NsaWVudCh0aGlzLCBhZGRyZXNzLCBwcm90b2NvbHMsIG9wdGlvbnMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faXNTZXJ2ZXIgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBkZXZpYXRlcyBmcm9tIHRoZSBXSEFUV0cgaW50ZXJmYWNlIHNpbmNlIHdzIGRvZXNuJ3Qgc3VwcG9ydCB0aGVcclxuICAgKiByZXF1aXJlZCBkZWZhdWx0IFwiYmxvYlwiIHR5cGUgKGluc3RlYWQgd2UgZGVmaW5lIGEgY3VzdG9tIFwibm9kZWJ1ZmZlclwiXHJcbiAgICogdHlwZSkuXHJcbiAgICpcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldCBiaW5hcnlUeXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2JpbmFyeVR5cGU7XHJcbiAgfVxyXG5cclxuICBzZXQgYmluYXJ5VHlwZSh0eXBlKSB7XHJcbiAgICBpZiAoIUJJTkFSWV9UWVBFUy5pbmNsdWRlcyh0eXBlKSkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2JpbmFyeVR5cGUgPSB0eXBlO1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyBBbGxvdyB0byBjaGFuZ2UgYGJpbmFyeVR5cGVgIG9uIHRoZSBmbHkuXHJcbiAgICAvL1xyXG4gICAgaWYgKHRoaXMuX3JlY2VpdmVyKSB0aGlzLl9yZWNlaXZlci5fYmluYXJ5VHlwZSA9IHR5cGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqL1xyXG4gIGdldCBidWZmZXJlZEFtb3VudCgpIHtcclxuICAgIGlmICghdGhpcy5fc29ja2V0KSByZXR1cm4gdGhpcy5fYnVmZmVyZWRBbW91bnQ7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX3NvY2tldC5fd3JpdGFibGVTdGF0ZS5sZW5ndGggKyB0aGlzLl9zZW5kZXIuX2J1ZmZlcmVkQnl0ZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldCBleHRlbnNpb25zKCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2V4dGVuc2lvbnMpLmpvaW4oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGdldCBpc1BhdXNlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9wYXVzZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICovXHJcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICBnZXQgb25jbG9zZSgpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqL1xyXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgZ2V0IG9uZXJyb3IoKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKi9cclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gIGdldCBvbm9wZW4oKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKi9cclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gIGdldCBvbm1lc3NhZ2UoKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0IHByb3RvY29sKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKi9cclxuICBnZXQgcmVhZHlTdGF0ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZWFkeVN0YXRlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUge1N0cmluZ31cclxuICAgKi9cclxuICBnZXQgdXJsKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VybDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB1cCB0aGUgc29ja2V0IGFuZCB0aGUgaW50ZXJuYWwgcmVzb3VyY2VzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtEdXBsZXh9IHNvY2tldCBUaGUgbmV0d29yayBzb2NrZXQgYmV0d2VlbiB0aGUgc2VydmVyIGFuZCBjbGllbnRcclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gaGVhZCBUaGUgZmlyc3QgcGFja2V0IG9mIHRoZSB1cGdyYWRlZCBzdHJlYW1cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmdlbmVyYXRlTWFza10gVGhlIGZ1bmN0aW9uIHVzZWQgdG8gZ2VuZXJhdGUgdGhlXHJcbiAgICogICAgIG1hc2tpbmcga2V5XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFBheWxvYWQ9MF0gVGhlIG1heGltdW0gYWxsb3dlZCBtZXNzYWdlIHNpemVcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNraXBVVEY4VmFsaWRhdGlvbj1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3JcclxuICAgKiAgICAgbm90IHRvIHNraXAgVVRGLTggdmFsaWRhdGlvbiBmb3IgdGV4dCBhbmQgY2xvc2UgbWVzc2FnZXNcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHNldFNvY2tldChzb2NrZXQsIGhlYWQsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHJlY2VpdmVyID0gbmV3IFJlY2VpdmVyKHtcclxuICAgICAgYmluYXJ5VHlwZTogdGhpcy5iaW5hcnlUeXBlLFxyXG4gICAgICBleHRlbnNpb25zOiB0aGlzLl9leHRlbnNpb25zLFxyXG4gICAgICBpc1NlcnZlcjogdGhpcy5faXNTZXJ2ZXIsXHJcbiAgICAgIG1heFBheWxvYWQ6IG9wdGlvbnMubWF4UGF5bG9hZCxcclxuICAgICAgc2tpcFVURjhWYWxpZGF0aW9uOiBvcHRpb25zLnNraXBVVEY4VmFsaWRhdGlvblxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2VuZGVyID0gbmV3IFNlbmRlcihzb2NrZXQsIHRoaXMuX2V4dGVuc2lvbnMsIG9wdGlvbnMuZ2VuZXJhdGVNYXNrKTtcclxuICAgIHRoaXMuX3JlY2VpdmVyID0gcmVjZWl2ZXI7XHJcbiAgICB0aGlzLl9zb2NrZXQgPSBzb2NrZXQ7XHJcblxyXG4gICAgcmVjZWl2ZXJba1dlYlNvY2tldF0gPSB0aGlzO1xyXG4gICAgc29ja2V0W2tXZWJTb2NrZXRdID0gdGhpcztcclxuXHJcbiAgICByZWNlaXZlci5vbignY29uY2x1ZGUnLCByZWNlaXZlck9uQ29uY2x1ZGUpO1xyXG4gICAgcmVjZWl2ZXIub24oJ2RyYWluJywgcmVjZWl2ZXJPbkRyYWluKTtcclxuICAgIHJlY2VpdmVyLm9uKCdlcnJvcicsIHJlY2VpdmVyT25FcnJvcik7XHJcbiAgICByZWNlaXZlci5vbignbWVzc2FnZScsIHJlY2VpdmVyT25NZXNzYWdlKTtcclxuICAgIHJlY2VpdmVyLm9uKCdwaW5nJywgcmVjZWl2ZXJPblBpbmcpO1xyXG4gICAgcmVjZWl2ZXIub24oJ3BvbmcnLCByZWNlaXZlck9uUG9uZyk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIFRoZXNlIG1ldGhvZHMgbWF5IG5vdCBiZSBhdmFpbGFibGUgaWYgYHNvY2tldGAgaXMganVzdCBhIGBEdXBsZXhgLlxyXG4gICAgLy9cclxuICAgIGlmIChzb2NrZXQuc2V0VGltZW91dCkgc29ja2V0LnNldFRpbWVvdXQoMCk7XHJcbiAgICBpZiAoc29ja2V0LnNldE5vRGVsYXkpIHNvY2tldC5zZXROb0RlbGF5KCk7XHJcblxyXG4gICAgaWYgKGhlYWQubGVuZ3RoID4gMCkgc29ja2V0LnVuc2hpZnQoaGVhZCk7XHJcblxyXG4gICAgc29ja2V0Lm9uKCdjbG9zZScsIHNvY2tldE9uQ2xvc2UpO1xyXG4gICAgc29ja2V0Lm9uKCdkYXRhJywgc29ja2V0T25EYXRhKTtcclxuICAgIHNvY2tldC5vbignZW5kJywgc29ja2V0T25FbmQpO1xyXG4gICAgc29ja2V0Lm9uKCdlcnJvcicsIHNvY2tldE9uRXJyb3IpO1xyXG5cclxuICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuT1BFTjtcclxuICAgIHRoaXMuZW1pdCgnb3BlbicpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW1pdCB0aGUgYCdjbG9zZSdgIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBlbWl0Q2xvc2UoKSB7XHJcbiAgICBpZiAoIXRoaXMuX3NvY2tldCkge1xyXG4gICAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NFRDtcclxuICAgICAgdGhpcy5lbWl0KCdjbG9zZScsIHRoaXMuX2Nsb3NlQ29kZSwgdGhpcy5fY2xvc2VNZXNzYWdlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKSB7XHJcbiAgICAgIHRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0uY2xlYW51cCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3JlY2VpdmVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TRUQ7XHJcbiAgICB0aGlzLmVtaXQoJ2Nsb3NlJywgdGhpcy5fY2xvc2VDb2RlLCB0aGlzLl9jbG9zZU1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnQgYSBjbG9zaW5nIGhhbmRzaGFrZS5cclxuICAgKlxyXG4gICAqICAgICAgICAgICstLS0tLS0tLS0tKyAgICstLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLStcclxuICAgKiAgICAgLSAtIC18d3MuY2xvc2UoKXwtLT58Y2xvc2UgZnJhbWV8LS0+fHdzLmNsb3NlKCl8LSAtIC1cclxuICAgKiAgICB8ICAgICArLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0rICAgICB8XHJcbiAgICogICAgICAgICAgKy0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tKyAgICAgICAgIHxcclxuICAgKiBDTE9TSU5HICB8d3MuY2xvc2UoKXw8LS18Y2xvc2UgZnJhbWV8PC0tKy0tLS0tKyAgICAgICBDTE9TSU5HXHJcbiAgICogICAgICAgICAgKy0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tKyAgIHxcclxuICAgKiAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgfCAgICstLS0rICAgICAgICB8XHJcbiAgICogICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLT58ZmlufCAtIC0gLSAtXHJcbiAgICogICAgfCAgICAgICAgICstLS0rICAgICAgICAgICAgICAgICAgICAgIHwgICArLS0tK1xyXG4gICAqICAgICAtIC0gLSAtIC18ZmlufDwtLS0tLS0tLS0tLS0tLS0tLS0tLS0rXHJcbiAgICogICAgICAgICAgICAgICstLS0rXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvZGVdIFN0YXR1cyBjb2RlIGV4cGxhaW5pbmcgd2h5IHRoZSBjb25uZWN0aW9uIGlzIGNsb3NpbmdcclxuICAgKiBAcGFyYW0geyhTdHJpbmd8QnVmZmVyKX0gW2RhdGFdIFRoZSByZWFzb24gd2h5IHRoZSBjb25uZWN0aW9uIGlzXHJcbiAgICogICAgIGNsb3NpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgY2xvc2UoY29kZSwgZGF0YSkge1xyXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NFRCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcclxuICAgICAgY29uc3QgbXNnID0gJ1dlYlNvY2tldCB3YXMgY2xvc2VkIGJlZm9yZSB0aGUgY29ubmVjdGlvbiB3YXMgZXN0YWJsaXNoZWQnO1xyXG4gICAgICBhYm9ydEhhbmRzaGFrZSh0aGlzLCB0aGlzLl9yZXEsIG1zZyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0lORykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5fY2xvc2VGcmFtZVNlbnQgJiZcclxuICAgICAgICAodGhpcy5fY2xvc2VGcmFtZVJlY2VpdmVkIHx8IHRoaXMuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZClcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5fc29ja2V0LmVuZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xyXG4gICAgdGhpcy5fc2VuZGVyLmNsb3NlKGNvZGUsIGRhdGEsICF0aGlzLl9pc1NlcnZlciwgKGVycikgPT4ge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBUaGlzIGVycm9yIGlzIGhhbmRsZWQgYnkgdGhlIGAnZXJyb3InYCBsaXN0ZW5lciBvbiB0aGUgc29ja2V0LiBXZSBvbmx5XHJcbiAgICAgIC8vIHdhbnQgdG8ga25vdyBpZiB0aGUgY2xvc2UgZnJhbWUgaGFzIGJlZW4gc2VudCBoZXJlLlxyXG4gICAgICAvL1xyXG4gICAgICBpZiAoZXJyKSByZXR1cm47XHJcblxyXG4gICAgICB0aGlzLl9jbG9zZUZyYW1lU2VudCA9IHRydWU7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5fY2xvc2VGcmFtZVJlY2VpdmVkIHx8XHJcbiAgICAgICAgdGhpcy5fcmVjZWl2ZXIuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuX3NvY2tldC5lbmQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIFNwZWNpZnkgYSB0aW1lb3V0IGZvciB0aGUgY2xvc2luZyBoYW5kc2hha2UgdG8gY29tcGxldGUuXHJcbiAgICAvL1xyXG4gICAgdGhpcy5fY2xvc2VUaW1lciA9IHNldFRpbWVvdXQoXHJcbiAgICAgIHRoaXMuX3NvY2tldC5kZXN0cm95LmJpbmQodGhpcy5fc29ja2V0KSxcclxuICAgICAgY2xvc2VUaW1lb3V0XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUGF1c2UgdGhlIHNvY2tldC5cclxuICAgKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBwYXVzZSgpIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORyB8fFxyXG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRURcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcclxuICAgIHRoaXMuX3NvY2tldC5wYXVzZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VuZCBhIHBpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IFtkYXRhXSBUaGUgZGF0YSB0byBzZW5kXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFza10gSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFjayB3aGljaCBpcyBleGVjdXRlZCB3aGVuIHRoZSBwaW5nIGlzIHNlbnRcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcGluZyhkYXRhLCBtYXNrLCBjYikge1xyXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IG9wZW46IHJlYWR5U3RhdGUgMCAoQ09OTkVDVElORyknKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY2IgPSBkYXRhO1xyXG4gICAgICBkYXRhID0gbWFzayA9IHVuZGVmaW5lZDtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1hc2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY2IgPSBtYXNrO1xyXG4gICAgICBtYXNrID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIGRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgc2VuZEFmdGVyQ2xvc2UodGhpcywgZGF0YSwgY2IpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hc2sgPT09IHVuZGVmaW5lZCkgbWFzayA9ICF0aGlzLl9pc1NlcnZlcjtcclxuICAgIHRoaXMuX3NlbmRlci5waW5nKGRhdGEgfHwgRU1QVFlfQlVGRkVSLCBtYXNrLCBjYik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZW5kIGEgcG9uZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIFRoZSBkYXRhIHRvIHNlbmRcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrXSBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrIHdoaWNoIGlzIGV4ZWN1dGVkIHdoZW4gdGhlIHBvbmcgaXMgc2VudFxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBwb25nKGRhdGEsIG1hc2ssIGNiKSB7XHJcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBpcyBub3Qgb3BlbjogcmVhZHlTdGF0ZSAwIChDT05ORUNUSU5HKScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjYiA9IGRhdGE7XHJcbiAgICAgIGRhdGEgPSBtYXNrID0gdW5kZWZpbmVkO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWFzayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjYiA9IG1hc2s7XHJcbiAgICAgIG1hc2sgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcclxuXHJcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICBzZW5kQWZ0ZXJDbG9zZSh0aGlzLCBkYXRhLCBjYik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWFzayA9PT0gdW5kZWZpbmVkKSBtYXNrID0gIXRoaXMuX2lzU2VydmVyO1xyXG4gICAgdGhpcy5fc2VuZGVyLnBvbmcoZGF0YSB8fCBFTVBUWV9CVUZGRVIsIG1hc2ssIGNiKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc3VtZSB0aGUgc29ja2V0LlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHJlc3VtZSgpIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORyB8fFxyXG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRURcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XHJcbiAgICBpZiAoIXRoaXMuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLm5lZWREcmFpbikgdGhpcy5fc29ja2V0LnJlc3VtZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VuZCBhIGRhdGEgbWVzc2FnZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYmluYXJ5XSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgaXMgYmluYXJ5IG9yXHJcbiAgICogICAgIHRleHRcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbXByZXNzXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gY29tcHJlc3NcclxuICAgKiAgICAgYGRhdGFgXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5maW49dHJ1ZV0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGZyYWdtZW50IGlzIHRoZVxyXG4gICAqICAgICBsYXN0IG9uZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWFza10gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFjayB3aGljaCBpcyBleGVjdXRlZCB3aGVuIGRhdGEgaXMgd3JpdHRlbiBvdXRcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc2VuZChkYXRhLCBvcHRpb25zLCBjYikge1xyXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IG9wZW46IHJlYWR5U3RhdGUgMCAoQ09OTkVDVElORyknKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY2IgPSBvcHRpb25zO1xyXG4gICAgICBvcHRpb25zID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcclxuXHJcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICBzZW5kQWZ0ZXJDbG9zZSh0aGlzLCBkYXRhLCBjYik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICBiaW5hcnk6IHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyxcclxuICAgICAgbWFzazogIXRoaXMuX2lzU2VydmVyLFxyXG4gICAgICBjb21wcmVzczogdHJ1ZSxcclxuICAgICAgZmluOiB0cnVlLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSkge1xyXG4gICAgICBvcHRzLmNvbXByZXNzID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc2VuZGVyLnNlbmQoZGF0YSB8fCBFTVBUWV9CVUZGRVIsIG9wdHMsIGNiKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvcmNpYmx5IGNsb3NlIHRoZSBjb25uZWN0aW9uLlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHRlcm1pbmF0ZSgpIHtcclxuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRUQpIHJldHVybjtcclxuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XHJcbiAgICAgIGNvbnN0IG1zZyA9ICdXZWJTb2NrZXQgd2FzIGNsb3NlZCBiZWZvcmUgdGhlIGNvbm5lY3Rpb24gd2FzIGVzdGFibGlzaGVkJztcclxuICAgICAgYWJvcnRIYW5kc2hha2UodGhpcywgdGhpcy5fcmVxLCBtc2cpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX3NvY2tldCkge1xyXG4gICAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XHJcbiAgICAgIHRoaXMuX3NvY2tldC5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENPTk5FQ1RJTkdcclxuICogQG1lbWJlcm9mIFdlYlNvY2tldFxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldCwgJ0NPTk5FQ1RJTkcnLCB7XHJcbiAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ09OTkVDVElORycpXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDT05ORUNUSU5HXHJcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXQucHJvdG90eXBlXHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgJ0NPTk5FQ1RJTkcnLCB7XHJcbiAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ09OTkVDVElORycpXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBPUEVOXHJcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXRcclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQsICdPUEVOJywge1xyXG4gIGVudW1lcmFibGU6IHRydWUsXHJcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ09QRU4nKVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3RhbnQge051bWJlcn0gT1BFTlxyXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0LnByb3RvdHlwZVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsICdPUEVOJywge1xyXG4gIGVudW1lcmFibGU6IHRydWUsXHJcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ09QRU4nKVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3RhbnQge051bWJlcn0gQ0xPU0lOR1xyXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LCAnQ0xPU0lORycsIHtcclxuICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDTE9TSU5HJylcclxufSk7XHJcblxyXG4vKipcclxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENMT1NJTkdcclxuICogQG1lbWJlcm9mIFdlYlNvY2tldC5wcm90b3R5cGVcclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCAnQ0xPU0lORycsIHtcclxuICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDTE9TSU5HJylcclxufSk7XHJcblxyXG4vKipcclxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENMT1NFRFxyXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LCAnQ0xPU0VEJywge1xyXG4gIGVudW1lcmFibGU6IHRydWUsXHJcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NMT1NFRCcpXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDTE9TRURcclxuICogQG1lbWJlcm9mIFdlYlNvY2tldC5wcm90b3R5cGVcclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCAnQ0xPU0VEJywge1xyXG4gIGVudW1lcmFibGU6IHRydWUsXHJcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NMT1NFRCcpXHJcbn0pO1xyXG5cclxuW1xyXG4gICdiaW5hcnlUeXBlJyxcclxuICAnYnVmZmVyZWRBbW91bnQnLFxyXG4gICdleHRlbnNpb25zJyxcclxuICAnaXNQYXVzZWQnLFxyXG4gICdwcm90b2NvbCcsXHJcbiAgJ3JlYWR5U3RhdGUnLFxyXG4gICd1cmwnXHJcbl0uZm9yRWFjaCgocHJvcGVydHkpID0+IHtcclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcclxufSk7XHJcblxyXG4vL1xyXG4vLyBBZGQgdGhlIGBvbm9wZW5gLCBgb25lcnJvcmAsIGBvbmNsb3NlYCwgYW5kIGBvbm1lc3NhZ2VgIGF0dHJpYnV0ZXMuXHJcbi8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9jb21tcy5odG1sI3RoZS13ZWJzb2NrZXQtaW50ZXJmYWNlXHJcbi8vXHJcblsnb3BlbicsICdlcnJvcicsICdjbG9zZScsICdtZXNzYWdlJ10uZm9yRWFjaCgobWV0aG9kKSA9PiB7XHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsIGBvbiR7bWV0aG9kfWAsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBnZXQoKSB7XHJcbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnMobWV0aG9kKSkge1xyXG4gICAgICAgIGlmIChsaXN0ZW5lcltrRm9yT25FdmVudEF0dHJpYnV0ZV0pIHJldHVybiBsaXN0ZW5lcltrTGlzdGVuZXJdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcbiAgICBzZXQoaGFuZGxlcikge1xyXG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzKG1ldGhvZCkpIHtcclxuICAgICAgICBpZiAobGlzdGVuZXJba0Zvck9uRXZlbnRBdHRyaWJ1dGVdKSB7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKG1ldGhvZCwgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybjtcclxuXHJcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihtZXRob2QsIGhhbmRsZXIsIHtcclxuICAgICAgICBba0Zvck9uRXZlbnRBdHRyaWJ1dGVdOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbldlYlNvY2tldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7XHJcbldlYlNvY2tldC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXI7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFdlYlNvY2tldDtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIGEgV2ViU29ja2V0IGNsaWVudC5cclxuICpcclxuICogQHBhcmFtIHtXZWJTb2NrZXR9IHdlYnNvY2tldCBUaGUgY2xpZW50IHRvIGluaXRpYWxpemVcclxuICogQHBhcmFtIHsoU3RyaW5nfFVSTCl9IGFkZHJlc3MgVGhlIFVSTCB0byB3aGljaCB0byBjb25uZWN0XHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3RvY29scyBUaGUgc3VicHJvdG9jb2xzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQ29ubmVjdGlvbiBvcHRpb25zXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZm9sbG93UmVkaXJlY3RzPWZhbHNlXSBXaGV0aGVyIG9yIG5vdCB0byBmb2xsb3dcclxuICogICAgIHJlZGlyZWN0c1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5nZW5lcmF0ZU1hc2tdIFRoZSBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIHRoZVxyXG4gKiAgICAgbWFza2luZyBrZXlcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhhbmRzaGFrZVRpbWVvdXRdIFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGVcclxuICogICAgIGhhbmRzaGFrZSByZXF1ZXN0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhQYXlsb2FkPTEwNDg1NzYwMF0gVGhlIG1heGltdW0gYWxsb3dlZCBtZXNzYWdlXHJcbiAqICAgICBzaXplXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhSZWRpcmVjdHM9MTBdIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZWRpcmVjdHNcclxuICogICAgIGFsbG93ZWRcclxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm9yaWdpbl0gVmFsdWUgb2YgdGhlIGBPcmlnaW5gIG9yXHJcbiAqICAgICBgU2VjLVdlYlNvY2tldC1PcmlnaW5gIGhlYWRlclxyXG4gKiBAcGFyYW0geyhCb29sZWFufE9iamVjdCl9IFtvcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlPXRydWVdIEVuYWJsZS9kaXNhYmxlXHJcbiAqICAgICBwZXJtZXNzYWdlLWRlZmxhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnByb3RvY29sVmVyc2lvbj0xM10gVmFsdWUgb2YgdGhlXHJcbiAqICAgICBgU2VjLVdlYlNvY2tldC1WZXJzaW9uYCBoZWFkZXJcclxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5za2lwVVRGOFZhbGlkYXRpb249ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yXHJcbiAqICAgICBub3QgdG8gc2tpcCBVVEYtOCB2YWxpZGF0aW9uIGZvciB0ZXh0IGFuZCBjbG9zZSBtZXNzYWdlc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEFzQ2xpZW50KHdlYnNvY2tldCwgYWRkcmVzcywgcHJvdG9jb2xzLCBvcHRpb25zKSB7XHJcbiAgY29uc3Qgb3B0cyA9IHtcclxuICAgIHByb3RvY29sVmVyc2lvbjogcHJvdG9jb2xWZXJzaW9uc1sxXSxcclxuICAgIG1heFBheWxvYWQ6IDEwMCAqIDEwMjQgKiAxMDI0LFxyXG4gICAgc2tpcFVURjhWYWxpZGF0aW9uOiBmYWxzZSxcclxuICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB0cnVlLFxyXG4gICAgZm9sbG93UmVkaXJlY3RzOiBmYWxzZSxcclxuICAgIG1heFJlZGlyZWN0czogMTAsXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gICAgY3JlYXRlQ29ubmVjdGlvbjogdW5kZWZpbmVkLFxyXG4gICAgc29ja2V0UGF0aDogdW5kZWZpbmVkLFxyXG4gICAgaG9zdG5hbWU6IHVuZGVmaW5lZCxcclxuICAgIHByb3RvY29sOiB1bmRlZmluZWQsXHJcbiAgICB0aW1lb3V0OiB1bmRlZmluZWQsXHJcbiAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgaG9zdDogdW5kZWZpbmVkLFxyXG4gICAgcGF0aDogdW5kZWZpbmVkLFxyXG4gICAgcG9ydDogdW5kZWZpbmVkXHJcbiAgfTtcclxuXHJcbiAgaWYgKCFwcm90b2NvbFZlcnNpb25zLmluY2x1ZGVzKG9wdHMucHJvdG9jb2xWZXJzaW9uKSkge1xyXG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXHJcbiAgICAgIGBVbnN1cHBvcnRlZCBwcm90b2NvbCB2ZXJzaW9uOiAke29wdHMucHJvdG9jb2xWZXJzaW9ufSBgICtcclxuICAgICAgICBgKHN1cHBvcnRlZCB2ZXJzaW9uczogJHtwcm90b2NvbFZlcnNpb25zLmpvaW4oJywgJyl9KWBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBsZXQgcGFyc2VkVXJsO1xyXG5cclxuICBpZiAoYWRkcmVzcyBpbnN0YW5jZW9mIFVSTCkge1xyXG4gICAgcGFyc2VkVXJsID0gYWRkcmVzcztcclxuICB9IGVsc2Uge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcGFyc2VkVXJsID0gbmV3IFVSTChhZGRyZXNzKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBJbnZhbGlkIFVSTDogJHthZGRyZXNzfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ2h0dHA6Jykge1xyXG4gICAgcGFyc2VkVXJsLnByb3RvY29sID0gJ3dzOic7XHJcbiAgfSBlbHNlIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgPT09ICdodHRwczonKSB7XHJcbiAgICBwYXJzZWRVcmwucHJvdG9jb2wgPSAnd3NzOic7XHJcbiAgfVxyXG5cclxuICB3ZWJzb2NrZXQuX3VybCA9IHBhcnNlZFVybC5ocmVmO1xyXG5cclxuICBjb25zdCBpc1NlY3VyZSA9IHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ3dzczonO1xyXG4gIGNvbnN0IGlzSXBjVXJsID0gcGFyc2VkVXJsLnByb3RvY29sID09PSAnd3MrdW5peDonO1xyXG4gIGxldCBpbnZhbGlkVXJsTWVzc2FnZTtcclxuXHJcbiAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCAhPT0gJ3dzOicgJiYgIWlzU2VjdXJlICYmICFpc0lwY1VybCkge1xyXG4gICAgaW52YWxpZFVybE1lc3NhZ2UgPVxyXG4gICAgICAnVGhlIFVSTFxcJ3MgcHJvdG9jb2wgbXVzdCBiZSBvbmUgb2YgXCJ3czpcIiwgXCJ3c3M6XCIsICcgK1xyXG4gICAgICAnXCJodHRwOlwiLCBcImh0dHBzXCIsIG9yIFwid3MrdW5peDpcIic7XHJcbiAgfSBlbHNlIGlmIChpc0lwY1VybCAmJiAhcGFyc2VkVXJsLnBhdGhuYW1lKSB7XHJcbiAgICBpbnZhbGlkVXJsTWVzc2FnZSA9IFwiVGhlIFVSTCdzIHBhdGhuYW1lIGlzIGVtcHR5XCI7XHJcbiAgfSBlbHNlIGlmIChwYXJzZWRVcmwuaGFzaCkge1xyXG4gICAgaW52YWxpZFVybE1lc3NhZ2UgPSAnVGhlIFVSTCBjb250YWlucyBhIGZyYWdtZW50IGlkZW50aWZpZXInO1xyXG4gIH1cclxuXHJcbiAgaWYgKGludmFsaWRVcmxNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnIgPSBuZXcgU3ludGF4RXJyb3IoaW52YWxpZFVybE1lc3NhZ2UpO1xyXG5cclxuICAgIGlmICh3ZWJzb2NrZXQuX3JlZGlyZWN0cyA9PT0gMCkge1xyXG4gICAgICB0aHJvdyBlcnI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbWl0RXJyb3JBbmRDbG9zZSh3ZWJzb2NrZXQsIGVycik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGRlZmF1bHRQb3J0ID0gaXNTZWN1cmUgPyA0NDMgOiA4MDtcclxuICBjb25zdCBrZXkgPSByYW5kb21CeXRlcygxNikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xyXG4gIGNvbnN0IHJlcXVlc3QgPSBpc1NlY3VyZSA/IGh0dHBzLnJlcXVlc3QgOiBodHRwLnJlcXVlc3Q7XHJcbiAgY29uc3QgcHJvdG9jb2xTZXQgPSBuZXcgU2V0KCk7XHJcbiAgbGV0IHBlck1lc3NhZ2VEZWZsYXRlO1xyXG5cclxuICBvcHRzLmNyZWF0ZUNvbm5lY3Rpb24gPSBpc1NlY3VyZSA/IHRsc0Nvbm5lY3QgOiBuZXRDb25uZWN0O1xyXG4gIG9wdHMuZGVmYXVsdFBvcnQgPSBvcHRzLmRlZmF1bHRQb3J0IHx8IGRlZmF1bHRQb3J0O1xyXG4gIG9wdHMucG9ydCA9IHBhcnNlZFVybC5wb3J0IHx8IGRlZmF1bHRQb3J0O1xyXG4gIG9wdHMuaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZS5zdGFydHNXaXRoKCdbJylcclxuICAgID8gcGFyc2VkVXJsLmhvc3RuYW1lLnNsaWNlKDEsIC0xKVxyXG4gICAgOiBwYXJzZWRVcmwuaG9zdG5hbWU7XHJcbiAgb3B0cy5oZWFkZXJzID0ge1xyXG4gICAgLi4ub3B0cy5oZWFkZXJzLFxyXG4gICAgJ1NlYy1XZWJTb2NrZXQtVmVyc2lvbic6IG9wdHMucHJvdG9jb2xWZXJzaW9uLFxyXG4gICAgJ1NlYy1XZWJTb2NrZXQtS2V5Jzoga2V5LFxyXG4gICAgQ29ubmVjdGlvbjogJ1VwZ3JhZGUnLFxyXG4gICAgVXBncmFkZTogJ3dlYnNvY2tldCdcclxuICB9O1xyXG4gIG9wdHMucGF0aCA9IHBhcnNlZFVybC5wYXRobmFtZSArIHBhcnNlZFVybC5zZWFyY2g7XHJcbiAgb3B0cy50aW1lb3V0ID0gb3B0cy5oYW5kc2hha2VUaW1lb3V0O1xyXG5cclxuICBpZiAob3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSkge1xyXG4gICAgcGVyTWVzc2FnZURlZmxhdGUgPSBuZXcgUGVyTWVzc2FnZURlZmxhdGUoXHJcbiAgICAgIG9wdHMucGVyTWVzc2FnZURlZmxhdGUgIT09IHRydWUgPyBvcHRzLnBlck1lc3NhZ2VEZWZsYXRlIDoge30sXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICBvcHRzLm1heFBheWxvYWRcclxuICAgICk7XHJcbiAgICBvcHRzLmhlYWRlcnNbJ1NlYy1XZWJTb2NrZXQtRXh0ZW5zaW9ucyddID0gZm9ybWF0KHtcclxuICAgICAgW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdOiBwZXJNZXNzYWdlRGVmbGF0ZS5vZmZlcigpXHJcbiAgICB9KTtcclxuICB9XHJcbiAgaWYgKHByb3RvY29scy5sZW5ndGgpIHtcclxuICAgIGZvciAoY29uc3QgcHJvdG9jb2wgb2YgcHJvdG9jb2xzKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0eXBlb2YgcHJvdG9jb2wgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgIXN1YnByb3RvY29sUmVnZXgudGVzdChwcm90b2NvbCkgfHxcclxuICAgICAgICBwcm90b2NvbFNldC5oYXMocHJvdG9jb2wpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcclxuICAgICAgICAgICdBbiBpbnZhbGlkIG9yIGR1cGxpY2F0ZWQgc3VicHJvdG9jb2wgd2FzIHNwZWNpZmllZCdcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwcm90b2NvbFNldC5hZGQocHJvdG9jb2wpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wdHMuaGVhZGVyc1snU2VjLVdlYlNvY2tldC1Qcm90b2NvbCddID0gcHJvdG9jb2xzLmpvaW4oJywnKTtcclxuICB9XHJcbiAgaWYgKG9wdHMub3JpZ2luKSB7XHJcbiAgICBpZiAob3B0cy5wcm90b2NvbFZlcnNpb24gPCAxMykge1xyXG4gICAgICBvcHRzLmhlYWRlcnNbJ1NlYy1XZWJTb2NrZXQtT3JpZ2luJ10gPSBvcHRzLm9yaWdpbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9wdHMuaGVhZGVycy5PcmlnaW4gPSBvcHRzLm9yaWdpbjtcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKHBhcnNlZFVybC51c2VybmFtZSB8fCBwYXJzZWRVcmwucGFzc3dvcmQpIHtcclxuICAgIG9wdHMuYXV0aCA9IGAke3BhcnNlZFVybC51c2VybmFtZX06JHtwYXJzZWRVcmwucGFzc3dvcmR9YDtcclxuICB9XHJcblxyXG4gIGlmIChpc0lwY1VybCkge1xyXG4gICAgY29uc3QgcGFydHMgPSBvcHRzLnBhdGguc3BsaXQoJzonKTtcclxuXHJcbiAgICBvcHRzLnNvY2tldFBhdGggPSBwYXJ0c1swXTtcclxuICAgIG9wdHMucGF0aCA9IHBhcnRzWzFdO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlcTtcclxuXHJcbiAgaWYgKG9wdHMuZm9sbG93UmVkaXJlY3RzKSB7XHJcbiAgICBpZiAod2Vic29ja2V0Ll9yZWRpcmVjdHMgPT09IDApIHtcclxuICAgICAgd2Vic29ja2V0Ll9vcmlnaW5hbElwYyA9IGlzSXBjVXJsO1xyXG4gICAgICB3ZWJzb2NrZXQuX29yaWdpbmFsU2VjdXJlID0gaXNTZWN1cmU7XHJcbiAgICAgIHdlYnNvY2tldC5fb3JpZ2luYWxIb3N0T3JTb2NrZXRQYXRoID0gaXNJcGNVcmxcclxuICAgICAgICA/IG9wdHMuc29ja2V0UGF0aFxyXG4gICAgICAgIDogcGFyc2VkVXJsLmhvc3Q7XHJcblxyXG4gICAgICBjb25zdCBoZWFkZXJzID0gb3B0aW9ucyAmJiBvcHRpb25zLmhlYWRlcnM7XHJcblxyXG4gICAgICAvL1xyXG4gICAgICAvLyBTaGFsbG93IGNvcHkgdGhlIHVzZXIgcHJvdmlkZWQgb3B0aW9ucyBzbyB0aGF0IGhlYWRlcnMgY2FuIGJlIGNoYW5nZWRcclxuICAgICAgLy8gd2l0aG91dCBtdXRhdGluZyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxyXG4gICAgICAvL1xyXG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCBoZWFkZXJzOiB7fSB9O1xyXG5cclxuICAgICAgaWYgKGhlYWRlcnMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSkge1xyXG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzW2tleS50b0xvd2VyQ2FzZSgpXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh3ZWJzb2NrZXQubGlzdGVuZXJDb3VudCgncmVkaXJlY3QnKSA9PT0gMCkge1xyXG4gICAgICBjb25zdCBpc1NhbWVIb3N0ID0gaXNJcGNVcmxcclxuICAgICAgICA/IHdlYnNvY2tldC5fb3JpZ2luYWxJcGNcclxuICAgICAgICAgID8gb3B0cy5zb2NrZXRQYXRoID09PSB3ZWJzb2NrZXQuX29yaWdpbmFsSG9zdE9yU29ja2V0UGF0aFxyXG4gICAgICAgICAgOiBmYWxzZVxyXG4gICAgICAgIDogd2Vic29ja2V0Ll9vcmlnaW5hbElwY1xyXG4gICAgICAgID8gZmFsc2VcclxuICAgICAgICA6IHBhcnNlZFVybC5ob3N0ID09PSB3ZWJzb2NrZXQuX29yaWdpbmFsSG9zdE9yU29ja2V0UGF0aDtcclxuXHJcbiAgICAgIGlmICghaXNTYW1lSG9zdCB8fCAod2Vic29ja2V0Ll9vcmlnaW5hbFNlY3VyZSAmJiAhaXNTZWN1cmUpKSB7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBNYXRjaCBjdXJsIDcuNzcuMCBiZWhhdmlvciBhbmQgZHJvcCB0aGUgZm9sbG93aW5nIGhlYWRlcnMuIFRoZXNlXHJcbiAgICAgICAgLy8gaGVhZGVycyBhcmUgYWxzbyBkcm9wcGVkIHdoZW4gZm9sbG93aW5nIGEgcmVkaXJlY3QgdG8gYSBzdWJkb21haW4uXHJcbiAgICAgICAgLy9cclxuICAgICAgICBkZWxldGUgb3B0cy5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICAgICAgZGVsZXRlIG9wdHMuaGVhZGVycy5jb29raWU7XHJcblxyXG4gICAgICAgIGlmICghaXNTYW1lSG9zdCkgZGVsZXRlIG9wdHMuaGVhZGVycy5ob3N0O1xyXG5cclxuICAgICAgICBvcHRzLmF1dGggPSB1bmRlZmluZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1xyXG4gICAgLy8gTWF0Y2ggY3VybCA3Ljc3LjAgYmVoYXZpb3IgYW5kIG1ha2UgdGhlIGZpcnN0IGBBdXRob3JpemF0aW9uYCBoZWFkZXIgd2luLlxyXG4gICAgLy8gSWYgdGhlIGBBdXRob3JpemF0aW9uYCBoZWFkZXIgaXMgc2V0LCB0aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG8gYXMgaXRcclxuICAgIC8vIHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxyXG4gICAgLy9cclxuICAgIGlmIChvcHRzLmF1dGggJiYgIW9wdGlvbnMuaGVhZGVycy5hdXRob3JpemF0aW9uKSB7XHJcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5hdXRob3JpemF0aW9uID1cclxuICAgICAgICAnQmFzaWMgJyArIEJ1ZmZlci5mcm9tKG9wdHMuYXV0aCkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcSA9IHdlYnNvY2tldC5fcmVxID0gcmVxdWVzdChvcHRzKTtcclxuXHJcbiAgICBpZiAod2Vic29ja2V0Ll9yZWRpcmVjdHMpIHtcclxuICAgICAgLy9cclxuICAgICAgLy8gVW5saWtlIHdoYXQgaXMgZG9uZSBmb3IgdGhlIGAndXBncmFkZSdgIGV2ZW50LCBubyBlYXJseSBleGl0IGlzXHJcbiAgICAgIC8vIHRyaWdnZXJlZCBoZXJlIGlmIHRoZSB1c2VyIGNhbGxzIGB3ZWJzb2NrZXQuY2xvc2UoKWAgb3JcclxuICAgICAgLy8gYHdlYnNvY2tldC50ZXJtaW5hdGUoKWAgZnJvbSBhIGxpc3RlbmVyIG9mIHRoZSBgJ3JlZGlyZWN0J2AgZXZlbnQuIFRoaXNcclxuICAgICAgLy8gaXMgYmVjYXVzZSB0aGUgdXNlciBjYW4gYWxzbyBjYWxsIGByZXF1ZXN0LmRlc3Ryb3koKWAgd2l0aCBhbiBlcnJvclxyXG4gICAgICAvLyBiZWZvcmUgY2FsbGluZyBgd2Vic29ja2V0LmNsb3NlKClgIG9yIGB3ZWJzb2NrZXQudGVybWluYXRlKClgIGFuZCB0aGlzXHJcbiAgICAgIC8vIHdvdWxkIHJlc3VsdCBpbiBhbiBlcnJvciBiZWluZyBlbWl0dGVkIG9uIHRoZSBgcmVxdWVzdGAgb2JqZWN0IHdpdGggbm9cclxuICAgICAgLy8gYCdlcnJvcidgIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZC5cclxuICAgICAgLy9cclxuICAgICAgd2Vic29ja2V0LmVtaXQoJ3JlZGlyZWN0Jywgd2Vic29ja2V0LnVybCwgcmVxKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmVxID0gd2Vic29ja2V0Ll9yZXEgPSByZXF1ZXN0KG9wdHMpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9wdHMudGltZW91dCkge1xyXG4gICAgcmVxLm9uKCd0aW1lb3V0JywgKCkgPT4ge1xyXG4gICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHJlcSwgJ09wZW5pbmcgaGFuZHNoYWtlIGhhcyB0aW1lZCBvdXQnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVxLm9uKCdlcnJvcicsIChlcnIpID0+IHtcclxuICAgIGlmIChyZXEgPT09IG51bGwgfHwgcmVxW2tBYm9ydGVkXSkgcmV0dXJuO1xyXG5cclxuICAgIHJlcSA9IHdlYnNvY2tldC5fcmVxID0gbnVsbDtcclxuICAgIGVtaXRFcnJvckFuZENsb3NlKHdlYnNvY2tldCwgZXJyKTtcclxuICB9KTtcclxuXHJcbiAgcmVxLm9uKCdyZXNwb25zZScsIChyZXMpID0+IHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gcmVzLmhlYWRlcnMubG9jYXRpb247XHJcbiAgICBjb25zdCBzdGF0dXNDb2RlID0gcmVzLnN0YXR1c0NvZGU7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBsb2NhdGlvbiAmJlxyXG4gICAgICBvcHRzLmZvbGxvd1JlZGlyZWN0cyAmJlxyXG4gICAgICBzdGF0dXNDb2RlID49IDMwMCAmJlxyXG4gICAgICBzdGF0dXNDb2RlIDwgNDAwXHJcbiAgICApIHtcclxuICAgICAgaWYgKCsrd2Vic29ja2V0Ll9yZWRpcmVjdHMgPiBvcHRzLm1heFJlZGlyZWN0cykge1xyXG4gICAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgcmVxLCAnTWF4aW11bSByZWRpcmVjdHMgZXhjZWVkZWQnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlcS5hYm9ydCgpO1xyXG5cclxuICAgICAgbGV0IGFkZHI7XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGFkZHIgPSBuZXcgVVJMKGxvY2F0aW9uLCBhZGRyZXNzKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBTeW50YXhFcnJvcihgSW52YWxpZCBVUkw6ICR7bG9jYXRpb259YCk7XHJcbiAgICAgICAgZW1pdEVycm9yQW5kQ2xvc2Uod2Vic29ja2V0LCBlcnIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW5pdEFzQ2xpZW50KHdlYnNvY2tldCwgYWRkciwgcHJvdG9jb2xzLCBvcHRpb25zKTtcclxuICAgIH0gZWxzZSBpZiAoIXdlYnNvY2tldC5lbWl0KCd1bmV4cGVjdGVkLXJlc3BvbnNlJywgcmVxLCByZXMpKSB7XHJcbiAgICAgIGFib3J0SGFuZHNoYWtlKFxyXG4gICAgICAgIHdlYnNvY2tldCxcclxuICAgICAgICByZXEsXHJcbiAgICAgICAgYFVuZXhwZWN0ZWQgc2VydmVyIHJlc3BvbnNlOiAke3Jlcy5zdGF0dXNDb2RlfWBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVxLm9uKCd1cGdyYWRlJywgKHJlcywgc29ja2V0LCBoZWFkKSA9PiB7XHJcbiAgICB3ZWJzb2NrZXQuZW1pdCgndXBncmFkZScsIHJlcyk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIFRoZSB1c2VyIG1heSBoYXZlIGNsb3NlZCB0aGUgY29ubmVjdGlvbiBmcm9tIGEgbGlzdGVuZXIgb2YgdGhlXHJcbiAgICAvLyBgJ3VwZ3JhZGUnYCBldmVudC5cclxuICAgIC8vXHJcbiAgICBpZiAod2Vic29ja2V0LnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSByZXR1cm47XHJcblxyXG4gICAgcmVxID0gd2Vic29ja2V0Ll9yZXEgPSBudWxsO1xyXG5cclxuICAgIGlmIChyZXMuaGVhZGVycy51cGdyYWRlLnRvTG93ZXJDYXNlKCkgIT09ICd3ZWJzb2NrZXQnKSB7XHJcbiAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCAnSW52YWxpZCBVcGdyYWRlIGhlYWRlcicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGlnZXN0ID0gY3JlYXRlSGFzaCgnc2hhMScpXHJcbiAgICAgIC51cGRhdGUoa2V5ICsgR1VJRClcclxuICAgICAgLmRpZ2VzdCgnYmFzZTY0Jyk7XHJcblxyXG4gICAgaWYgKHJlcy5oZWFkZXJzWydzZWMtd2Vic29ja2V0LWFjY2VwdCddICE9PSBkaWdlc3QpIHtcclxuICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsICdJbnZhbGlkIFNlYy1XZWJTb2NrZXQtQWNjZXB0IGhlYWRlcicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VydmVyUHJvdCA9IHJlcy5oZWFkZXJzWydzZWMtd2Vic29ja2V0LXByb3RvY29sJ107XHJcbiAgICBsZXQgcHJvdEVycm9yO1xyXG5cclxuICAgIGlmIChzZXJ2ZXJQcm90ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKCFwcm90b2NvbFNldC5zaXplKSB7XHJcbiAgICAgICAgcHJvdEVycm9yID0gJ1NlcnZlciBzZW50IGEgc3VicHJvdG9jb2wgYnV0IG5vbmUgd2FzIHJlcXVlc3RlZCc7XHJcbiAgICAgIH0gZWxzZSBpZiAoIXByb3RvY29sU2V0LmhhcyhzZXJ2ZXJQcm90KSkge1xyXG4gICAgICAgIHByb3RFcnJvciA9ICdTZXJ2ZXIgc2VudCBhbiBpbnZhbGlkIHN1YnByb3RvY29sJztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChwcm90b2NvbFNldC5zaXplKSB7XHJcbiAgICAgIHByb3RFcnJvciA9ICdTZXJ2ZXIgc2VudCBubyBzdWJwcm90b2NvbCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByb3RFcnJvcikge1xyXG4gICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgcHJvdEVycm9yKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZXJ2ZXJQcm90KSB3ZWJzb2NrZXQuX3Byb3RvY29sID0gc2VydmVyUHJvdDtcclxuXHJcbiAgICBjb25zdCBzZWNXZWJTb2NrZXRFeHRlbnNpb25zID0gcmVzLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQtZXh0ZW5zaW9ucyddO1xyXG5cclxuICAgIGlmIChzZWNXZWJTb2NrZXRFeHRlbnNpb25zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKCFwZXJNZXNzYWdlRGVmbGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxyXG4gICAgICAgICAgJ1NlcnZlciBzZW50IGEgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zIGhlYWRlciBidXQgbm8gZXh0ZW5zaW9uICcgK1xyXG4gICAgICAgICAgJ3dhcyByZXF1ZXN0ZWQnO1xyXG4gICAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCBtZXNzYWdlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBleHRlbnNpb25zO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBleHRlbnNpb25zID0gcGFyc2Uoc2VjV2ViU29ja2V0RXh0ZW5zaW9ucyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnSW52YWxpZCBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnMgaGVhZGVyJztcclxuICAgICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgbWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBleHRlbnNpb25OYW1lcyA9IE9iamVjdC5rZXlzKGV4dGVuc2lvbnMpO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV4dGVuc2lvbk5hbWVzLmxlbmd0aCAhPT0gMSB8fFxyXG4gICAgICAgIGV4dGVuc2lvbk5hbWVzWzBdICE9PSBQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnU2VydmVyIGluZGljYXRlZCBhbiBleHRlbnNpb24gdGhhdCB3YXMgbm90IHJlcXVlc3RlZCc7XHJcbiAgICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsIG1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBwZXJNZXNzYWdlRGVmbGF0ZS5hY2NlcHQoZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnSW52YWxpZCBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnMgaGVhZGVyJztcclxuICAgICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgbWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB3ZWJzb2NrZXQuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0gPVxyXG4gICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHdlYnNvY2tldC5zZXRTb2NrZXQoc29ja2V0LCBoZWFkLCB7XHJcbiAgICAgIGdlbmVyYXRlTWFzazogb3B0cy5nZW5lcmF0ZU1hc2ssXHJcbiAgICAgIG1heFBheWxvYWQ6IG9wdHMubWF4UGF5bG9hZCxcclxuICAgICAgc2tpcFVURjhWYWxpZGF0aW9uOiBvcHRzLnNraXBVVEY4VmFsaWRhdGlvblxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGlmIChvcHRzLmZpbmlzaFJlcXVlc3QpIHtcclxuICAgIG9wdHMuZmluaXNoUmVxdWVzdChyZXEsIHdlYnNvY2tldCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcS5lbmQoKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbWl0IHRoZSBgJ2Vycm9yJ2AgYW5kIGAnY2xvc2UnYCBldmVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7V2ViU29ja2V0fSB3ZWJzb2NrZXQgVGhlIFdlYlNvY2tldCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0ge0Vycm9yfSBUaGUgZXJyb3IgdG8gZW1pdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZW1pdEVycm9yQW5kQ2xvc2Uod2Vic29ja2V0LCBlcnIpIHtcclxuICB3ZWJzb2NrZXQuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcclxuICB3ZWJzb2NrZXQuZW1pdCgnZXJyb3InLCBlcnIpO1xyXG4gIHdlYnNvY2tldC5lbWl0Q2xvc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGBuZXQuU29ja2V0YCBhbmQgaW5pdGlhdGUgYSBjb25uZWN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb25uZWN0aW9uIG9wdGlvbnNcclxuICogQHJldHVybiB7bmV0LlNvY2tldH0gVGhlIG5ld2x5IGNyZWF0ZWQgc29ja2V0IHVzZWQgdG8gc3RhcnQgdGhlIGNvbm5lY3Rpb25cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIG5ldENvbm5lY3Qob3B0aW9ucykge1xyXG4gIG9wdGlvbnMucGF0aCA9IG9wdGlvbnMuc29ja2V0UGF0aDtcclxuICByZXR1cm4gbmV0LmNvbm5lY3Qob3B0aW9ucyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBgdGxzLlRMU1NvY2tldGAgYW5kIGluaXRpYXRlIGEgY29ubmVjdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29ubmVjdGlvbiBvcHRpb25zXHJcbiAqIEByZXR1cm4ge3Rscy5UTFNTb2NrZXR9IFRoZSBuZXdseSBjcmVhdGVkIHNvY2tldCB1c2VkIHRvIHN0YXJ0IHRoZSBjb25uZWN0aW9uXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB0bHNDb25uZWN0KG9wdGlvbnMpIHtcclxuICBvcHRpb25zLnBhdGggPSB1bmRlZmluZWQ7XHJcblxyXG4gIGlmICghb3B0aW9ucy5zZXJ2ZXJuYW1lICYmIG9wdGlvbnMuc2VydmVybmFtZSAhPT0gJycpIHtcclxuICAgIG9wdGlvbnMuc2VydmVybmFtZSA9IG5ldC5pc0lQKG9wdGlvbnMuaG9zdCkgPyAnJyA6IG9wdGlvbnMuaG9zdDtcclxuICB9XHJcblxyXG4gIHJldHVybiB0bHMuY29ubmVjdChvcHRpb25zKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFib3J0IHRoZSBoYW5kc2hha2UgYW5kIGVtaXQgYW4gZXJyb3IuXHJcbiAqXHJcbiAqIEBwYXJhbSB7V2ViU29ja2V0fSB3ZWJzb2NrZXQgVGhlIFdlYlNvY2tldCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0geyhodHRwLkNsaWVudFJlcXVlc3R8bmV0LlNvY2tldHx0bHMuU29ja2V0KX0gc3RyZWFtIFRoZSByZXF1ZXN0IHRvXHJcbiAqICAgICBhYm9ydCBvciB0aGUgc29ja2V0IHRvIGRlc3Ryb3lcclxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2VcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc3RyZWFtLCBtZXNzYWdlKSB7XHJcbiAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XHJcblxyXG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnIsIGFib3J0SGFuZHNoYWtlKTtcclxuXHJcbiAgaWYgKHN0cmVhbS5zZXRIZWFkZXIpIHtcclxuICAgIHN0cmVhbVtrQWJvcnRlZF0gPSB0cnVlO1xyXG4gICAgc3RyZWFtLmFib3J0KCk7XHJcblxyXG4gICAgaWYgKHN0cmVhbS5zb2NrZXQgJiYgIXN0cmVhbS5zb2NrZXQuZGVzdHJveWVkKSB7XHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIE9uIE5vZGUuanMgPj0gMTQuMy4wIGByZXF1ZXN0LmFib3J0KClgIGRvZXMgbm90IGRlc3Ryb3kgdGhlIHNvY2tldCBpZlxyXG4gICAgICAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHJlcXVlc3QgY29tcGxldGVkLiBTZWVcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dlYnNvY2tldHMvd3MvaXNzdWVzLzE4NjkuXHJcbiAgICAgIC8vXHJcbiAgICAgIHN0cmVhbS5zb2NrZXQuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdEVycm9yQW5kQ2xvc2UsIHdlYnNvY2tldCwgZXJyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyZWFtLmRlc3Ryb3koZXJyKTtcclxuICAgIHN0cmVhbS5vbmNlKCdlcnJvcicsIHdlYnNvY2tldC5lbWl0LmJpbmQod2Vic29ja2V0LCAnZXJyb3InKSk7XHJcbiAgICBzdHJlYW0ub25jZSgnY2xvc2UnLCB3ZWJzb2NrZXQuZW1pdENsb3NlLmJpbmQod2Vic29ja2V0KSk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogSGFuZGxlIGNhc2VzIHdoZXJlIHRoZSBgcGluZygpYCwgYHBvbmcoKWAsIG9yIGBzZW5kKClgIG1ldGhvZHMgYXJlIGNhbGxlZFxyXG4gKiB3aGVuIHRoZSBgcmVhZHlTdGF0ZWAgYXR0cmlidXRlIGlzIGBDTE9TSU5HYCBvciBgQ0xPU0VEYC5cclxuICpcclxuICogQHBhcmFtIHtXZWJTb2NrZXR9IHdlYnNvY2tldCBUaGUgV2ViU29ja2V0IGluc3RhbmNlXHJcbiAqIEBwYXJhbSB7Kn0gW2RhdGFdIFRoZSBkYXRhIHRvIHNlbmRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gc2VuZEFmdGVyQ2xvc2Uod2Vic29ja2V0LCBkYXRhLCBjYikge1xyXG4gIGlmIChkYXRhKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSB0b0J1ZmZlcihkYXRhKS5sZW5ndGg7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIFRoZSBgX2J1ZmZlcmVkQW1vdW50YCBwcm9wZXJ0eSBpcyB1c2VkIG9ubHkgd2hlbiB0aGUgcGVlciBpcyBhIGNsaWVudCBhbmRcclxuICAgIC8vIHRoZSBvcGVuaW5nIGhhbmRzaGFrZSBmYWlscy4gVW5kZXIgdGhlc2UgY2lyY3Vtc3RhbmNlcywgaW4gZmFjdCwgdGhlXHJcbiAgICAvLyBgc2V0U29ja2V0KClgIG1ldGhvZCBpcyBub3QgY2FsbGVkLCBzbyB0aGUgYF9zb2NrZXRgIGFuZCBgX3NlbmRlcmBcclxuICAgIC8vIHByb3BlcnRpZXMgYXJlIHNldCB0byBgbnVsbGAuXHJcbiAgICAvL1xyXG4gICAgaWYgKHdlYnNvY2tldC5fc29ja2V0KSB3ZWJzb2NrZXQuX3NlbmRlci5fYnVmZmVyZWRCeXRlcyArPSBsZW5ndGg7XHJcbiAgICBlbHNlIHdlYnNvY2tldC5fYnVmZmVyZWRBbW91bnQgKz0gbGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNiKSB7XHJcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXHJcbiAgICAgIGBXZWJTb2NrZXQgaXMgbm90IG9wZW46IHJlYWR5U3RhdGUgJHt3ZWJzb2NrZXQucmVhZHlTdGF0ZX0gYCArXHJcbiAgICAgICAgYCgke3JlYWR5U3RhdGVzW3dlYnNvY2tldC5yZWFkeVN0YXRlXX0pYFxyXG4gICAgKTtcclxuICAgIHByb2Nlc3MubmV4dFRpY2soY2IsIGVycik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnY29uY2x1ZGUnYCBldmVudC5cclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IGNvZGUgVGhlIHN0YXR1cyBjb2RlXHJcbiAqIEBwYXJhbSB7QnVmZmVyfSByZWFzb24gVGhlIHJlYXNvbiBmb3IgY2xvc2luZ1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVjZWl2ZXJPbkNvbmNsdWRlKGNvZGUsIHJlYXNvbikge1xyXG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XHJcblxyXG4gIHdlYnNvY2tldC5fY2xvc2VGcmFtZVJlY2VpdmVkID0gdHJ1ZTtcclxuICB3ZWJzb2NrZXQuX2Nsb3NlTWVzc2FnZSA9IHJlYXNvbjtcclxuICB3ZWJzb2NrZXQuX2Nsb3NlQ29kZSA9IGNvZGU7XHJcblxyXG4gIGlmICh3ZWJzb2NrZXQuX3NvY2tldFtrV2ViU29ja2V0XSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcblxyXG4gIHdlYnNvY2tldC5fc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgc29ja2V0T25EYXRhKTtcclxuICBwcm9jZXNzLm5leHRUaWNrKHJlc3VtZSwgd2Vic29ja2V0Ll9zb2NrZXQpO1xyXG5cclxuICBpZiAoY29kZSA9PT0gMTAwNSkgd2Vic29ja2V0LmNsb3NlKCk7XHJcbiAgZWxzZSB3ZWJzb2NrZXQuY2xvc2UoY29kZSwgcmVhc29uKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ2RyYWluJ2AgZXZlbnQuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZWNlaXZlck9uRHJhaW4oKSB7XHJcbiAgY29uc3Qgd2Vic29ja2V0ID0gdGhpc1trV2ViU29ja2V0XTtcclxuXHJcbiAgaWYgKCF3ZWJzb2NrZXQuaXNQYXVzZWQpIHdlYnNvY2tldC5fc29ja2V0LnJlc3VtZSgpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnZXJyb3InYCBldmVudC5cclxuICpcclxuICogQHBhcmFtIHsoUmFuZ2VFcnJvcnxFcnJvcil9IGVyciBUaGUgZW1pdHRlZCBlcnJvclxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVjZWl2ZXJPbkVycm9yKGVycikge1xyXG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XHJcblxyXG4gIGlmICh3ZWJzb2NrZXQuX3NvY2tldFtrV2ViU29ja2V0XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICB3ZWJzb2NrZXQuX3NvY2tldC5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHNvY2tldE9uRGF0YSk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIE9uIE5vZGUuanMgPCAxNC4wLjAgdGhlIGAnZXJyb3InYCBldmVudCBpcyBlbWl0dGVkIHN5bmNocm9ub3VzbHkuIFNlZVxyXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dlYnNvY2tldHMvd3MvaXNzdWVzLzE5NDAuXHJcbiAgICAvL1xyXG4gICAgcHJvY2Vzcy5uZXh0VGljayhyZXN1bWUsIHdlYnNvY2tldC5fc29ja2V0KTtcclxuXHJcbiAgICB3ZWJzb2NrZXQuY2xvc2UoZXJyW2tTdGF0dXNDb2RlXSk7XHJcbiAgfVxyXG5cclxuICB3ZWJzb2NrZXQuZW1pdCgnZXJyb3InLCBlcnIpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnZmluaXNoJ2AgZXZlbnQuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZWNlaXZlck9uRmluaXNoKCkge1xyXG4gIHRoaXNba1dlYlNvY2tldF0uZW1pdENsb3NlKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdtZXNzYWdlJ2AgZXZlbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QnVmZmVyfEFycmF5QnVmZmVyfEJ1ZmZlcltdKX0gZGF0YSBUaGUgbWVzc2FnZVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmluYXJ5IFNwZWNpZmllcyB3aGV0aGVyIHRoZSBtZXNzYWdlIGlzIGJpbmFyeSBvciBub3RcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlY2VpdmVyT25NZXNzYWdlKGRhdGEsIGlzQmluYXJ5KSB7XHJcbiAgdGhpc1trV2ViU29ja2V0XS5lbWl0KCdtZXNzYWdlJywgZGF0YSwgaXNCaW5hcnkpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAncGluZydgIGV2ZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgZGF0YSBpbmNsdWRlZCBpbiB0aGUgcGluZyBmcmFtZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVjZWl2ZXJPblBpbmcoZGF0YSkge1xyXG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XHJcblxyXG4gIHdlYnNvY2tldC5wb25nKGRhdGEsICF3ZWJzb2NrZXQuX2lzU2VydmVyLCBOT09QKTtcclxuICB3ZWJzb2NrZXQuZW1pdCgncGluZycsIGRhdGEpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAncG9uZydgIGV2ZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgZGF0YSBpbmNsdWRlZCBpbiB0aGUgcG9uZyBmcmFtZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVjZWl2ZXJPblBvbmcoZGF0YSkge1xyXG4gIHRoaXNba1dlYlNvY2tldF0uZW1pdCgncG9uZycsIGRhdGEpO1xyXG59XHJcblxyXG4vKipcclxuICogUmVzdW1lIGEgcmVhZGFibGUgc3RyZWFtXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZGFibGV9IHN0cmVhbSBUaGUgcmVhZGFibGUgc3RyZWFtXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXN1bWUoc3RyZWFtKSB7XHJcbiAgc3RyZWFtLnJlc3VtZSgpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBzb2NrZXQgYCdjbG9zZSdgIGV2ZW50LlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gc29ja2V0T25DbG9zZSgpIHtcclxuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xyXG5cclxuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIHNvY2tldE9uQ2xvc2UpO1xyXG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBzb2NrZXRPbkRhdGEpO1xyXG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIHNvY2tldE9uRW5kKTtcclxuXHJcbiAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XHJcblxyXG4gIGxldCBjaHVuaztcclxuXHJcbiAgLy9cclxuICAvLyBUaGUgY2xvc2UgZnJhbWUgbWlnaHQgbm90IGhhdmUgYmVlbiByZWNlaXZlZCBvciB0aGUgYCdlbmQnYCBldmVudCBlbWl0dGVkLFxyXG4gIC8vIGZvciBleGFtcGxlLCBpZiB0aGUgc29ja2V0IHdhcyBkZXN0cm95ZWQgZHVlIHRvIGFuIGVycm9yLiBFbnN1cmUgdGhhdCB0aGVcclxuICAvLyBgcmVjZWl2ZXJgIHN0cmVhbSBpcyBjbG9zZWQgYWZ0ZXIgd3JpdGluZyBhbnkgcmVtYWluaW5nIGJ1ZmZlcmVkIGRhdGEgdG9cclxuICAvLyBpdC4gSWYgdGhlIHJlYWRhYmxlIHNpZGUgb2YgdGhlIHNvY2tldCBpcyBpbiBmbG93aW5nIG1vZGUgdGhlbiB0aGVyZSBpcyBub1xyXG4gIC8vIGJ1ZmZlcmVkIGRhdGEgYXMgZXZlcnl0aGluZyBoYXMgYmVlbiBhbHJlYWR5IHdyaXR0ZW4gYW5kIGByZWFkYWJsZS5yZWFkKClgXHJcbiAgLy8gd2lsbCByZXR1cm4gYG51bGxgLiBJZiBpbnN0ZWFkLCB0aGUgc29ja2V0IGlzIHBhdXNlZCwgYW55IHBvc3NpYmxlIGJ1ZmZlcmVkXHJcbiAgLy8gZGF0YSB3aWxsIGJlIHJlYWQgYXMgYSBzaW5nbGUgY2h1bmsuXHJcbiAgLy9cclxuICBpZiAoXHJcbiAgICAhdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkICYmXHJcbiAgICAhd2Vic29ja2V0Ll9jbG9zZUZyYW1lUmVjZWl2ZWQgJiZcclxuICAgICF3ZWJzb2NrZXQuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCAmJlxyXG4gICAgKGNodW5rID0gd2Vic29ja2V0Ll9zb2NrZXQucmVhZCgpKSAhPT0gbnVsbFxyXG4gICkge1xyXG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci53cml0ZShjaHVuayk7XHJcbiAgfVxyXG5cclxuICB3ZWJzb2NrZXQuX3JlY2VpdmVyLmVuZCgpO1xyXG5cclxuICB0aGlzW2tXZWJTb2NrZXRdID0gdW5kZWZpbmVkO1xyXG5cclxuICBjbGVhclRpbWVvdXQod2Vic29ja2V0Ll9jbG9zZVRpbWVyKTtcclxuXHJcbiAgaWYgKFxyXG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCB8fFxyXG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWRcclxuICApIHtcclxuICAgIHdlYnNvY2tldC5lbWl0Q2xvc2UoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci5vbignZXJyb3InLCByZWNlaXZlck9uRmluaXNoKTtcclxuICAgIHdlYnNvY2tldC5fcmVjZWl2ZXIub24oJ2ZpbmlzaCcsIHJlY2VpdmVyT25GaW5pc2gpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgc29ja2V0IGAnZGF0YSdgIGV2ZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmsgQSBjaHVuayBvZiBkYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBzb2NrZXRPbkRhdGEoY2h1bmspIHtcclxuICBpZiAoIXRoaXNba1dlYlNvY2tldF0uX3JlY2VpdmVyLndyaXRlKGNodW5rKSkge1xyXG4gICAgdGhpcy5wYXVzZSgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgc29ja2V0IGAnZW5kJ2AgZXZlbnQuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBzb2NrZXRPbkVuZCgpIHtcclxuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xyXG5cclxuICB3ZWJzb2NrZXQuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcclxuICB3ZWJzb2NrZXQuX3JlY2VpdmVyLmVuZCgpO1xyXG4gIHRoaXMuZW5kKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIHNvY2tldCBgJ2Vycm9yJ2AgZXZlbnQuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBzb2NrZXRPbkVycm9yKCkge1xyXG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XHJcblxyXG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgc29ja2V0T25FcnJvcik7XHJcbiAgdGhpcy5vbignZXJyb3InLCBOT09QKTtcclxuXHJcbiAgaWYgKHdlYnNvY2tldCkge1xyXG4gICAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XHJcbiAgICB0aGlzLmRlc3Ryb3koKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@neondatabase/serverless/index.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@neondatabase/serverless/index.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* binding */ xn),\n/* harmony export */   ClientBase: () => (/* binding */ export_ClientBase),\n/* harmony export */   Connection: () => (/* binding */ export_Connection),\n/* harmony export */   DatabaseError: () => (/* binding */ export_DatabaseError),\n/* harmony export */   NeonDbError: () => (/* binding */ Ae),\n/* harmony export */   Pool: () => (/* binding */ Zs),\n/* harmony export */   Query: () => (/* binding */ export_Query),\n/* harmony export */   defaults: () => (/* binding */ export_defaults),\n/* harmony export */   neon: () => (/* binding */ Ys),\n/* harmony export */   neonConfig: () => (/* binding */ _e),\n/* harmony export */   types: () => (/* binding */ export_types)\n/* harmony export */ });\nvar Xs=Object.create;var Ie=Object.defineProperty;var eo=Object.getOwnPropertyDescriptor;var to=Object.getOwnPropertyNames;var ro=Object.getPrototypeOf,no=Object.prototype.hasOwnProperty;var io=(r,e,t)=>e in r?Ie(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):\r\nr[e]=t;var a=(r,e)=>Ie(r,\"name\",{value:e,configurable:!0});var K=(r,e)=>()=>(r&&(e=r(r=0)),e);var I=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),X=(r,e)=>{for(var t in e)\r\nIe(r,t,{get:e[t],enumerable:!0})},_n=(r,e,t,n)=>{if(e&&typeof e==\"object\"||typeof e==\r\n\"function\")for(let i of to(e))!no.call(r,i)&&i!==t&&Ie(r,i,{get:()=>e[i],enumerable:!(n=\r\neo(e,i))||n.enumerable});return r};var We=(r,e,t)=>(t=r!=null?Xs(ro(r)):{},_n(e||!r||!r.__esModule?Ie(t,\"default\",{\r\nvalue:r,enumerable:!0}):t,r)),k=r=>_n(Ie({},\"__esModule\",{value:!0}),r);var T=(r,e,t)=>(io(r,typeof e!=\"symbol\"?e+\"\":e,t),t);var In=I(it=>{\"use strict\";p();it.byteLength=oo;it.toByteArray=uo;it.fromByteArray=\r\nlo;var oe=[],ee=[],so=typeof Uint8Array<\"u\"?Uint8Array:Array,It=\"ABCDEFGHIJKLMNO\\\r\nPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(Ee=0,An=It.length;Ee<An;++Ee)\r\noe[Ee]=It[Ee],ee[It.charCodeAt(Ee)]=Ee;var Ee,An;ee[45]=62;ee[95]=63;function Cn(r){\r\nvar e=r.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multip\\\r\nle of 4\");var t=r.indexOf(\"=\");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}a(Cn,\r\n\"getLens\");function oo(r){var e=Cn(r),t=e[0],n=e[1];return(t+n)*3/4-n}a(oo,\"byte\\\r\nLength\");function ao(r,e,t){return(e+t)*3/4-t}a(ao,\"_byteLength\");function uo(r){\r\nvar e,t=Cn(r),n=t[0],i=t[1],s=new so(ao(r,n,i)),o=0,u=i>0?n-4:n,c;for(c=0;c<u;c+=\r\n4)e=ee[r.charCodeAt(c)]<<18|ee[r.charCodeAt(c+1)]<<12|ee[r.charCodeAt(c+2)]<<6|ee[r.\r\ncharCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=\r\nee[r.charCodeAt(c)]<<2|ee[r.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=ee[r.charCodeAt(\r\nc)]<<10|ee[r.charCodeAt(c+1)]<<4|ee[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=\r\ne&255),s}a(uo,\"toByteArray\");function co(r){return oe[r>>18&63]+oe[r>>12&63]+oe[r>>\r\n6&63]+oe[r&63]}a(co,\"tripletToBase64\");function ho(r,e,t){for(var n,i=[],s=e;s<t;s+=\r\n3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(co(n));return i.join(\r\n\"\")}a(ho,\"encodeChunk\");function lo(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,\r\nu=t-n;o<u;o+=s)i.push(ho(r,o,o+s>u?u:o+s));return n===1?(e=r[t-1],i.push(oe[e>>2]+\r\noe[e<<4&63]+\"==\")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(oe[e>>10]+oe[e>>4&63]+oe[e<<\r\n2&63]+\"=\")),i.join(\"\")}a(lo,\"fromByteArray\")});var Tn=I(Tt=>{p();Tt.read=function(r,e,t,n,i){var s,o,u=i*8-n-1,c=(1<<u)-1,h=c>>\r\n1,l=-7,y=t?i-1:0,E=t?-1:1,_=r[e+y];for(y+=E,s=_&(1<<-l)-1,_>>=-l,l+=u;l>0;s=s*256+\r\nr[e+y],y+=E,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+r[e+y],y+=E,l-=8);if(s===\r\n0)s=1-h;else{if(s===c)return o?NaN:(_?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(_?\r\n-1:1)*o*Math.pow(2,s-n)};Tt.write=function(r,e,t,n,i,s){var o,u,c,h=s*8-i-1,l=(1<<\r\nh)-1,y=l>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:s-1,P=n?1:-1,N=e<0||\r\ne===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=l):(o=Math.\r\nfloor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?e+=E/c:e+=\r\nE*Math.pow(2,1-y),e*c>=2&&(o++,c/=2),o+y>=l?(u=0,o=l):o+y>=1?(u=(e*c-1)*Math.pow(\r\n2,i),o=o+y):(u=e*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;r[t+_]=u&255,_+=P,u/=256,\r\ni-=8);for(o=o<<i|u,h+=i;h>0;r[t+_]=o&255,_+=P,o/=256,h-=8);r[t+_-P]|=N*128}});var Gn=I(Le=>{\"use strict\";p();var Pt=In(),Pe=Tn(),Pn=typeof Symbol==\"function\"&&\r\ntypeof Symbol.for==\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;Le.Buffer=\r\nf;Le.SlowBuffer=wo;Le.INSPECT_MAX_BYTES=50;var st=2147483647;Le.kMaxLength=st;f.\r\nTYPED_ARRAY_SUPPORT=fo();!f.TYPED_ARRAY_SUPPORT&&typeof console<\"u\"&&typeof console.\r\nerror==\"function\"&&console.error(\"This browser lacks typed array (Uint8Array) su\\\r\npport which is required by `buffer` v5.x. Use `buffer` v4.x if you require old b\\\r\nrowser support.\");function fo(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};\r\nreturn Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),\r\nr.foo()===42}catch{return!1}}a(fo,\"typedArraySupport\");Object.defineProperty(f.prototype,\r\n\"parent\",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}});\r\nObject.defineProperty(f.prototype,\"offset\",{enumerable:!0,get:function(){if(f.isBuffer(\r\nthis))return this.byteOffset}});function le(r){if(r>st)throw new RangeError('The\\\r\n value \"'+r+'\" is invalid for option \"size\"');let e=new Uint8Array(r);return Object.\r\nsetPrototypeOf(e,f.prototype),e}a(le,\"createBuffer\");function f(r,e,t){if(typeof r==\r\n\"number\"){if(typeof e==\"string\")throw new TypeError('The \"string\" argument must \\\r\nbe of type string. Received type number');return Ft(r)}return Fn(r,e,t)}a(f,\"Buf\\\r\nfer\");f.poolSize=8192;function Fn(r,e,t){if(typeof r==\"string\")return yo(r,e);if(ArrayBuffer.\r\nisView(r))return mo(r);if(r==null)throw new TypeError(\"The first argument must b\\\r\ne one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received\\\r\n type \"+typeof r);if(ae(r,ArrayBuffer)||r&&ae(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<\r\n\"u\"&&(ae(r,SharedArrayBuffer)||r&&ae(r.buffer,SharedArrayBuffer)))return Lt(r,e,\r\nt);if(typeof r==\"number\")throw new TypeError('The \"value\" argument must not be o\\\r\nf type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==\r\nr)return f.from(n,e,t);let i=go(r);if(i)return i;if(typeof Symbol<\"u\"&&Symbol.toPrimitive!=\r\nnull&&typeof r[Symbol.toPrimitive]==\"function\")return f.from(r[Symbol.toPrimitive](\r\n\"string\"),e,t);throw new TypeError(\"The first argument must be one of type strin\\\r\ng, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof r)}a(\r\nFn,\"from\");f.from=function(r,e,t){return Fn(r,e,t)};Object.setPrototypeOf(f.prototype,\r\nUint8Array.prototype);Object.setPrototypeOf(f,Uint8Array);function Mn(r){if(typeof r!=\r\n\"number\")throw new TypeError('\"size\" argument must be of type number');if(r<0)throw new RangeError(\r\n'The value \"'+r+'\" is invalid for option \"size\"')}a(Mn,\"assertSize\");function po(r,e,t){\r\nreturn Mn(r),r<=0?le(r):e!==void 0?typeof t==\"string\"?le(r).fill(e,t):le(r).fill(\r\ne):le(r)}a(po,\"alloc\");f.alloc=function(r,e,t){return po(r,e,t)};function Ft(r){\r\nreturn Mn(r),le(r<0?0:Mt(r)|0)}a(Ft,\"allocUnsafe\");f.allocUnsafe=function(r){return Ft(\r\nr)};f.allocUnsafeSlow=function(r){return Ft(r)};function yo(r,e){if((typeof e!=\"\\\r\nstring\"||e===\"\")&&(e=\"utf8\"),!f.isEncoding(e))throw new TypeError(\"Unknown encod\\\r\ning: \"+e);let t=Dn(r,e)|0,n=le(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),\r\nn}a(yo,\"fromString\");function Bt(r){let e=r.length<0?0:Mt(r.length)|0,t=le(e);for(let n=0;n<\r\ne;n+=1)t[n]=r[n]&255;return t}a(Bt,\"fromArrayLike\");function mo(r){if(ae(r,Uint8Array)){\r\nlet e=new Uint8Array(r);return Lt(e.buffer,e.byteOffset,e.byteLength)}return Bt(\r\nr)}a(mo,\"fromArrayView\");function Lt(r,e,t){if(e<0||r.byteLength<e)throw new RangeError(\r\n'\"offset\" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError(\r\n'\"length\" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(\r\nr):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(\r\nn,f.prototype),n}a(Lt,\"fromArrayBuffer\");function go(r){if(f.isBuffer(r)){let e=Mt(\r\nr.length)|0,t=le(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)\r\nreturn typeof r.length!=\"number\"||Ot(r.length)?le(0):Bt(r);if(r.type===\"Buffer\"&&\r\nArray.isArray(r.data))return Bt(r.data)}a(go,\"fromObject\");function Mt(r){if(r>=\r\nst)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+\r\nst.toString(16)+\" bytes\");return r|0}a(Mt,\"checked\");function wo(r){return+r!=r&&\r\n(r=0),f.alloc(+r)}a(wo,\"SlowBuffer\");f.isBuffer=a(function(e){return e!=null&&e.\r\n_isBuffer===!0&&e!==f.prototype},\"isBuffer\");f.compare=a(function(e,t){if(ae(e,Uint8Array)&&\r\n(e=f.from(e,e.offset,e.byteLength)),ae(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),\r\n!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments\\\r\n must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.\r\nlength;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<\r\ni?-1:i<n?1:0},\"compare\");f.isEncoding=a(function(e){switch(String(e).toLowerCase()){case\"\\\r\nhex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"\\\r\nucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},\"isEn\\\r\ncoding\");f.concat=a(function(e,t){if(!Array.isArray(e))throw new TypeError('\"lis\\\r\nt\" argument must be an Array of Buffers');if(e.length===0)return f.alloc(0);let n;\r\nif(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=f.allocUnsafe(t),s=0;\r\nfor(n=0;n<e.length;++n){let o=e[n];if(ae(o,Uint8Array))s+o.length>i.length?(f.isBuffer(\r\no)||(o=f.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(f.isBuffer(\r\no))o.copy(i,s);else throw new TypeError('\"list\" argument must be an Array of Buf\\\r\nfers');s+=o.length}return i},\"concat\");function Dn(r,e){if(f.isBuffer(r))return r.\r\nlength;if(ArrayBuffer.isView(r)||ae(r,ArrayBuffer))return r.byteLength;if(typeof r!=\r\n\"string\")throw new TypeError('The \"string\" argument must be one of type string, \\\r\nBuffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>\r\n2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case\"ascii\":case\"\\\r\nlatin1\":case\"binary\":return t;case\"utf8\":case\"utf-8\":return Rt(r).length;case\"uc\\\r\ns2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return t*2;case\"hex\":return t>>>1;case\"\\\r\nbase64\":return Hn(r).length;default:if(i)return n?-1:Rt(r).length;e=(\"\"+e).toLowerCase(),\r\ni=!0}}a(Dn,\"byteLength\");f.byteLength=Dn;function bo(r,e,t){let n=!1;if((e===void 0||\r\ne<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||\r\n(t>>>=0,e>>>=0,t<=e))return\"\";for(r||(r=\"utf8\");;)switch(r){case\"hex\":return Po(\r\nthis,e,t);case\"utf8\":case\"utf-8\":return kn(this,e,t);case\"ascii\":return Io(this,\r\ne,t);case\"latin1\":case\"binary\":return To(this,e,t);case\"base64\":return Ao(this,e,\r\nt);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return Bo(this,e,t);default:\r\nif(n)throw new TypeError(\"Unknown encoding: \"+r);r=(r+\"\").toLowerCase(),n=!0}}a(\r\nbo,\"slowToString\");f.prototype._isBuffer=!0;function ve(r,e,t){let n=r[e];r[e]=r[t],\r\nr[t]=n}a(ve,\"swap\");f.prototype.swap16=a(function(){let e=this.length;if(e%2!==0)\r\nthrow new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let t=0;t<\r\ne;t+=2)ve(this,t,t+1);return this},\"swap16\");f.prototype.swap32=a(function(){let e=this.\r\nlength;if(e%4!==0)throw new RangeError(\"Buffer size must be a multiple of 32-bit\\\r\ns\");for(let t=0;t<e;t+=4)ve(this,t,t+3),ve(this,t+1,t+2);return this},\"swap32\");\r\nf.prototype.swap64=a(function(){let e=this.length;if(e%8!==0)throw new RangeError(\r\n\"Buffer size must be a multiple of 64-bits\");for(let t=0;t<e;t+=8)ve(this,t,t+7),\r\nve(this,t+1,t+6),ve(this,t+2,t+5),ve(this,t+3,t+4);return this},\"swap64\");f.prototype.\r\ntoString=a(function(){let e=this.length;return e===0?\"\":arguments.length===0?kn(\r\nthis,0,e):bo.apply(this,arguments)},\"toString\");f.prototype.toLocaleString=f.prototype.\r\ntoString;f.prototype.equals=a(function(e){if(!f.isBuffer(e))throw new TypeError(\r\n\"Argument must be a Buffer\");return this===e?!0:f.compare(this,e)===0},\"equals\");\r\nf.prototype.inspect=a(function(){let e=\"\",t=Le.INSPECT_MAX_BYTES;return e=this.toString(\r\n\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim(),this.length>t&&(e+=\" ... \"),\"<Buffer \"+\r\ne+\">\"},\"inspect\");Pn&&(f.prototype[Pn]=f.prototype.inspect);f.prototype.compare=\r\na(function(e,t,n,i,s){if(ae(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.\r\nisBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffe\\\r\nr or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?\r\ne.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||n>e.length||i<0||\r\ns>this.length)throw new RangeError(\"out of range index\");if(i>=s&&t>=n)return 0;\r\nif(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;\r\nlet o=s-i,u=n-t,c=Math.min(o,u),h=this.slice(i,s),l=e.slice(t,n);for(let y=0;y<c;++y)\r\nif(h[y]!==l[y]){o=h[y],u=l[y];break}return o<u?-1:u<o?1:0},\"compare\");function On(r,e,t,n,i){\r\nif(r.length===0)return-1;if(typeof t==\"string\"?(n=t,t=0):t>2147483647?t=2147483647:\r\nt<-2147483648&&(t=-2147483648),t=+t,Ot(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),\r\nt>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e==\r\n\"string\"&&(e=f.from(e,n)),f.isBuffer(e))return e.length===0?-1:Bn(r,e,t,n,i);if(typeof e==\r\n\"number\")return e=e&255,typeof Uint8Array.prototype.indexOf==\"function\"?i?Uint8Array.\r\nprototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Bn(r,\r\n[e],t,n,i);throw new TypeError(\"val must be string, number or Buffer\")}a(On,\"bid\\\r\nirectionalIndexOf\");function Bn(r,e,t,n,i){let s=1,o=r.length,u=e.length;if(n!==\r\nvoid 0&&(n=String(n).toLowerCase(),n===\"ucs2\"||n===\"ucs-2\"||n===\"utf16le\"||n===\"\\\r\nutf-16le\")){if(r.length<2||e.length<2)return-1;s=2,o/=2,u/=2,t/=2}function c(l,y){\r\nreturn s===1?l[y]:l.readUInt16BE(y*s)}a(c,\"read\");let h;if(i){let l=-1;for(h=t;h<\r\no;h++)if(c(r,h)===c(e,l===-1?0:h-l)){if(l===-1&&(l=h),h-l+1===u)return l*s}else l!==\r\n-1&&(h-=h-l),l=-1}else for(t+u>o&&(t=o-u),h=t;h>=0;h--){let l=!0;for(let y=0;y<u;y++)\r\nif(c(r,h+y)!==c(e,y)){l=!1;break}if(l)return h}return-1}a(Bn,\"arrayIndexOf\");f.prototype.\r\nincludes=a(function(e,t,n){return this.indexOf(e,t,n)!==-1},\"includes\");f.prototype.\r\nindexOf=a(function(e,t,n){return On(this,e,t,n,!0)},\"indexOf\");f.prototype.lastIndexOf=\r\na(function(e,t,n){return On(this,e,t,n,!1)},\"lastIndexOf\");function So(r,e,t,n){\r\nt=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>\r\ns/2&&(n=s/2);let o;for(o=0;o<n;++o){let u=parseInt(e.substr(o*2,2),16);if(Ot(u))\r\nreturn o;r[t+o]=u}return o}a(So,\"hexWrite\");function xo(r,e,t,n){return ot(Rt(e,\r\nr.length-t),r,t,n)}a(xo,\"utf8Write\");function Eo(r,e,t,n){return ot(Mo(e),r,t,n)}\r\na(Eo,\"asciiWrite\");function vo(r,e,t,n){return ot(Hn(e),r,t,n)}a(vo,\"base64Write\");\r\nfunction _o(r,e,t,n){return ot(Do(e,r.length-t),r,t,n)}a(_o,\"ucs2Write\");f.prototype.\r\nwrite=a(function(e,t,n,i){if(t===void 0)i=\"utf8\",n=this.length,t=0;else if(n===void 0&&\r\ntypeof t==\"string\")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?\r\n(n=n>>>0,i===void 0&&(i=\"utf8\")):(i=n,n=void 0);else throw new Error(\"Buffer.wri\\\r\nte(string, encoding, offset[, length]) is no longer supported\");let s=this.length-\r\nt;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\r\n\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");let o=!1;for(;;)switch(i){case\"\\\r\nhex\":return So(this,e,t,n);case\"utf8\":case\"utf-8\":return xo(this,e,t,n);case\"asc\\\r\nii\":case\"latin1\":case\"binary\":return Eo(this,e,t,n);case\"base64\":return vo(this,\r\ne,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return _o(this,e,t,n);default:\r\nif(o)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),o=!0}},\"\\\r\nwrite\");f.prototype.toJSON=a(function(){return{type:\"Buffer\",data:Array.prototype.\r\nslice.call(this._arr||this,0)}},\"toJSON\");function Ao(r,e,t){return e===0&&t===r.\r\nlength?Pt.fromByteArray(r):Pt.fromByteArray(r.slice(e,t))}a(Ao,\"base64Slice\");function kn(r,e,t){\r\nt=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let s=r[i],o=null,u=s>239?4:s>223?\r\n3:s>191?2:1;if(i+u<=t){let c,h,l,y;switch(u){case 1:s<128&&(o=s);break;case 2:c=\r\nr[i+1],(c&192)===128&&(y=(s&31)<<6|c&63,y>127&&(o=y));break;case 3:c=r[i+1],h=r[i+\r\n2],(c&192)===128&&(h&192)===128&&(y=(s&15)<<12|(c&63)<<6|h&63,y>2047&&(y<55296||\r\ny>57343)&&(o=y));break;case 4:c=r[i+1],h=r[i+2],l=r[i+3],(c&192)===128&&(h&192)===\r\n128&&(l&192)===128&&(y=(s&15)<<18|(c&63)<<12|(h&63)<<6|l&63,y>65535&&y<1114112&&\r\n(o=y))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|\r\no&1023),n.push(o),i+=u}return Co(n)}a(kn,\"utf8Slice\");var Ln=4096;function Co(r){\r\nlet e=r.length;if(e<=Ln)return String.fromCharCode.apply(String,r);let t=\"\",n=0;\r\nfor(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Ln));return t}a(Co,\"d\\\r\necodeCodePointsArray\");function Io(r,e,t){let n=\"\";t=Math.min(r.length,t);for(let i=e;i<\r\nt;++i)n+=String.fromCharCode(r[i]&127);return n}a(Io,\"asciiSlice\");function To(r,e,t){\r\nlet n=\"\";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);\r\nreturn n}a(To,\"latin1Slice\");function Po(r,e,t){let n=r.length;(!e||e<0)&&(e=0),\r\n(!t||t<0||t>n)&&(t=n);let i=\"\";for(let s=e;s<t;++s)i+=Oo[r[s]];return i}a(Po,\"he\\\r\nxSlice\");function Bo(r,e,t){let n=r.slice(e,t),i=\"\";for(let s=0;s<n.length-1;s+=\r\n2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}a(Bo,\"utf16leSlice\");f.prototype.\r\nslice=a(function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&\r\n(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(\r\ne,t);return Object.setPrototypeOf(i,f.prototype),i},\"slice\");function U(r,e,t){if(r%\r\n1!==0||r<0)throw new RangeError(\"offset is not uint\");if(r+e>t)throw new RangeError(\r\n\"Trying to access beyond buffer length\")}a(U,\"checkOffset\");f.prototype.readUintLE=\r\nf.prototype.readUIntLE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||U(e,t,this.length);let i=this[e],\r\ns=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i},\"readUIntLE\");f.prototype.\r\nreadUintBE=f.prototype.readUIntBE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||U(e,t,this.\r\nlength);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i},\"re\\\r\nadUIntBE\");f.prototype.readUint8=f.prototype.readUInt8=a(function(e,t){return e=\r\ne>>>0,t||U(e,1,this.length),this[e]},\"readUInt8\");f.prototype.readUint16LE=f.prototype.\r\nreadUInt16LE=a(function(e,t){return e=e>>>0,t||U(e,2,this.length),this[e]|this[e+\r\n1]<<8},\"readUInt16LE\");f.prototype.readUint16BE=f.prototype.readUInt16BE=a(function(e,t){\r\nreturn e=e>>>0,t||U(e,2,this.length),this[e]<<8|this[e+1]},\"readUInt16BE\");f.prototype.\r\nreadUint32LE=f.prototype.readUInt32LE=a(function(e,t){return e=e>>>0,t||U(e,4,this.\r\nlength),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},\"readUInt32LE\");\r\nf.prototype.readUint32BE=f.prototype.readUInt32BE=a(function(e,t){return e=e>>>0,\r\nt||U(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},\"\\\r\nreadUInt32BE\");f.prototype.readBigUInt64LE=me(a(function(e){e=e>>>0,Be(e,\"offset\");\r\nlet t=this[e],n=this[e+7];(t===void 0||n===void 0)&&je(e,this.length-8);let i=t+\r\nthis[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*\r\n2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))},\"readBigUInt64LE\"));f.prototype.\r\nreadBigUInt64BE=me(a(function(e){e=e>>>0,Be(e,\"offset\");let t=this[e],n=this[e+7];\r\n(t===void 0||n===void 0)&&je(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*\r\n2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(\r\ni)<<BigInt(32))+BigInt(s)},\"readBigUInt64BE\"));f.prototype.readIntLE=a(function(e,t,n){\r\ne=e>>>0,t=t>>>0,n||U(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)\r\ni+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},\"readIntLE\");f.prototype.\r\nreadIntBE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||U(e,t,this.length);let i=t,s=1,o=this[e+\r\n--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),\r\no},\"readIntBE\");f.prototype.readInt8=a(function(e,t){return e=e>>>0,t||U(e,1,this.\r\nlength),this[e]&128?(255-this[e]+1)*-1:this[e]},\"readInt8\");f.prototype.readInt16LE=\r\na(function(e,t){e=e>>>0,t||U(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&\r\n32768?n|4294901760:n},\"readInt16LE\");f.prototype.readInt16BE=a(function(e,t){e=e>>>\r\n0,t||U(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},\r\n\"readInt16BE\");f.prototype.readInt32LE=a(function(e,t){return e=e>>>0,t||U(e,4,this.\r\nlength),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},\"readInt32LE\");f.prototype.\r\nreadInt32BE=a(function(e,t){return e=e>>>0,t||U(e,4,this.length),this[e]<<24|this[e+\r\n1]<<16|this[e+2]<<8|this[e+3]},\"readInt32BE\");f.prototype.readBigInt64LE=me(a(function(e){\r\ne=e>>>0,Be(e,\"offset\");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&je(e,\r\nthis.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(\r\ni)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)},\"readB\\\r\nigInt64LE\"));f.prototype.readBigInt64BE=me(a(function(e){e=e>>>0,Be(e,\"offset\");\r\nlet t=this[e],n=this[e+7];(t===void 0||n===void 0)&&je(e,this.length-8);let i=(t<<\r\n24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(\r\nthis[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)},\"readBigInt64BE\"));f.prototype.\r\nreadFloatLE=a(function(e,t){return e=e>>>0,t||U(e,4,this.length),Pe.read(this,e,\r\n!0,23,4)},\"readFloatLE\");f.prototype.readFloatBE=a(function(e,t){return e=e>>>0,\r\nt||U(e,4,this.length),Pe.read(this,e,!1,23,4)},\"readFloatBE\");f.prototype.readDoubleLE=\r\na(function(e,t){return e=e>>>0,t||U(e,8,this.length),Pe.read(this,e,!0,52,8)},\"r\\\r\neadDoubleLE\");f.prototype.readDoubleBE=a(function(e,t){return e=e>>>0,t||U(e,8,this.\r\nlength),Pe.read(this,e,!1,52,8)},\"readDoubleBE\");function z(r,e,t,n,i,s){if(!f.isBuffer(\r\nr))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<\r\ns)throw new RangeError('\"value\" argument is out of bounds');if(t+n>r.length)throw new RangeError(\r\n\"Index out of range\")}a(z,\"checkInt\");f.prototype.writeUintLE=f.prototype.writeUIntLE=\r\na(function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;z(this,e,\r\nt,n,u,0)}let s=1,o=0;for(this[t]=e&255;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+\r\nn},\"writeUIntLE\");f.prototype.writeUintBE=f.prototype.writeUIntBE=a(function(e,t,n,i){\r\nif(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;z(this,e,t,n,u,0)}let s=n-1,\r\no=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n},\"writeUI\\\r\nntBE\");f.prototype.writeUint8=f.prototype.writeUInt8=a(function(e,t,n){return e=\r\n+e,t=t>>>0,n||z(this,e,t,1,255,0),this[t]=e&255,t+1},\"writeUInt8\");f.prototype.writeUint16LE=\r\nf.prototype.writeUInt16LE=a(function(e,t,n){return e=+e,t=t>>>0,n||z(this,e,t,2,\r\n65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},\"writeUInt16LE\");f.prototype.writeUint16BE=\r\nf.prototype.writeUInt16BE=a(function(e,t,n){return e=+e,t=t>>>0,n||z(this,e,t,2,\r\n65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},\"writeUInt16BE\");f.prototype.writeUint32LE=\r\nf.prototype.writeUInt32LE=a(function(e,t,n){return e=+e,t=t>>>0,n||z(this,e,t,4,\r\n4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+\r\n4},\"writeUInt32LE\");f.prototype.writeUint32BE=f.prototype.writeUInt32BE=a(function(e,t,n){\r\nreturn e=+e,t=t>>>0,n||z(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,\r\nthis[t+2]=e>>>8,this[t+3]=e&255,t+4},\"writeUInt32BE\");function Un(r,e,t,n,i){jn(\r\ne,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,\r\nr[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=\r\no,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}a(Un,\"wrtBigUInt64LE\");function qn(r,e,t,n,i){\r\njn(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>\r\n8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+\r\n3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}a(qn,\"wrtBigUInt64BE\");f.\r\nprototype.writeBigUInt64LE=me(a(function(e,t=0){return Un(this,e,t,BigInt(0),BigInt(\r\n\"0xffffffffffffffff\"))},\"writeBigUInt64LE\"));f.prototype.writeBigUInt64BE=me(a(function(e,t=0){\r\nreturn qn(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))},\"writeBigUInt64BE\"));\r\nf.prototype.writeIntLE=a(function(e,t,n,i){if(e=+e,t=t>>>0,!i){let c=Math.pow(2,\r\n8*n-1);z(this,e,t,n,c-1,-c)}let s=0,o=1,u=0;for(this[t]=e&255;++s<n&&(o*=256);)e<\r\n0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+n},\"writeIntL\\\r\nE\");f.prototype.writeIntBE=a(function(e,t,n,i){if(e=+e,t=t>>>0,!i){let c=Math.pow(\r\n2,8*n-1);z(this,e,t,n,c-1,-c)}let s=n-1,o=1,u=0;for(this[t+s]=e&255;--s>=0&&(o*=\r\n256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+n},\"w\\\r\nriteIntBE\");f.prototype.writeInt8=a(function(e,t,n){return e=+e,t=t>>>0,n||z(this,\r\ne,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},\"writeInt8\");f.prototype.writeInt16LE=\r\na(function(e,t,n){return e=+e,t=t>>>0,n||z(this,e,t,2,32767,-32768),this[t]=e&255,\r\nthis[t+1]=e>>>8,t+2},\"writeInt16LE\");f.prototype.writeInt16BE=a(function(e,t,n){\r\nreturn e=+e,t=t>>>0,n||z(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,\r\nt+2},\"writeInt16BE\");f.prototype.writeInt32LE=a(function(e,t,n){return e=+e,t=t>>>\r\n0,n||z(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=\r\ne>>>16,this[t+3]=e>>>24,t+4},\"writeInt32LE\");f.prototype.writeInt32BE=a(function(e,t,n){\r\nreturn e=+e,t=t>>>0,n||z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+\r\n1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},\"writeIn\\\r\nt32BE\");f.prototype.writeBigInt64LE=me(a(function(e,t=0){return Un(this,e,t,-BigInt(\r\n\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))},\"writeBigInt64LE\"));f.prototype.\r\nwriteBigInt64BE=me(a(function(e,t=0){return qn(this,e,t,-BigInt(\"0x8000000000000\\\r\n000\"),BigInt(\"0x7fffffffffffffff\"))},\"writeBigInt64BE\"));function Nn(r,e,t,n,i,s){\r\nif(t+n>r.length)throw new RangeError(\"Index out of range\");if(t<0)throw new RangeError(\r\n\"Index out of range\")}a(Nn,\"checkIEEE754\");function Qn(r,e,t,n,i){return e=+e,t=\r\nt>>>0,i||Nn(r,e,t,4,34028234663852886e22,-34028234663852886e22),Pe.write(r,e,t,n,\r\n23,4),t+4}a(Qn,\"writeFloat\");f.prototype.writeFloatLE=a(function(e,t,n){return Qn(\r\nthis,e,t,!0,n)},\"writeFloatLE\");f.prototype.writeFloatBE=a(function(e,t,n){return Qn(\r\nthis,e,t,!1,n)},\"writeFloatBE\");function Wn(r,e,t,n,i){return e=+e,t=t>>>0,i||Nn(\r\nr,e,t,8,17976931348623157e292,-17976931348623157e292),Pe.write(r,e,t,n,52,8),t+8}\r\na(Wn,\"writeDouble\");f.prototype.writeDoubleLE=a(function(e,t,n){return Wn(this,e,\r\nt,!0,n)},\"writeDoubleLE\");f.prototype.writeDoubleBE=a(function(e,t,n){return Wn(\r\nthis,e,t,!1,n)},\"writeDoubleBE\");f.prototype.copy=a(function(e,t,n,i){if(!f.isBuffer(\r\ne))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),!i&&i!==0&&(i=\r\nthis.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===\r\n0||this.length===0)return 0;if(t<0)throw new RangeError(\"targetStart out of boun\\\r\nds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\r\n\"sourceEnd out of bounds\");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-\r\nt+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin==\"functio\\\r\nn\"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),\r\ns},\"copy\");f.prototype.fill=a(function(e,t,n,i){if(typeof e==\"string\"){if(typeof t==\r\n\"string\"?(i=t,t=0,n=this.length):typeof n==\"string\"&&(i=n,n=this.length),i!==void 0&&\r\ntypeof i!=\"string\")throw new TypeError(\"encoding must be a string\");if(typeof i==\r\n\"string\"&&!f.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i);if(e.length===\r\n1){let o=e.charCodeAt(0);(i===\"utf8\"&&o<128||i===\"latin1\")&&(e=o)}}else typeof e==\r\n\"number\"?e=e&255:typeof e==\"boolean\"&&(e=Number(e));if(t<0||this.length<t||this.\r\nlength<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;t=t>>>0,\r\nn=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e==\"number\")for(s=t;s<n;++s)\r\nthis[s]=e;else{let o=f.isBuffer(e)?e:f.from(e,i),u=o.length;if(u===0)throw new TypeError(\r\n'The value \"'+e+'\" is invalid for argument \"value\"');for(s=0;s<n-t;++s)this[s+t]=\r\no[s%u]}return this},\"fill\");var Te={};function Dt(r,e,t){var n;Te[r]=(n=class extends t{constructor(){\r\nsuper(),Object.defineProperty(this,\"message\",{value:e.apply(this,arguments),writable:!0,\r\nconfigurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){\r\nreturn r}set code(s){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,\r\nvalue:s,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}},\r\na(n,\"NodeError\"),n)}a(Dt,\"E\");Dt(\"ERR_BUFFER_OUT_OF_BOUNDS\",function(r){return r?\r\n`${r} is outside of buffer bounds`:\"Attempt to access memory outside buffer boun\\\r\nds\"},RangeError);Dt(\"ERR_INVALID_ARG_TYPE\",function(r,e){return`The \"${r}\" argum\\\r\nent must be of type number. Received type ${typeof e}`},TypeError);Dt(\"ERR_OUT_O\\\r\nF_RANGE\",function(r,e,t){let n=`The value of \"${r}\" is out of range.`,i=t;return Number.\r\nisInteger(t)&&Math.abs(t)>2**32?i=Rn(String(t)):typeof t==\"bigint\"&&(i=String(t),\r\n(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=Rn(i)),i+=\"n\"),n+=` It\\\r\n must be ${e}. Received ${i}`,n},RangeError);function Rn(r){let e=\"\",t=r.length,\r\nn=r[0]===\"-\"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,\r\nt)}${e}`}a(Rn,\"addNumericalSeparator\");function Lo(r,e,t){Be(e,\"offset\"),(r[e]===\r\nvoid 0||r[e+t]===void 0)&&je(e,r.length-(t+1))}a(Lo,\"checkBounds\");function jn(r,e,t,n,i,s){\r\nif(r>t||r<e){let o=typeof e==\"bigint\"?\"n\":\"\",u;throw s>3?e===0||e===BigInt(0)?u=\r\n`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:u=`>= -(2${o} ** ${(s+1)*8-1}${o}) and \\\r\n< 2 ** ${(s+1)*8-1}${o}`:u=`>= ${e}${o} and <= ${t}${o}`,new Te.ERR_OUT_OF_RANGE(\r\n\"value\",u,r)}Lo(n,i,s)}a(jn,\"checkIntBI\");function Be(r,e){if(typeof r!=\"number\")\r\nthrow new Te.ERR_INVALID_ARG_TYPE(e,\"number\",r)}a(Be,\"validateNumber\");function je(r,e,t){\r\nthrow Math.floor(r)!==r?(Be(r,t),new Te.ERR_OUT_OF_RANGE(t||\"offset\",\"an integer\",\r\nr)):e<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE(t||\"offset\",`>= ${t?\r\n1:0} and <= ${e}`,r)}a(je,\"boundsError\");var Ro=/[^+/0-9A-Za-z-_]/g;function Fo(r){\r\nif(r=r.split(\"=\")[0],r=r.trim().replace(Ro,\"\"),r.length<2)return\"\";for(;r.length%\r\n4!==0;)r=r+\"=\";return r}a(Fo,\"base64clean\");function Rt(r,e){e=e||1/0;let t,n=r.\r\nlength,i=null,s=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){\r\nif(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&\r\ns.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,\r\n189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,\r\n189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;\r\ns.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>\r\n6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|\r\n128,t>>6&63|128,t&63|128)}else throw new Error(\"Invalid code point\")}return s}a(\r\nRt,\"utf8ToBytes\");function Mo(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(\r\nt)&255);return e}a(Mo,\"asciiToBytes\");function Do(r,e){let t,n,i,s=[];for(let o=0;o<\r\nr.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,s.push(i),s.push(n);return s}\r\na(Do,\"utf16leToBytes\");function Hn(r){return Pt.toByteArray(Fo(r))}a(Hn,\"base64T\\\r\noBytes\");function ot(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)\r\ne[i+t]=r[i];return i}a(ot,\"blitBuffer\");function ae(r,e){return r instanceof e||\r\nr!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}\r\na(ae,\"isInstance\");function Ot(r){return r!==r}a(Ot,\"numberIsNaN\");var Oo=function(){\r\nlet r=\"0123456789abcdef\",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<\r\n16;++i)e[n+i]=r[t]+r[i]}return e}();function me(r){return typeof BigInt>\"u\"?ko:r}\r\na(me,\"defineBigIntMethod\");function ko(){throw new Error(\"BigInt not supported\")}\r\na(ko,\"BufferBigIntNotDefined\")});var b,S,v,w,d,m,p=K(()=>{\"use strict\";b=globalThis,S=globalThis.setImmediate??(r=>setTimeout(\r\nr,0)),v=globalThis.clearImmediate??(r=>clearTimeout(r)),w=globalThis.crypto??{};\r\nw.subtle??(w.subtle={});d=typeof globalThis.Buffer==\"function\"&&typeof globalThis.\r\nBuffer.allocUnsafe==\"function\"?globalThis.Buffer:Gn().Buffer,m=globalThis.process??\r\n{};m.env??(m.env={});try{m.nextTick(()=>{})}catch{let e=Promise.resolve();m.nextTick=\r\ne.then.bind(e)}});var ge=I((Jc,kt)=>{\"use strict\";p();var Re=typeof Reflect==\"object\"?Reflect:null,\r\n$n=Re&&typeof Re.apply==\"function\"?Re.apply:a(function(e,t,n){return Function.prototype.\r\napply.call(e,t,n)},\"ReflectApply\"),at;Re&&typeof Re.ownKeys==\"function\"?at=Re.ownKeys:\r\nObject.getOwnPropertySymbols?at=a(function(e){return Object.getOwnPropertyNames(\r\ne).concat(Object.getOwnPropertySymbols(e))},\"ReflectOwnKeys\"):at=a(function(e){return Object.\r\ngetOwnPropertyNames(e)},\"ReflectOwnKeys\");function Uo(r){console&&console.warn&&\r\nconsole.warn(r)}a(Uo,\"ProcessEmitWarning\");var Vn=Number.isNaN||a(function(e){return e!==\r\ne},\"NumberIsNaN\");function B(){B.init.call(this)}a(B,\"EventEmitter\");kt.exports=\r\nB;kt.exports.once=Wo;B.EventEmitter=B;B.prototype._events=void 0;B.prototype._eventsCount=\r\n0;B.prototype._maxListeners=void 0;var Kn=10;function ut(r){if(typeof r!=\"functi\\\r\non\")throw new TypeError('The \"listener\" argument must be of type Function. Recei\\\r\nved type '+typeof r)}a(ut,\"checkListener\");Object.defineProperty(B,\"defaultMaxLi\\\r\nsteners\",{enumerable:!0,get:function(){return Kn},set:function(r){if(typeof r!=\"\\\r\nnumber\"||r<0||Vn(r))throw new RangeError('The value of \"defaultMaxListeners\" is \\\r\nout of range. It must be a non-negative number. Received '+r+\".\");Kn=r}});B.init=\r\nfunction(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&\r\n(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||\r\nvoid 0};B.prototype.setMaxListeners=a(function(e){if(typeof e!=\"number\"||e<0||Vn(\r\ne))throw new RangeError('The value of \"n\" is out of range. It must be a non-nega\\\r\ntive number. Received '+e+\".\");return this._maxListeners=e,this},\"setMaxListener\\\r\ns\");function zn(r){return r._maxListeners===void 0?B.defaultMaxListeners:r._maxListeners}\r\na(zn,\"_getMaxListeners\");B.prototype.getMaxListeners=a(function(){return zn(this)},\r\n\"getMaxListeners\");B.prototype.emit=a(function(e){for(var t=[],n=1;n<arguments.length;n++)\r\nt.push(arguments[n]);var i=e===\"error\",s=this._events;if(s!==void 0)i=i&&s.error===\r\nvoid 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)\r\nthrow o;var u=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw u.context=\r\no,u}var c=s[e];if(c===void 0)return!1;if(typeof c==\"function\")$n(c,this,t);else for(var h=c.\r\nlength,l=ei(c,h),n=0;n<h;++n)$n(l[n],this,t);return!0},\"emit\");function Yn(r,e,t,n){\r\nvar i,s,o;if(ut(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=\r\n0):(s.newListener!==void 0&&(r.emit(\"newListener\",e,t.listener?t.listener:t),s=r.\r\n_events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o==\"functio\\\r\nn\"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=zn(r),i>0&&o.length>i&&!o.warned){\r\no.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\r\n\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");\r\nu.name=\"MaxListenersExceededWarning\",u.emitter=r,u.type=e,u.count=o.length,Uo(u)}\r\nreturn r}a(Yn,\"_addListener\");B.prototype.addListener=a(function(e,t){return Yn(\r\nthis,e,t,!1)},\"addListener\");B.prototype.on=B.prototype.addListener;B.prototype.\r\nprependListener=a(function(e,t){return Yn(this,e,t,!0)},\"prependListener\");function qo(){\r\nif(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=\r\n!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.\r\ntarget,arguments)}a(qo,\"onceWrapper\");function Zn(r,e,t){var n={fired:!1,wrapFn:void 0,\r\ntarget:r,type:e,listener:t},i=qo.bind(n);return i.listener=t,n.wrapFn=i,i}a(Zn,\"\\\r\n_onceWrap\");B.prototype.once=a(function(e,t){return ut(t),this.on(e,Zn(this,e,t)),\r\nthis},\"once\");B.prototype.prependOnceListener=a(function(e,t){return ut(t),this.\r\nprependListener(e,Zn(this,e,t)),this},\"prependOnceListener\");B.prototype.removeListener=\r\na(function(e,t){var n,i,s,o,u;if(ut(t),i=this._events,i===void 0)return this;if(n=\r\ni[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this.\r\n_events=Object.create(null):(delete i[e],i.removeListener&&this.emit(\"removeList\\\r\nener\",e,n.listener||t));else if(typeof n!=\"function\"){for(s=-1,o=n.length-1;o>=0;o--)\r\nif(n[o]===t||n[o].listener===t){u=n[o].listener,s=o;break}if(s<0)return this;s===\r\n0?n.shift():No(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit(\r\n\"removeListener\",e,u||t)}return this},\"removeListener\");B.prototype.off=B.prototype.\r\nremoveListener;B.prototype.removeAllListeners=a(function(e){var t,n,i;if(n=this.\r\n_events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===\r\n0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this.\r\n_eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.\r\nlength===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!==\"removeList\\\r\nener\"&&this.removeAllListeners(o);return this.removeAllListeners(\"removeListener\"),\r\nthis._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t==\"f\\\r\nunction\")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.\r\nremoveListener(e,t[i]);return this},\"removeAllListeners\");function Jn(r,e,t){var n=r.\r\n_events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i==\"functi\\\r\non\"?t?[i.listener||i]:[i]:t?Qo(i):ei(i,i.length)}a(Jn,\"_listeners\");B.prototype.\r\nlisteners=a(function(e){return Jn(this,e,!0)},\"listeners\");B.prototype.rawListeners=\r\na(function(e){return Jn(this,e,!1)},\"rawListeners\");B.listenerCount=function(r,e){\r\nreturn typeof r.listenerCount==\"function\"?r.listenerCount(e):Xn.call(r,e)};B.prototype.\r\nlistenerCount=Xn;function Xn(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t==\r\n\"function\")return 1;if(t!==void 0)return t.length}return 0}a(Xn,\"listenerCount\");\r\nB.prototype.eventNames=a(function(){return this._eventsCount>0?at(this._events):\r\n[]},\"eventNames\");function ei(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];\r\nreturn t}a(ei,\"arrayClone\");function No(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.\r\npop()}a(No,\"spliceOne\");function Qo(r){for(var e=new Array(r.length),t=0;t<e.length;++t)\r\ne[t]=r[t].listener||r[t];return e}a(Qo,\"unwrapListeners\");function Wo(r,e){return new Promise(\r\nfunction(t,n){function i(o){r.removeListener(e,s),n(o)}a(i,\"errorListener\");function s(){\r\ntypeof r.removeListener==\"function\"&&r.removeListener(\"error\",i),t([].slice.call(\r\narguments))}a(s,\"resolver\"),ti(r,e,s,{once:!0}),e!==\"error\"&&jo(r,i,{once:!0})})}\r\na(Wo,\"once\");function jo(r,e,t){typeof r.on==\"function\"&&ti(r,\"error\",e,t)}a(jo,\r\n\"addErrorHandlerIfEventEmitter\");function ti(r,e,t,n){if(typeof r.on==\"function\")\r\nn.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener==\"function\")r.addEventListener(\r\ne,a(function i(s){n.once&&r.removeEventListener(e,i),t(s)},\"wrapListener\"));else\r\nthrow new TypeError('The \"emitter\" argument must be of type EventEmitter. Receiv\\\r\ned type '+typeof r)}a(ti,\"eventTargetAgnosticAddListener\")});var He={};X(He,{default:()=>Ho});var Ho,Ge=K(()=>{\"use strict\";p();Ho={}});function $e(r){let e=1779033703,t=3144134277,n=1013904242,i=2773480762,s=1359893119,\r\no=2600822924,u=528734635,c=1541459225,h=0,l=0,y=[1116352408,1899447441,3049323471,\r\n3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,\r\n1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,\r\n604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,\r\n3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,\r\n1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,\r\n3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,\r\n883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,\r\n2361852424,2428436474,2756734187,3204031479,3329325298],E=a((A,g)=>A>>>g|A<<32-g,\r\n\"rrot\"),_=new Uint32Array(64),P=new Uint8Array(64),N=a(()=>{for(let L=0,G=0;L<16;L++,\r\nG+=4)_[L]=P[G]<<24|P[G+1]<<16|P[G+2]<<8|P[G+3];for(let L=16;L<64;L++){let G=E(_[L-\r\n15],7)^E(_[L-15],18)^_[L-15]>>>3,ce=E(_[L-2],17)^E(_[L-2],19)^_[L-2]>>>10;_[L]=_[L-\r\n16]+G+_[L-7]+ce|0}let A=e,g=t,D=n,H=i,Q=s,W=o,ue=u,de=c;for(let L=0;L<64;L++){let G=E(\r\nQ,6)^E(Q,11)^E(Q,25),ce=Q&W^~Q&ue,ye=de+G+ce+y[L]+_[L]|0,xe=E(A,2)^E(A,13)^E(A,22),\r\nhe=A&g^A&D^g&D,ie=xe+he|0;de=ue,ue=W,W=Q,Q=H+ye|0,H=D,D=g,g=A,A=ye+ie|0}e=e+A|0,\r\nt=t+g|0,n=n+D|0,i=i+H|0,s=s+Q|0,o=o+W|0,u=u+ue|0,c=c+de|0,l=0},\"process\"),J=a(A=>{\r\ntypeof A==\"string\"&&(A=new TextEncoder().encode(A));for(let g=0;g<A.length;g++)P[l++]=\r\nA[g],l===64&&N();h+=A.length},\"add\"),pe=a(()=>{if(P[l++]=128,l==64&&N(),l+8>64){\r\nfor(;l<64;)P[l++]=0;N()}for(;l<58;)P[l++]=0;let A=h*8;P[l++]=A/1099511627776&255,\r\nP[l++]=A/4294967296&255,P[l++]=A>>>24,P[l++]=A>>>16&255,P[l++]=A>>>8&255,P[l++]=\r\nA&255,N();let g=new Uint8Array(32);return g[0]=e>>>24,g[1]=e>>>16&255,g[2]=e>>>8&\r\n255,g[3]=e&255,g[4]=t>>>24,g[5]=t>>>16&255,g[6]=t>>>8&255,g[7]=t&255,g[8]=n>>>24,\r\ng[9]=n>>>16&255,g[10]=n>>>8&255,g[11]=n&255,g[12]=i>>>24,g[13]=i>>>16&255,g[14]=\r\ni>>>8&255,g[15]=i&255,g[16]=s>>>24,g[17]=s>>>16&255,g[18]=s>>>8&255,g[19]=s&255,\r\ng[20]=o>>>24,g[21]=o>>>16&255,g[22]=o>>>8&255,g[23]=o&255,g[24]=u>>>24,g[25]=u>>>\r\n16&255,g[26]=u>>>8&255,g[27]=u&255,g[28]=c>>>24,g[29]=c>>>16&255,g[30]=c>>>8&255,\r\ng[31]=c&255,g},\"digest\");return r===void 0?{add:J,digest:pe}:(J(r),pe())}var ri=K(\r\n()=>{\"use strict\";p();a($e,\"sha256\")});var O,Ke,ni=K(()=>{\"use strict\";p();O=class O{constructor(){T(this,\"_dataLength\",\r\n0);T(this,\"_bufferLength\",0);T(this,\"_state\",new Int32Array(4));T(this,\"_buffer\",\r\nnew ArrayBuffer(68));T(this,\"_buffer8\");T(this,\"_buffer32\");this._buffer8=new Uint8Array(\r\nthis._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){\r\nreturn this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){\r\nreturn this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){\r\nreturn this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){let t=O.\r\nhexChars,n=O.hexOut,i,s,o,u;for(u=0;u<4;u+=1)for(s=u*8,i=e[u],o=0;o<8;o+=2)n[s+1+\r\no]=t.charAt(i&15),i>>>=4,n[s+0+o]=t.charAt(i&15),i>>>=4;return n.join(\"\")}static _md5cycle(e,t){\r\nlet n=e[0],i=e[1],s=e[2],o=e[3];n+=(i&s|~i&o)+t[0]-680876936|0,n=(n<<7|n>>>25)+i|\r\n0,o+=(n&i|~n&s)+t[1]-389564586|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[2]+606105819|\r\n0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,n+=(i&\r\ns|~i&o)+t[4]-176418897|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[5]+1200080426|0,o=(o<<\r\n12|o>>>20)+n|0,s+=(o&n|~o&i)+t[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+\r\nt[7]-45705983|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+t[8]+1770035416|0,n=(n<<7|n>>>\r\n25)+i|0,o+=(n&i|~n&s)+t[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[10]-\r\n42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[11]-1990404162|0,i=(i<<22|i>>>10)+s|\r\n0,n+=(i&s|~i&o)+t[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[13]-40341101|\r\n0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=\r\n(s&o|~s&n)+t[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,n+=(i&o|s&~o)+t[1]-165796510|\r\n0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,s+=(o&\r\ni|n&~i)+t[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[0]-373897302|0,i=\r\n(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[5]-701558691|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&\r\n~s)+t[10]+38016083|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[15]-660478335|0,s=(s<<14|\r\ns>>>18)+o|0,i+=(s&n|o&~n)+t[4]-405537848|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[9]+\r\n568446438|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[14]-1019803690|0,o=(o<<9|o>>>23)+\r\nn|0,s+=(o&i|n&~i)+t[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[8]+1163531501|\r\n0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,o+=(n&\r\ns|i&~s)+t[2]-51403784|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[7]+1735328473|0,s=(s<<\r\n14|s>>>18)+o|0,i+=(s&n|o&~n)+t[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,n+=(i^s^o)+\r\nt[5]-378558|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[8]-2022574463|0,o=(o<<11|o>>>21)+\r\nn|0,s+=(o^n^i)+t[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[14]-35309556|\r\n0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+t[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+\r\nt[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[7]-155497632|0,s=(s<<16|s>>>\r\n16)+o|0,i+=(s^o^n)+t[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+t[13]+681279174|\r\n0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[0]-358537222|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+\r\nt[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[6]+76029189|0,i=(i<<23|i>>>9)+\r\ns|0,n+=(i^s^o)+t[9]-640364487|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[12]-421815835|0,\r\no=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+\r\nt[2]-995338651|0,i=(i<<23|i>>>9)+s|0,n+=(s^(i|~o))+t[0]-198630844|0,n=(n<<6|n>>>\r\n26)+i|0,o+=(i^(n|~s))+t[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[14]-\r\n1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[5]-57434055|0,i=(i<<21|i>>>11)+\r\ns|0,n+=(s^(i|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[3]-1894986606|\r\n0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^\r\n(s|~n))+t[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+t[8]+1873313359|0,n=\r\n(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[15]-30611744|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+\r\nt[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[13]+1309151649|0,i=(i<<21|\r\ni>>>11)+s|0,n+=(s^(i|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[11]-\r\n1120210379|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[2]+718787259|0,s=(s<<15|s>>>17)+\r\no|0,i+=(o^(s|~n))+t[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=n+e[0]|0,e[1]=i+e[1]|\r\n0,e[2]=s+e[2]|0,e[3]=o+e[3]|0}start(){return this._dataLength=0,this._bufferLength=\r\n0,this._state.set(O.stateIdentity),this}appendStr(e){let t=this._buffer8,n=this.\r\n_buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),\r\ns<128)t[i++]=s;else if(s<2048)t[i++]=(s>>>6)+192,t[i++]=s&63|128;else if(s<55296||\r\ns>56319)t[i++]=(s>>>12)+224,t[i++]=s>>>6&63|128,t[i++]=s&63|128;else{if(s=(s-55296)*\r\n1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error(\"Unicode standard\\\r\n supports code points up to U+10FFFF\");t[i++]=(s>>>18)+240,t[i++]=s>>>12&63|128,\r\nt[i++]=s>>>6&63|128,t[i++]=s&63|128}i>=64&&(this._dataLength+=64,O._md5cycle(this.\r\n_state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(e){let t=this.\r\n_buffer8,n=this._buffer32,i=this._bufferLength,s,o=0;for(;;){for(s=Math.min(e.length-\r\no,64-i);s--;)t[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,O._md5cycle(\r\nthis._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){let t=this.\r\n_buffer8,n=this._buffer32,i=this._bufferLength,s,o=0;for(;;){for(s=Math.min(e.length-\r\no,64-i);s--;)t[i++]=e[o++];if(i<64)break;this._dataLength+=64,O._md5cycle(this._state,\r\nn),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.\r\nfromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this.\r\n_dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,n=e.state,i=this.\r\n_state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=\r\nn[1],i[2]=n[2],i[3]=n[3],s=0;s<t.length;s+=1)this._buffer8[s]=t.charCodeAt(s)}end(e=!1){\r\nlet t=this._bufferLength,n=this._buffer8,i=this._buffer32,s=(t>>2)+1;this._dataLength+=\r\nt;let o=this._dataLength*8;if(n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,i.set(O.buffer32Identity.\r\nsubarray(s),s),t>55&&(O._md5cycle(this._state,i),i.set(O.buffer32Identity)),o<=4294967295)\r\ni[14]=o;else{let u=o.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let c=parseInt(\r\nu[2],16),h=parseInt(u[1],16)||0;i[14]=c,i[15]=h}return O._md5cycle(this._state,i),\r\ne?this._state:O._hex(this._state)}};a(O,\"Md5\"),T(O,\"stateIdentity\",new Int32Array(\r\n[1732584193,-271733879,-1732584194,271733878])),T(O,\"buffer32Identity\",new Int32Array(\r\n[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),T(O,\"hexChars\",\"0123456789abcdef\"),T(O,\"hexO\\\r\nut\",[]),T(O,\"onePassHasher\",new O);Ke=O});var Ut={};X(Ut,{createHash:()=>$o,createHmac:()=>Ko,randomBytes:()=>Go});function Go(r){\r\nreturn w.getRandomValues(d.alloc(r))}function $o(r){if(r===\"sha256\")return{update:function(e){\r\nreturn{digest:function(){return d.from($e(e))}}}};if(r===\"md5\")return{update:function(e){\r\nreturn{digest:function(){return typeof e==\"string\"?Ke.hashStr(e):Ke.hashByteArray(\r\ne)}}}};throw new Error(`Hash type '${r}' not supported`)}function Ko(r,e){if(r!==\r\n\"sha256\")throw new Error(`Only sha256 is supported (requested: '${r}')`);return{\r\nupdate:function(t){return{digest:function(){typeof e==\"string\"&&(e=new TextEncoder().\r\nencode(e)),typeof t==\"string\"&&(t=new TextEncoder().encode(t));let n=e.length;if(n>\r\n64)e=$e(e);else if(n<64){let c=new Uint8Array(64);c.set(e),e=c}let i=new Uint8Array(\r\n64),s=new Uint8Array(64);for(let c=0;c<64;c++)i[c]=54^e[c],s[c]=92^e[c];let o=new Uint8Array(\r\nt.length+64);o.set(i,0),o.set(t,64);let u=new Uint8Array(96);return u.set(s,0),u.\r\nset($e(o),64),d.from($e(u))}}}}}var qt=K(()=>{\"use strict\";p();ri();ni();a(Go,\"r\\\r\nandomBytes\");a($o,\"createHash\");a(Ko,\"createHmac\")});var Qt=I(ii=>{\"use strict\";p();ii.parse=function(r,e){return new Nt(r,e).parse()};\r\nvar ct=class ct{constructor(e,t){this.source=e,this.transform=t||Vo,this.position=\r\n0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=\r\nthis.source.length}nextCharacter(){var e=this.source[this.position++];return e===\r\n\"\\\\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){\r\nthis.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&(t=this.recorded.\r\njoin(\"\"),t===\"NULL\"&&!e&&(t=null),t!==null&&(t=this.transform(t)),this.entries.push(\r\nt),this.recorded=[])}consumeDimensions(){if(this.source[0]===\"[\")for(;!this.isEof();){\r\nvar e=this.nextCharacter();if(e.value===\"=\")break}}parse(e){var t,n,i;for(this.consumeDimensions();!this.\r\nisEof();)if(t=this.nextCharacter(),t.value===\"{\"&&!i)this.dimension++,this.dimension>\r\n1&&(n=new ct(this.source.substr(this.position-1),this.transform),this.entries.push(\r\nn.parse(!0)),this.position+=n.position-2);else if(t.value===\"}\"&&!i){if(this.dimension--,\r\n!this.dimension&&(this.newEntry(),e))return this.entries}else t.value==='\"'&&!t.\r\nescaped?(i&&this.newEntry(!0),i=!i):t.value===\",\"&&!i?this.newEntry():this.record(\r\nt.value);if(this.dimension!==0)throw new Error(\"array dimension not balanced\");return this.\r\nentries}};a(ct,\"ArrayParser\");var Nt=ct;function Vo(r){return r}a(Vo,\"identity\")});var Wt=I((yh,si)=>{p();var zo=Qt();si.exports={create:function(r,e){return{parse:function(){\r\nreturn zo.parse(r,e)}}}}});var ui=I((gh,ai)=>{\"use strict\";p();var Yo=/(\\d{1,})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,})?.*?( BC)?$/,\r\nZo=/^(\\d{1,})-(\\d{2})-(\\d{2})( BC)?$/,Jo=/([Z+-])(\\d{2})?:?(\\d{2})?:?(\\d{2})?/,Xo=/^-?infinity$/;\r\nai.exports=a(function(e){if(Xo.test(e))return Number(e.replace(\"i\",\"I\"));var t=Yo.\r\nexec(e);if(!t)return ea(e)||null;var n=!!t[8],i=parseInt(t[1],10);n&&(i=oi(i));var s=parseInt(\r\nt[2],10)-1,o=t[3],u=parseInt(t[4],10),c=parseInt(t[5],10),h=parseInt(t[6],10),l=t[7];\r\nl=l?1e3*parseFloat(l):0;var y,E=ta(e);return E!=null?(y=new Date(Date.UTC(i,s,o,\r\nu,c,h,l)),jt(i)&&y.setUTCFullYear(i),E!==0&&y.setTime(y.getTime()-E)):(y=new Date(\r\ni,s,o,u,c,h,l),jt(i)&&y.setFullYear(i)),y},\"parseDate\");function ea(r){var e=Zo.\r\nexec(r);if(e){var t=parseInt(e[1],10),n=!!e[4];n&&(t=oi(t));var i=parseInt(e[2],\r\n10)-1,s=e[3],o=new Date(t,i,s);return jt(t)&&o.setFullYear(t),o}}a(ea,\"getDate\");\r\nfunction ta(r){if(r.endsWith(\"+00\"))return 0;var e=Jo.exec(r.split(\" \")[1]);if(e){\r\nvar t=e[1];if(t===\"Z\")return 0;var n=t===\"-\"?-1:1,i=parseInt(e[2],10)*3600+parseInt(\r\ne[3]||0,10)*60+parseInt(e[4]||0,10);return i*n*1e3}}a(ta,\"timeZoneOffset\");function oi(r){\r\nreturn-(r-1)}a(oi,\"bcYearToNegativeYear\");function jt(r){return r>=0&&r<100}a(jt,\r\n\"is0To99\")});var hi=I((Sh,ci)=>{p();ci.exports=na;var ra=Object.prototype.hasOwnProperty;function na(r){\r\nfor(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)ra.call(t,\r\nn)&&(r[n]=t[n])}return r}a(na,\"extend\")});var pi=I((vh,fi)=>{\"use strict\";p();var ia=hi();fi.exports=Fe;function Fe(r){if(!(this instanceof\r\nFe))return new Fe(r);ia(this,ma(r))}a(Fe,\"PostgresInterval\");var sa=[\"seconds\",\"\\\r\nminutes\",\"hours\",\"days\",\"months\",\"years\"];Fe.prototype.toPostgres=function(){var r=sa.\r\nfilter(this.hasOwnProperty,this);return this.milliseconds&&r.indexOf(\"seconds\")<\r\n0&&r.push(\"seconds\"),r.length===0?\"0\":r.map(function(e){var t=this[e]||0;return e===\r\n\"seconds\"&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\\.?0+$/,\r\n\"\")),t+\" \"+e},this).join(\" \")};var oa={years:\"Y\",months:\"M\",days:\"D\",hours:\"H\",minutes:\"\\\r\nM\",seconds:\"S\"},aa=[\"years\",\"months\",\"days\"],ua=[\"hours\",\"minutes\",\"seconds\"];Fe.\r\nprototype.toISOString=Fe.prototype.toISO=function(){var r=aa.map(t,this).join(\"\"),\r\ne=ua.map(t,this).join(\"\");return\"P\"+r+\"T\"+e;function t(n){var i=this[n]||0;return n===\r\n\"seconds\"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,\r\n\"\")),i+oa[n]}};var Ht=\"([+-]?\\\\d+)\",ca=Ht+\"\\\\s+years?\",ha=Ht+\"\\\\s+mons?\",la=Ht+\"\\\r\n\\\\s+days?\",fa=\"([+-])?([\\\\d]*):(\\\\d\\\\d):(\\\\d\\\\d)\\\\.?(\\\\d{1,6})?\",pa=new RegExp([\r\nca,ha,la,fa].map(function(r){return\"(\"+r+\")?\"}).join(\"\\\\s*\")),li={years:2,months:4,\r\ndays:6,hours:9,minutes:10,seconds:11,milliseconds:12},da=[\"hours\",\"minutes\",\"sec\\\r\nonds\",\"milliseconds\"];function ya(r){var e=r+\"000000\".slice(r.length);return parseInt(\r\ne,10)/1e3}a(ya,\"parseMilliseconds\");function ma(r){if(!r)return{};var e=pa.exec(\r\nr),t=e[8]===\"-\";return Object.keys(li).reduce(function(n,i){var s=li[i],o=e[s];return!o||\r\n(o=i===\"milliseconds\"?ya(o):parseInt(o,10),!o)||(t&&~da.indexOf(i)&&(o*=-1),n[i]=\r\no),n},{})}a(ma,\"parse\")});var yi=I((Ch,di)=>{\"use strict\";p();di.exports=a(function(e){if(/^\\\\x/.test(e))return new d(\r\ne.substr(2),\"hex\");for(var t=\"\",n=0;n<e.length;)if(e[n]!==\"\\\\\")t+=e[n],++n;else if(/[0-7]{3}/.\r\ntest(e.substr(n+1,3)))t+=String.fromCharCode(parseInt(e.substr(n+1,3),8)),n+=4;else{\r\nfor(var i=1;n+i<e.length&&e[n+i]===\"\\\\\";)i++;for(var s=0;s<Math.floor(i/2);++s)t+=\r\n\"\\\\\";n+=Math.floor(i/2)*2}return new d(t,\"binary\")},\"parseBytea\")});var Ei=I((Ph,xi)=>{p();var Ve=Qt(),ze=Wt(),ht=ui(),gi=pi(),wi=yi();function lt(r){\r\nreturn a(function(t){return t===null?t:r(t)},\"nullAllowed\")}a(lt,\"allowNull\");function bi(r){\r\nreturn r===null?r:r===\"TRUE\"||r===\"t\"||r===\"true\"||r===\"y\"||r===\"yes\"||r===\"on\"||\r\nr===\"1\"}a(bi,\"parseBool\");function ga(r){return r?Ve.parse(r,bi):null}a(ga,\"pars\\\r\neBoolArray\");function wa(r){return parseInt(r,10)}a(wa,\"parseBaseTenInt\");function Gt(r){\r\nreturn r?Ve.parse(r,lt(wa)):null}a(Gt,\"parseIntegerArray\");function ba(r){return r?\r\nVe.parse(r,lt(function(e){return Si(e).trim()})):null}a(ba,\"parseBigIntegerArray\");\r\nvar Sa=a(function(r){if(!r)return null;var e=ze.create(r,function(t){return t!==\r\nnull&&(t=zt(t)),t});return e.parse()},\"parsePointArray\"),$t=a(function(r){if(!r)\r\nreturn null;var e=ze.create(r,function(t){return t!==null&&(t=parseFloat(t)),t});\r\nreturn e.parse()},\"parseFloatArray\"),te=a(function(r){if(!r)return null;var e=ze.\r\ncreate(r);return e.parse()},\"parseStringArray\"),Kt=a(function(r){if(!r)return null;\r\nvar e=ze.create(r,function(t){return t!==null&&(t=ht(t)),t});return e.parse()},\"\\\r\nparseDateArray\"),xa=a(function(r){if(!r)return null;var e=ze.create(r,function(t){\r\nreturn t!==null&&(t=gi(t)),t});return e.parse()},\"parseIntervalArray\"),Ea=a(function(r){\r\nreturn r?Ve.parse(r,lt(wi)):null},\"parseByteAArray\"),Vt=a(function(r){return parseInt(\r\nr,10)},\"parseInteger\"),Si=a(function(r){var e=String(r);return/^\\d+$/.test(e)?e:\r\nr},\"parseBigInteger\"),mi=a(function(r){return r?Ve.parse(r,lt(JSON.parse)):null},\r\n\"parseJsonArray\"),zt=a(function(r){return r[0]!==\"(\"?null:(r=r.substring(1,r.length-\r\n1).split(\",\"),{x:parseFloat(r[0]),y:parseFloat(r[1])})},\"parsePoint\"),va=a(function(r){\r\nif(r[0]!==\"<\"&&r[1]!==\"(\")return null;for(var e=\"(\",t=\"\",n=!1,i=2;i<r.length-1;i++){\r\nif(n||(e+=r[i]),r[i]===\")\"){n=!0;continue}else if(!n)continue;r[i]!==\",\"&&(t+=r[i])}\r\nvar s=zt(e);return s.radius=parseFloat(t),s},\"parseCircle\"),_a=a(function(r){r(20,\r\nSi),r(21,Vt),r(23,Vt),r(26,Vt),r(700,parseFloat),r(701,parseFloat),r(16,bi),r(1082,\r\nht),r(1114,ht),r(1184,ht),r(600,zt),r(651,te),r(718,va),r(1e3,ga),r(1001,Ea),r(1005,\r\nGt),r(1007,Gt),r(1028,Gt),r(1016,ba),r(1017,Sa),r(1021,$t),r(1022,$t),r(1231,$t),\r\nr(1014,te),r(1015,te),r(1008,te),r(1009,te),r(1040,te),r(1041,te),r(1115,Kt),r(1182,\r\nKt),r(1185,Kt),r(1186,gi),r(1187,xa),r(17,wi),r(114,JSON.parse.bind(JSON)),r(3802,\r\nJSON.parse.bind(JSON)),r(199,mi),r(3807,mi),r(3907,te),r(2951,te),r(791,te),r(1183,\r\nte),r(1270,te)},\"init\");xi.exports={init:_a}});var _i=I((Rh,vi)=>{\"use strict\";p();var Y=1e6;function Aa(r){var e=r.readInt32BE(\r\n0),t=r.readUInt32BE(4),n=\"\";e<0&&(e=~e+(t===0),t=~t+1>>>0,n=\"-\");var i=\"\",s,o,u,\r\nc,h,l;{if(s=e%Y,e=e/Y>>>0,o=4294967296*s+t,t=o/Y>>>0,u=\"\"+(o-Y*t),t===0&&e===0)return n+\r\nu+i;for(c=\"\",h=6-u.length,l=0;l<h;l++)c+=\"0\";i=c+u+i}{if(s=e%Y,e=e/Y>>>0,o=4294967296*\r\ns+t,t=o/Y>>>0,u=\"\"+(o-Y*t),t===0&&e===0)return n+u+i;for(c=\"\",h=6-u.length,l=0;l<\r\nh;l++)c+=\"0\";i=c+u+i}{if(s=e%Y,e=e/Y>>>0,o=4294967296*s+t,t=o/Y>>>0,u=\"\"+(o-Y*t),\r\nt===0&&e===0)return n+u+i;for(c=\"\",h=6-u.length,l=0;l<h;l++)c+=\"0\";i=c+u+i}return s=\r\ne%Y,o=4294967296*s+t,u=\"\"+o%Y,n+u+i}a(Aa,\"readInt8\");vi.exports=Aa});var Pi=I((Dh,Ti)=>{p();var Ca=_i(),R=a(function(r,e,t,n,i){t=t||0,n=n||!1,i=i||function(_,P,N){\r\nreturn _*Math.pow(2,N)+P};var s=t>>3,o=a(function(_){return n?~_&255:_},\"inv\"),u=255,\r\nc=8-t%8;e<c&&(u=255<<8-e&255,c=e),t&&(u=u>>t%8);var h=0;t%8+e>=8&&(h=i(0,o(r[s])&\r\nu,c));for(var l=e+t>>3,y=s+1;y<l;y++)h=i(h,o(r[y]),8);var E=(e+t)%8;return E>0&&\r\n(h=i(h,o(r[l])>>8-E,E)),h},\"parseBits\"),Ii=a(function(r,e,t){var n=Math.pow(2,t-\r\n1)-1,i=R(r,1),s=R(r,t,1);if(s===0)return 0;var o=1,u=a(function(h,l,y){h===0&&(h=\r\n1);for(var E=1;E<=y;E++)o/=2,(l&1<<y-E)>0&&(h+=o);return h},\"parsePrecisionBits\"),\r\nc=R(r,e,t+1,!1,u);return s==Math.pow(2,t+1)-1?c===0?i===0?1/0:-1/0:NaN:(i===0?1:\r\n-1)*Math.pow(2,s-n)*c},\"parseFloatFromBits\"),Ia=a(function(r){return R(r,1)==1?-1*\r\n(R(r,15,1,!0)+1):R(r,15,1)},\"parseInt16\"),Ai=a(function(r){return R(r,1)==1?-1*(R(\r\nr,31,1,!0)+1):R(r,31,1)},\"parseInt32\"),Ta=a(function(r){return Ii(r,23,8)},\"pars\\\r\neFloat32\"),Pa=a(function(r){return Ii(r,52,11)},\"parseFloat64\"),Ba=a(function(r){\r\nvar e=R(r,16,32);if(e==49152)return NaN;for(var t=Math.pow(1e4,R(r,16,16)),n=0,i=[],\r\ns=R(r,16),o=0;o<s;o++)n+=R(r,16,64+16*o)*t,t/=1e4;var u=Math.pow(10,R(r,16,48));\r\nreturn(e===0?1:-1)*Math.round(n*u)/u},\"parseNumeric\"),Ci=a(function(r,e){var t=R(\r\ne,1),n=R(e,63,1),i=new Date((t===0?1:-1)*n/1e3+9466848e5);return r||i.setTime(i.\r\ngetTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.\r\nusec},i.setMicroSeconds=function(s){this.usec=s},i.getUTCMicroSeconds=function(){\r\nreturn this.usec},i},\"parseDate\"),Ye=a(function(r){for(var e=R(r,32),t=R(r,32,32),\r\nn=R(r,32,64),i=96,s=[],o=0;o<e;o++)s[o]=R(r,32,i),i+=32,i+=32;var u=a(function(h){\r\nvar l=R(r,32,i);if(i+=32,l==4294967295)return null;var y;if(h==23||h==20)return y=\r\nR(r,l*8,i),i+=l*8,y;if(h==25)return y=r.toString(this.encoding,i>>3,(i+=l<<3)>>3),\r\ny;console.log(\"ERROR: ElementType not implemented: \"+h)},\"parseElement\"),c=a(function(h,l){\r\nvar y=[],E;if(h.length>1){var _=h.shift();for(E=0;E<_;E++)y[E]=c(h,l);h.unshift(\r\n_)}else for(E=0;E<h[0];E++)y[E]=u(l);return y},\"parse\");return c(s,n)},\"parseArr\\\r\nay\"),La=a(function(r){return r.toString(\"utf8\")},\"parseText\"),Ra=a(function(r){return r===\r\nnull?null:R(r,8)>0},\"parseBool\"),Fa=a(function(r){r(20,Ca),r(21,Ia),r(23,Ai),r(26,\r\nAi),r(1700,Ba),r(700,Ta),r(701,Pa),r(16,Ra),r(1114,Ci.bind(null,!1)),r(1184,Ci.bind(\r\nnull,!0)),r(1e3,Ye),r(1007,Ye),r(1016,Ye),r(1008,Ye),r(1009,Ye),r(25,La)},\"init\");\r\nTi.exports={init:Fa}});var Li=I((Uh,Bi)=>{p();Bi.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,\r\nREGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,\r\nSMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,\r\nTINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,\r\nBPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,\r\nTIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,\r\nREGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,\r\nPG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,\r\nREGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var Xe=I(Je=>{p();var Ma=Ei(),Da=Pi(),Oa=Wt(),ka=Li();Je.getTypeParser=Ua;Je.setTypeParser=\r\nqa;Je.arrayParser=Oa;Je.builtins=ka;var Ze={text:{},binary:{}};function Ri(r){return String(\r\nr)}a(Ri,\"noParse\");function Ua(r,e){return e=e||\"text\",Ze[e]&&Ze[e][r]||Ri}a(Ua,\r\n\"getTypeParser\");function qa(r,e,t){typeof e==\"function\"&&(t=e,e=\"text\"),Ze[e][r]=\r\nt}a(qa,\"setTypeParser\");Ma.init(function(r,e){Ze.text[r]=e});Da.init(function(r,e){\r\nZe.binary[r]=e})});var et=I((jh,Yt)=>{\"use strict\";p();Yt.exports={host:\"localhost\",user:m.platform===\r\n\"win32\"?m.env.USERNAME:m.env.USER,database:void 0,password:null,connectionString:void 0,\r\nport:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:\"\",ssl:!1,\r\napplication_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,\r\nstatement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,\r\nconnect_timeout:0,keepalives:1,keepalives_idle:0};var Me=Xe(),Na=Me.getTypeParser(\r\n20,\"text\"),Qa=Me.getTypeParser(1016,\"text\");Yt.exports.__defineSetter__(\"parseIn\\\r\nt8\",function(r){Me.setTypeParser(20,\"text\",r?Me.getTypeParser(23,\"text\"):Na),Me.\r\nsetTypeParser(1016,\"text\",r?Me.getTypeParser(1007,\"text\"):Qa)})});var tt=I((Gh,Mi)=>{\"use strict\";p();var Wa=(qt(),k(Ut)),ja=et();function Ha(r){var e=r.\r\nreplace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"');return'\"'+e+'\"'}a(Ha,\"escapeElement\");\r\nfunction Fi(r){for(var e=\"{\",t=0;t<r.length;t++)t>0&&(e=e+\",\"),r[t]===null||typeof r[t]>\r\n\"u\"?e=e+\"NULL\":Array.isArray(r[t])?e=e+Fi(r[t]):r[t]instanceof d?e+=\"\\\\\\\\x\"+r[t].\r\ntoString(\"hex\"):e+=Ha(ft(r[t]));return e=e+\"}\",e}a(Fi,\"arrayString\");var ft=a(function(r,e){\r\nif(r==null)return null;if(r instanceof d)return r;if(ArrayBuffer.isView(r)){var t=d.\r\nfrom(r.buffer,r.byteOffset,r.byteLength);return t.length===r.byteLength?t:t.slice(\r\nr.byteOffset,r.byteOffset+r.byteLength)}return r instanceof Date?ja.parseInputDatesAsUTC?\r\nKa(r):$a(r):Array.isArray(r)?Fi(r):typeof r==\"object\"?Ga(r,e):r.toString()},\"pre\\\r\npareValue\");function Ga(r,e){if(r&&typeof r.toPostgres==\"function\"){if(e=e||[],e.\r\nindexOf(r)!==-1)throw new Error('circular reference detected while preparing \"'+\r\nr+'\" for query');return e.push(r),ft(r.toPostgres(ft),e)}return JSON.stringify(r)}\r\na(Ga,\"prepareObject\");function j(r,e){for(r=\"\"+r;r.length<e;)r=\"0\"+r;return r}a(\r\nj,\"pad\");function $a(r){var e=-r.getTimezoneOffset(),t=r.getFullYear(),n=t<1;n&&\r\n(t=Math.abs(t)+1);var i=j(t,4)+\"-\"+j(r.getMonth()+1,2)+\"-\"+j(r.getDate(),2)+\"T\"+\r\nj(r.getHours(),2)+\":\"+j(r.getMinutes(),2)+\":\"+j(r.getSeconds(),2)+\".\"+j(r.getMilliseconds(),\r\n3);return e<0?(i+=\"-\",e*=-1):i+=\"+\",i+=j(Math.floor(e/60),2)+\":\"+j(e%60,2),n&&(i+=\r\n\" BC\"),i}a($a,\"dateToString\");function Ka(r){var e=r.getUTCFullYear(),t=e<1;t&&(e=\r\nMath.abs(e)+1);var n=j(e,4)+\"-\"+j(r.getUTCMonth()+1,2)+\"-\"+j(r.getUTCDate(),2)+\"\\\r\nT\"+j(r.getUTCHours(),2)+\":\"+j(r.getUTCMinutes(),2)+\":\"+j(r.getUTCSeconds(),2)+\".\"+\r\nj(r.getUTCMilliseconds(),3);return n+=\"+00:00\",t&&(n+=\" BC\"),n}a(Ka,\"dateToStrin\\\r\ngUTC\");function Va(r,e,t){return r=typeof r==\"string\"?{text:r}:r,e&&(typeof e==\"\\\r\nfunction\"?r.callback=e:r.values=e),t&&(r.callback=t),r}a(Va,\"normalizeQueryConfi\\\r\ng\");var Zt=a(function(r){return Wa.createHash(\"md5\").update(r,\"utf-8\").digest(\"h\\\r\nex\")},\"md5\"),za=a(function(r,e,t){var n=Zt(e+r),i=Zt(d.concat([d.from(n),t]));return\"\\\r\nmd5\"+i},\"postgresMd5PasswordHash\");Mi.exports={prepareValue:a(function(e){return ft(\r\ne)},\"prepareValueWrapper\"),normalizeQueryConfig:Va,postgresMd5PasswordHash:za,md5:Zt}});var qi=I((Vh,Ui)=>{\"use strict\";p();var Jt=(qt(),k(Ut));function Ya(r){if(r.indexOf(\r\n\"SCRAM-SHA-256\")===-1)throw new Error(\"SASL: Only mechanism SCRAM-SHA-256 is cur\\\r\nrently supported\");let e=Jt.randomBytes(18).toString(\"base64\");return{mechanism:\"\\\r\nSCRAM-SHA-256\",clientNonce:e,response:\"n,,n=*,r=\"+e,message:\"SASLInitialResponse\"}}\r\na(Ya,\"startSession\");function Za(r,e,t){if(r.message!==\"SASLInitialResponse\")throw new Error(\r\n\"SASL: Last message was not SASLInitialResponse\");if(typeof e!=\"string\")throw new Error(\r\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string\");if(typeof t!=\r\n\"string\")throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a\\\r\n string\");let n=eu(t);if(n.nonce.startsWith(r.clientNonce)){if(n.nonce.length===\r\nr.clientNonce.length)throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server n\\\r\nonce is too short\")}else throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: serv\\\r\ner nonce does not start with client nonce\");var i=d.from(n.salt,\"base64\"),s=nu(e,\r\ni,n.iteration),o=De(s,\"Client Key\"),u=ru(o),c=\"n=*,r=\"+r.clientNonce,h=\"r=\"+n.nonce+\r\n\",s=\"+n.salt+\",i=\"+n.iteration,l=\"c=biws,r=\"+n.nonce,y=c+\",\"+h+\",\"+l,E=De(u,y),_=ki(\r\no,E),P=_.toString(\"base64\"),N=De(s,\"Server Key\"),J=De(N,y);r.message=\"SASLRespon\\\r\nse\",r.serverSignature=J.toString(\"base64\"),r.response=l+\",p=\"+P}a(Za,\"continueSe\\\r\nssion\");function Ja(r,e){if(r.message!==\"SASLResponse\")throw new Error(\"SASL: La\\\r\nst message was not SASLResponse\");if(typeof e!=\"string\")throw new Error(\"SASL: S\\\r\nCRAM-SERVER-FINAL-MESSAGE: serverData must be a string\");let{serverSignature:t}=tu(\r\ne);if(t!==r.serverSignature)throw new Error(\"SASL: SCRAM-SERVER-FINAL-MESSAGE: s\\\r\nerver signature does not match\")}a(Ja,\"finalizeSession\");function Xa(r){if(typeof r!=\r\n\"string\")throw new TypeError(\"SASL: text must be a string\");return r.split(\"\").map(\r\n(e,t)=>r.charCodeAt(t)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}a(Xa,\"isPrintableC\\\r\nhars\");function Di(r){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.\r\ntest(r)}a(Di,\"isBase64\");function Oi(r){if(typeof r!=\"string\")throw new TypeError(\r\n\"SASL: attribute pairs text must be a string\");return new Map(r.split(\",\").map(e=>{\r\nif(!/^.=/.test(e))throw new Error(\"SASL: Invalid attribute pair entry\");let t=e[0],\r\nn=e.substring(2);return[t,n]}))}a(Oi,\"parseAttributePairs\");function eu(r){let e=Oi(\r\nr),t=e.get(\"r\");if(t){if(!Xa(t))throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAG\\\r\nE: nonce must only contain printable characters\")}else throw new Error(\"SASL: SC\\\r\nRAM-SERVER-FIRST-MESSAGE: nonce missing\");let n=e.get(\"s\");if(n){if(!Di(n))throw new Error(\r\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64\")}else throw new Error(\"S\\\r\nASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing\");let i=e.get(\"i\");if(i){if(!/^[1-9][0-9]*$/.\r\ntest(i))throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration cou\\\r\nnt\")}else throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing\");\r\nlet s=parseInt(i,10);return{nonce:t,salt:n,iteration:s}}a(eu,\"parseServerFirstMe\\\r\nssage\");function tu(r){let t=Oi(r).get(\"v\");if(t){if(!Di(t))throw new Error(\"SAS\\\r\nL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64\")}else throw new Error(\r\n\"SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing\");return{serverSignature:t}}\r\na(tu,\"parseServerFinalMessage\");function ki(r,e){if(!d.isBuffer(r))throw new TypeError(\r\n\"first argument must be a Buffer\");if(!d.isBuffer(e))throw new TypeError(\"second\\\r\n argument must be a Buffer\");if(r.length!==e.length)throw new Error(\"Buffer leng\\\r\nths must match\");if(r.length===0)throw new Error(\"Buffers cannot be empty\");return d.\r\nfrom(r.map((t,n)=>r[n]^e[n]))}a(ki,\"xorBuffers\");function ru(r){return Jt.createHash(\r\n\"sha256\").update(r).digest()}a(ru,\"sha256\");function De(r,e){return Jt.createHmac(\r\n\"sha256\",r).update(e).digest()}a(De,\"hmacSha256\");function nu(r,e,t){for(var n=De(\r\nr,d.concat([e,d.from([0,0,0,1])])),i=n,s=0;s<t-1;s++)n=De(r,n),i=ki(i,n);return i}\r\na(nu,\"Hi\");Ui.exports={startSession:Ya,continueSession:Za,finalizeSession:Ja}});var Xt={};X(Xt,{join:()=>iu});function iu(...r){return r.join(\"/\")}var er=K(()=>{\r\n\"use strict\";p();a(iu,\"join\")});var tr={};X(tr,{stat:()=>su});function su(r,e){e(new Error(\"No filesystem\"))}var rr=K(\r\n()=>{\"use strict\";p();a(su,\"stat\")});var nr={};X(nr,{default:()=>ou});var ou,ir=K(()=>{\"use strict\";p();ou={}});var Ni={};X(Ni,{StringDecoder:()=>sr});var or,sr,Qi=K(()=>{\"use strict\";p();or=class or{constructor(e){\r\nT(this,\"td\");this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){\r\nreturn this.td.decode(e)}};a(or,\"StringDecoder\");sr=or});var Gi=I((il,Hi)=>{\"use strict\";p();var{Transform:au}=(ir(),k(nr)),{StringDecoder:uu}=(Qi(),k(Ni)),\r\nwe=Symbol(\"last\"),pt=Symbol(\"decoder\");function cu(r,e,t){let n;if(this.overflow){\r\nif(n=this[pt].write(r).split(this.matcher),n.length===1)return t();n.shift(),this.\r\noverflow=!1}else this[we]+=this[pt].write(r),n=this[we].split(this.matcher);this[we]=\r\nn.pop();for(let i=0;i<n.length;i++)try{ji(this,this.mapper(n[i]))}catch(s){return t(\r\ns)}if(this.overflow=this[we].length>this.maxLength,this.overflow&&!this.skipOverflow){\r\nt(new Error(\"maximum buffer reached\"));return}t()}a(cu,\"transform\");function hu(r){\r\nif(this[we]+=this[pt].end(),this[we])try{ji(this,this.mapper(this[we]))}catch(e){\r\nreturn r(e)}r()}a(hu,\"flush\");function ji(r,e){e!==void 0&&r.push(e)}a(ji,\"push\");\r\nfunction Wi(r){return r}a(Wi,\"noop\");function lu(r,e,t){switch(r=r||/\\r?\\n/,e=e||\r\nWi,t=t||{},arguments.length){case 1:typeof r==\"function\"?(e=r,r=/\\r?\\n/):typeof r==\r\n\"object\"&&!(r instanceof RegExp)&&!r[Symbol.split]&&(t=r,r=/\\r?\\n/);break;case 2:\r\ntypeof r==\"function\"?(t=e,e=r,r=/\\r?\\n/):typeof e==\"object\"&&(t=e,e=Wi)}t=Object.\r\nassign({},t),t.autoDestroy=!0,t.transform=cu,t.flush=hu,t.readableObjectMode=!0;\r\nlet n=new au(t);return n[we]=\"\",n[pt]=new uu(\"utf8\"),n.matcher=r,n.mapper=e,n.maxLength=\r\nt.maxLength,n.skipOverflow=t.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,s){\r\nthis._writableState.errorEmitted=!1,s(i)},n}a(lu,\"split\");Hi.exports=lu});var Vi=I((al,fe)=>{\"use strict\";p();var $i=(er(),k(Xt)),fu=(ir(),k(nr)).Stream,pu=Gi(),\r\nKi=(Ge(),k(He)),du=5432,dt=m.platform===\"win32\",rt=m.stderr,yu=56,mu=7,gu=61440,\r\nwu=32768;function bu(r){return(r&gu)==wu}a(bu,\"isRegFile\");var Oe=[\"host\",\"port\",\r\n\"database\",\"user\",\"password\"],ar=Oe.length,Su=Oe[ar-1];function ur(){var r=rt instanceof\r\nfu&&rt.writable===!0;if(r){var e=Array.prototype.slice.call(arguments).concat(`\r\n`);rt.write(Ki.format.apply(Ki,e))}}a(ur,\"warn\");Object.defineProperty(fe.exports,\r\n\"isWin\",{get:function(){return dt},set:function(r){dt=r}});fe.exports.warnTo=function(r){\r\nvar e=rt;return rt=r,e};fe.exports.getFileName=function(r){var e=r||m.env,t=e.PGPASSFILE||\r\n(dt?$i.join(e.APPDATA||\"./\",\"postgresql\",\"pgpass.conf\"):$i.join(e.HOME||\"./\",\".p\\\r\ngpass\"));return t};fe.exports.usePgPass=function(r,e){return Object.prototype.hasOwnProperty.\r\ncall(m.env,\"PGPASSWORD\")?!1:dt?!0:(e=e||\"<unkn>\",bu(r.mode)?r.mode&(yu|mu)?(ur('\\\r\nWARNING: password file \"%s\" has group or world access; permissions should be u=r\\\r\nw (0600) or less',e),!1):!0:(ur('WARNING: password file \"%s\" is not a plain file',\r\ne),!1))};var xu=fe.exports.match=function(r,e){return Oe.slice(0,-1).reduce(function(t,n,i){\r\nreturn i==1&&Number(r[n]||du)===Number(e[n])?t&&!0:t&&(e[n]===\"*\"||e[n]===r[n])},\r\n!0)};fe.exports.getPassword=function(r,e,t){var n,i=e.pipe(pu());function s(c){var h=Eu(\r\nc);h&&vu(h)&&xu(r,h)&&(n=h[Su],i.end())}a(s,\"onLine\");var o=a(function(){e.destroy(),\r\nt(n)},\"onEnd\"),u=a(function(c){e.destroy(),ur(\"WARNING: error on reading file: %\\\r\ns\",c),t(void 0)},\"onErr\");e.on(\"error\",u),i.on(\"data\",s).on(\"end\",o).on(\"error\",\r\nu)};var Eu=fe.exports.parseLine=function(r){if(r.length<11||r.match(/^\\s+#/))return null;\r\nfor(var e=\"\",t=\"\",n=0,i=0,s=0,o={},u=!1,c=a(function(l,y,E){var _=r.substring(y,\r\nE);Object.hasOwnProperty.call(m.env,\"PGPASS_NO_DEESCAPE\")||(_=_.replace(/\\\\([:\\\\])/g,\r\n\"$1\")),o[Oe[l]]=_},\"addToObj\"),h=0;h<r.length-1;h+=1){if(e=r.charAt(h+1),t=r.charAt(\r\nh),u=n==ar-1,u){c(n,i);break}h>=0&&e==\":\"&&t!==\"\\\\\"&&(c(n,i,h+1),i=h+2,n+=1)}return o=\r\nObject.keys(o).length===ar?o:null,o},vu=fe.exports.isValidEntry=function(r){for(var e={\r\n0:function(o){return o.length>0},1:function(o){return o===\"*\"?!0:(o=Number(o),isFinite(\r\no)&&o>0&&o<9007199254740992&&Math.floor(o)===o)},2:function(o){return o.length>0},\r\n3:function(o){return o.length>0},4:function(o){return o.length>0}},t=0;t<Oe.length;t+=\r\n1){var n=e[t],i=r[Oe[t]]||\"\",s=n(i);if(!s)return!1}return!0}});var Yi=I((ll,cr)=>{\"use strict\";p();var hl=(er(),k(Xt)),zi=(rr(),k(tr)),yt=Vi();\r\ncr.exports=function(r,e){var t=yt.getFileName();zi.stat(t,function(n,i){if(n||!yt.\r\nusePgPass(i,t))return e(void 0);var s=zi.createReadStream(t);yt.getPassword(r,s,\r\ne)})};cr.exports.warnTo=yt.warnTo});var hr=I((pl,Zi)=>{\"use strict\";p();var _u=Xe();function mt(r){this._types=r||_u,\r\nthis.text={},this.binary={}}a(mt,\"TypeOverrides\");mt.prototype.getOverrides=function(r){\r\nswitch(r){case\"text\":return this.text;case\"binary\":return this.binary;default:return{}}};\r\nmt.prototype.setTypeParser=function(r,e,t){typeof e==\"function\"&&(t=e,e=\"text\"),\r\nthis.getOverrides(e)[r]=t};mt.prototype.getTypeParser=function(r,e){return e=e||\r\n\"text\",this.getOverrides(e)[r]||this._types.getTypeParser(r,e)};Zi.exports=mt});var Ji={};X(Ji,{default:()=>Au});var Au,Xi=K(()=>{\"use strict\";p();Au={}});var es={};X(es,{parse:()=>lr});function lr(r,e=!1){let{protocol:t}=new URL(r),n=\"\\\r\nhttp:\"+r.substring(t.length),{username:i,password:s,host:o,hostname:u,port:c,pathname:h,\r\nsearch:l,searchParams:y,hash:E}=new URL(n);s=decodeURIComponent(s);let _=i+\":\"+s,\r\nP=e?Object.fromEntries(y.entries()):l;return{href:r,protocol:t,auth:_,username:i,\r\npassword:s,host:o,hostname:u,port:c,pathname:h,search:l,query:P,hash:E}}var fr=K(\r\n()=>{\"use strict\";p();a(lr,\"parse\")});var rs=I((bl,ts)=>{\"use strict\";p();var Cu=(fr(),k(es)),pr=(rr(),k(tr));function dr(r){\r\nif(r.charAt(0)===\"/\"){var t=r.split(\" \");return{host:t[0],database:t[1]}}var e=Cu.\r\nparse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(r)?encodeURI(r).replace(/\\%25(\\d\\d)/g,\r\n\"%$1\"):r,!0),t=e.query;for(var n in t)Array.isArray(t[n])&&(t[n]=t[n][t[n].length-\r\n1]);var i=(e.auth||\":\").split(\":\");if(t.user=i[0],t.password=i.splice(1).join(\":\"),\r\nt.port=e.port,e.protocol==\"socket:\")return t.host=decodeURI(e.pathname),t.database=\r\ne.query.db,t.client_encoding=e.query.encoding,t;t.host||(t.host=e.hostname);var s=e.\r\npathname;if(!t.host&&s&&/^%2f/i.test(s)){var o=s.split(\"/\");t.host=decodeURIComponent(\r\no[0]),s=o.splice(1).join(\"/\")}switch(s&&s.charAt(0)===\"/\"&&(s=s.slice(1)||null),\r\nt.database=s&&decodeURI(s),(t.ssl===\"true\"||t.ssl===\"1\")&&(t.ssl=!0),t.ssl===\"0\"&&\r\n(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&\r\n(t.ssl.cert=pr.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=pr.readFileSync(\r\nt.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=pr.readFileSync(t.sslrootcert).toString()),\r\nt.sslmode){case\"disable\":{t.ssl=!1;break}case\"prefer\":case\"require\":case\"verify-\\\r\nca\":case\"verify-full\":break;case\"no-verify\":{t.ssl.rejectUnauthorized=!1;break}}\r\nreturn t}a(dr,\"parse\");ts.exports=dr;dr.parse=dr});var gt=I((El,ss)=>{\"use strict\";p();var Iu=(Xi(),k(Ji)),is=et(),ns=rs().parse,V=a(\r\nfunction(r,e,t){return t===void 0?t=m.env[\"PG\"+r.toUpperCase()]:t===!1||(t=m.env[t]),\r\ne[r]||t||is[r]},\"val\"),Tu=a(function(){switch(m.env.PGSSLMODE){case\"disable\":return!1;case\"\\\r\nprefer\":case\"require\":case\"verify-ca\":case\"verify-full\":return!0;case\"no-verify\":\r\nreturn{rejectUnauthorized:!1}}return is.ssl},\"readSSLConfigFromEnvironment\"),ke=a(\r\nfunction(r){return\"'\"+(\"\"+r).replace(/\\\\/g,\"\\\\\\\\\").replace(/'/g,\"\\\\'\")+\"'\"},\"quo\\\r\nteParamValue\"),re=a(function(r,e,t){var n=e[t];n!=null&&r.push(t+\"=\"+ke(n))},\"ad\\\r\nd\"),mr=class mr{constructor(e){e=typeof e==\"string\"?ns(e):e||{},e.connectionString&&\r\n(e=Object.assign({},e,ns(e.connectionString))),this.user=V(\"user\",e),this.database=\r\nV(\"database\",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(\r\nV(\"port\",e),10),this.host=V(\"host\",e),Object.defineProperty(this,\"password\",{configurable:!0,\r\nenumerable:!1,writable:!0,value:V(\"password\",e)}),this.binary=V(\"binary\",e),this.\r\noptions=V(\"options\",e),this.ssl=typeof e.ssl>\"u\"?Tu():e.ssl,typeof this.ssl==\"st\\\r\nring\"&&this.ssl===\"true\"&&(this.ssl=!0),this.ssl===\"no-verify\"&&(this.ssl={rejectUnauthorized:!1}),\r\nthis.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,\"key\",{enumerable:!1}),this.\r\nclient_encoding=V(\"client_encoding\",e),this.replication=V(\"replication\",e),this.\r\nisDomainSocket=!(this.host||\"\").indexOf(\"/\"),this.application_name=V(\"applicatio\\\r\nn_name\",e,\"PGAPPNAME\"),this.fallback_application_name=V(\"fallback_application_na\\\r\nme\",e,!1),this.statement_timeout=V(\"statement_timeout\",e,!1),this.lock_timeout=V(\r\n\"lock_timeout\",e,!1),this.idle_in_transaction_session_timeout=V(\"idle_in_transac\\\r\ntion_session_timeout\",e,!1),this.query_timeout=V(\"query_timeout\",e,!1),e.connectionTimeoutMillis===\r\nvoid 0?this.connect_timeout=m.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.\r\nfloor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===\r\n!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis==\"number\"&&(this.keepalives_idle=\r\nMath.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];\r\nre(t,this,\"user\"),re(t,this,\"password\"),re(t,this,\"port\"),re(t,this,\"application\\\r\n_name\"),re(t,this,\"fallback_application_name\"),re(t,this,\"connect_timeout\"),re(t,\r\nthis,\"options\");var n=typeof this.ssl==\"object\"?this.ssl:this.ssl?{sslmode:this.\r\nssl}:{};if(re(t,n,\"sslmode\"),re(t,n,\"sslca\"),re(t,n,\"sslkey\"),re(t,n,\"sslcert\"),\r\nre(t,n,\"sslrootcert\"),this.database&&t.push(\"dbname=\"+ke(this.database)),this.replication&&\r\nt.push(\"replication=\"+ke(this.replication)),this.host&&t.push(\"host=\"+ke(this.host)),\r\nthis.isDomainSocket)return e(null,t.join(\" \"));this.client_encoding&&t.push(\"cli\\\r\nent_encoding=\"+ke(this.client_encoding)),Iu.lookup(this.host,function(i,s){return i?\r\ne(i,null):(t.push(\"hostaddr=\"+ke(s)),e(null,t.join(\" \")))})}};a(mr,\"ConnectionPa\\\r\nrameters\");var yr=mr;ss.exports=yr});var us=I((Al,as)=>{\"use strict\";p();var Pu=Xe(),os=/^([A-Za-z]+)(?: (\\d+))?(?: (\\d+))?/,\r\nwr=class wr{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,\r\nthis.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,\r\nthis.rowAsArray=e===\"array\",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){\r\nvar t;e.text?t=os.exec(e.text):t=os.exec(e.command),t&&(this.command=t[1],t[3]?(this.\r\noid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(\r\nt[2],10)))}_parseRowAsArray(e){for(var t=new Array(e.length),n=0,i=e.length;n<i;n++){\r\nvar s=e[n];s!==null?t[n]=this._parsers[n](s):t[n]=null}return t}parseRow(e){for(var t={},\r\nn=0,i=e.length;n<i;n++){var s=e[n],o=this.fields[n].name;s!==null?t[o]=this._parsers[n](\r\ns):t[o]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.\r\nfields.length&&(this._parsers=new Array(e.length));for(var t=0;t<e.length;t++){var n=e[t];\r\nthis._types?this._parsers[t]=this._types.getTypeParser(n.dataTypeID,n.format||\"t\\\r\next\"):this._parsers[t]=Pu.getTypeParser(n.dataTypeID,n.format||\"text\")}}};a(wr,\"\\\r\nResult\");var gr=wr;as.exports=gr});var fs=I((Tl,ls)=>{\"use strict\";p();var{EventEmitter:Bu}=ge(),cs=us(),hs=tt(),Sr=class Sr extends Bu{constructor(e,t,n){\r\nsuper(),e=hs.normalizeQueryConfig(e,t,n),this.text=e.text,this.values=e.values,this.\r\nrows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=\r\ne.portal||\"\",this.callback=e.callback,this._rowMode=e.rowMode,m.domain&&e.callback&&\r\n(this.callback=m.domain.bind(e.callback)),this._result=new cs(this._rowMode,this.\r\ntypes),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=\r\n!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.\r\ntext||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&\r\n(Array.isArray(this._results)||(this._results=[this._result]),this._result=new cs(\r\nthis._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){\r\nthis._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.\r\ncallback||!this.listeners(\"row\").length}handleDataRow(e){let t;if(!this._canceledDueToError){\r\ntry{t=this._result.parseRow(e.fields)}catch(n){this._canceledDueToError=n;return}\r\nthis.emit(\"row\",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){\r\nthis._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){\r\nthis.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,\r\nthis._canceledDueToError=!1),this.callback)return this.callback(e);this.emit(\"er\\\r\nror\",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(\r\nthis._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(t){\r\nm.nextTick(()=>{throw t})}this.emit(\"end\",this._results)}submit(e){if(typeof this.\r\ntext!=\"string\"&&typeof this.name!=\"string\")return new Error(\"A query must have e\\\r\nither text or a name. Supplying neither is unsupported.\");let t=e.parsedStatements[this.\r\nname];return this.text&&t&&this.text!==t?new Error(`Prepared statements must be \\\r\nunique - '${this.name}' was used for a different statement`):this.values&&!Array.\r\nisArray(this.values)?new Error(\"Query values must be an array\"):(this.requiresPreparation()?\r\nthis.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.\r\nname]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute(\r\n{portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=\r\n!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});\r\ntry{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.\r\nbinary,valueMapper:hs.prepareValue})}catch(t){this.handleError(t,e);return}e.describe(\r\n{type:\"P\",name:this.portal||\"\"}),this._getRows(e,this.rows)}handleCopyInResponse(e){\r\ne.sendCopyFail(\"No source stream defined\")}handleCopyData(e,t){}};a(Sr,\"Query\");\r\nvar br=Sr;ls.exports=br});var ds={};X(ds,{Socket:()=>_e,isIP:()=>Lu});function Lu(r){return 0}var ps,x,_e,\r\nwt=K(()=>{\"use strict\";p();ps=We(ge(),1);a(Lu,\"isIP\");x=class x extends ps.EventEmitter{constructor(){\r\nsuper(...arguments);T(this,\"opts\",{});T(this,\"connecting\",!1);T(this,\"pending\",!0);\r\nT(this,\"writable\",!0);T(this,\"encrypted\",!1);T(this,\"authorized\",!1);T(this,\"des\\\r\ntroyed\",!1);T(this,\"ws\",null);T(this,\"writeBuffer\");T(this,\"tlsState\",0);T(this,\r\n\"tlsRead\");T(this,\"tlsWrite\")}static get poolQueryViaFetch(){return x.opts.poolQueryViaFetch??\r\nx.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){x.opts.poolQueryViaFetch=\r\nt}static get fetchEndpoint(){return x.opts.fetchEndpoint??x.defaults.fetchEndpoint}static set fetchEndpoint(t){\r\nx.opts.fetchEndpoint=t}static get fetchConnectionCache(){return x.opts.fetchConnectionCache??\r\nx.defaults.fetchConnectionCache}static set fetchConnectionCache(t){x.opts.fetchConnectionCache=\r\nt}static get fetchFunction(){return x.opts.fetchFunction??x.defaults.fetchFunction}static set fetchFunction(t){\r\nx.opts.fetchFunction=t}static get webSocketConstructor(){return x.opts.webSocketConstructor??\r\nx.defaults.webSocketConstructor}static set webSocketConstructor(t){x.opts.webSocketConstructor=\r\nt}get webSocketConstructor(){return this.opts.webSocketConstructor??x.webSocketConstructor}set webSocketConstructor(t){\r\nthis.opts.webSocketConstructor=t}static get wsProxy(){return x.opts.wsProxy??x.defaults.\r\nwsProxy}static set wsProxy(t){x.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??\r\nx.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return x.\r\nopts.coalesceWrites??x.defaults.coalesceWrites}static set coalesceWrites(t){x.opts.\r\ncoalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??x.coalesceWrites}set coalesceWrites(t){\r\nthis.opts.coalesceWrites=t}static get useSecureWebSocket(){return x.opts.useSecureWebSocket??\r\nx.defaults.useSecureWebSocket}static set useSecureWebSocket(t){x.opts.useSecureWebSocket=\r\nt}get useSecureWebSocket(){return this.opts.useSecureWebSocket??x.useSecureWebSocket}set useSecureWebSocket(t){\r\nthis.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return x.opts.forceDisablePgSSL??\r\nx.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){x.opts.forceDisablePgSSL=\r\nt}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??x.forceDisablePgSSL}set forceDisablePgSSL(t){\r\nthis.opts.forceDisablePgSSL=t}static get disableSNI(){return x.opts.disableSNI??\r\nx.defaults.disableSNI}static set disableSNI(t){x.opts.disableSNI=t}get disableSNI(){\r\nreturn this.opts.disableSNI??x.disableSNI}set disableSNI(t){this.opts.disableSNI=\r\nt}static get pipelineConnect(){return x.opts.pipelineConnect??x.defaults.pipelineConnect}static set pipelineConnect(t){\r\nx.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??\r\nx.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){\r\nreturn x.opts.subtls??x.defaults.subtls}static set subtls(t){x.opts.subtls=t}get subtls(){\r\nreturn this.opts.subtls??x.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){\r\nreturn x.opts.pipelineTLS??x.defaults.pipelineTLS}static set pipelineTLS(t){x.opts.\r\npipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??x.pipelineTLS}set pipelineTLS(t){\r\nthis.opts.pipelineTLS=t}static get rootCerts(){return x.opts.rootCerts??x.defaults.\r\nrootCerts}static set rootCerts(t){x.opts.rootCerts=t}get rootCerts(){return this.\r\nopts.rootCerts??x.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,n){\r\nlet i=this.wsProxy;if(i===void 0)throw new Error(\"No WebSocket proxy is configur\\\r\ned. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#ws\\\r\nproxy-string--host-string-port-number--string--string\");return typeof i==\"functi\\\r\non\"?i(t,n):`${i}?address=${t}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){\r\nreturn this}unref(){return this}connect(t,n,i){this.connecting=!0,i&&this.once(\"\\\r\nconnect\",i);let s=a(()=>{this.connecting=!1,this.pending=!1,this.emit(\"connect\"),\r\nthis.emit(\"ready\")},\"handleWebSocketOpen\"),o=a((c,h=!1)=>{c.binaryType=\"arraybuf\\\r\nfer\",c.addEventListener(\"error\",l=>{this.emit(\"error\",l),this.emit(\"close\")}),c.\r\naddEventListener(\"message\",l=>{if(this.tlsState===0){let y=d.from(l.data);this.emit(\r\n\"data\",y)}}),c.addEventListener(\"close\",()=>{this.emit(\"close\")}),h?s():c.addEventListener(\r\n\"open\",s)},\"configureWebSocket\"),u;try{u=this.wsProxyAddrForHost(n,typeof t==\"st\\\r\nring\"?parseInt(t,10):t)}catch(c){this.emit(\"error\",c),this.emit(\"close\");return}\r\ntry{let h=(this.useSecureWebSocket?\"wss:\":\"ws:\")+\"//\"+u;if(this.webSocketConstructor!==\r\nvoid 0)this.ws=new this.webSocketConstructor(h),o(this.ws);else try{this.ws=new WebSocket(\r\nh),o(this.ws)}catch{this.ws=new __unstable_WebSocket(h),o(this.ws)}}catch(c){let l=(this.\r\nuseSecureWebSocket?\"https:\":\"http:\")+\"//\"+u;fetch(l,{headers:{Upgrade:\"websocket\"}}).\r\nthen(y=>{if(this.ws=y.webSocket,this.ws==null)throw c;this.ws.accept(),o(this.ws,\r\n!0)}).catch(y=>{this.emit(\"error\",new Error(`All attempts to open a WebSocket to\\\r\n connect to the database failed. Please refer to https://github.com/neondatabase\\\r\n/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\\\r\n. Details: ${y.message}`)),this.emit(\"close\")})}}async startTls(t){if(this.subtls===\r\nvoid 0)throw new Error(\"For Postgres SSL connections, you must set `neonConfig.s\\\r\nubtls` to the subtls library. See https://github.com/neondatabase/serverless/blo\\\r\nb/main/CONFIG.md for more information.\");this.tlsState=1;let n=this.subtls.TrustedCert.\r\nfromPEM(this.rootCerts),i=new this.subtls.WebSocketReadQueue(this.ws),s=i.read.bind(\r\ni),o=this.rawWrite.bind(this),[u,c]=await this.subtls.startTls(t,n,s,o,{useSNI:!this.\r\ndisableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=\r\nu,this.tlsWrite=c,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit(\r\n\"secureConnection\",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.\r\ntlsRead();if(t===void 0)break;{let n=d.from(t);this.emit(\"data\",n)}}}rawWrite(t){\r\nif(!this.coalesceWrites){this.ws.send(t);return}if(this.writeBuffer===void 0)this.\r\nwriteBuffer=t,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},\r\n0);else{let n=new Uint8Array(this.writeBuffer.length+t.length);n.set(this.writeBuffer),\r\nn.set(t,this.writeBuffer.length),this.writeBuffer=n}}write(t,n=\"utf8\",i=s=>{}){return t.\r\nlength===0?(i(),!0):(typeof t==\"string\"&&(t=d.from(t,n)),this.tlsState===0?(this.\r\nrawWrite(t),i()):this.tlsState===1?this.once(\"secureConnection\",()=>{this.write(\r\nt,n,i)}):(this.tlsWrite(t),i()),!0)}end(t=d.alloc(0),n=\"utf8\",i=()=>{}){return this.\r\nwrite(t,n,()=>{this.ws.close(),i()}),this}destroy(){return this.destroyed=!0,this.\r\nend()}};a(x,\"Socket\"),T(x,\"defaults\",{poolQueryViaFetch:!1,fetchEndpoint:t=>\"htt\\\r\nps://\"+t+\"/sql\",fetchConnectionCache:!1,fetchFunction:void 0,webSocketConstructor:void 0,\r\nwsProxy:t=>t+\"/v2\",useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,\r\npipelineConnect:\"password\",subtls:void 0,rootCerts:\"\",pipelineTLS:!1,disableSNI:!1}),\r\nT(x,\"opts\",{});_e=x});var zr=I(C=>{\"use strict\";p();Object.defineProperty(C,\"__esModule\",{value:!0});C.\r\nNoticeMessage=C.DataRowMessage=C.CommandCompleteMessage=C.ReadyForQueryMessage=C.\r\nNotificationResponseMessage=C.BackendKeyDataMessage=C.AuthenticationMD5Password=\r\nC.ParameterStatusMessage=C.ParameterDescriptionMessage=C.RowDescriptionMessage=C.\r\nField=C.CopyResponse=C.CopyDataMessage=C.DatabaseError=C.copyDone=C.emptyQuery=C.\r\nreplicationStart=C.portalSuspended=C.noData=C.closeComplete=C.bindComplete=C.parseComplete=\r\nvoid 0;C.parseComplete={name:\"parseComplete\",length:5};C.bindComplete={name:\"bin\\\r\ndComplete\",length:5};C.closeComplete={name:\"closeComplete\",length:5};C.noData={name:\"\\\r\nnoData\",length:5};C.portalSuspended={name:\"portalSuspended\",length:5};C.replicationStart=\r\n{name:\"replicationStart\",length:4};C.emptyQuery={name:\"emptyQuery\",length:4};C.copyDone=\r\n{name:\"copyDone\",length:4};var Dr=class Dr extends Error{constructor(e,t,n){super(\r\ne),this.length=t,this.name=n}};a(Dr,\"DatabaseError\");var xr=Dr;C.DatabaseError=xr;\r\nvar Or=class Or{constructor(e,t){this.length=e,this.chunk=t,this.name=\"copyData\"}};\r\na(Or,\"CopyDataMessage\");var Er=Or;C.CopyDataMessage=Er;var kr=class kr{constructor(e,t,n,i){\r\nthis.length=e,this.name=t,this.binary=n,this.columnTypes=new Array(i)}};a(kr,\"Co\\\r\npyResponse\");var vr=kr;C.CopyResponse=vr;var Ur=class Ur{constructor(e,t,n,i,s,o,u){\r\nthis.name=e,this.tableID=t,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=s,\r\nthis.dataTypeModifier=o,this.format=u}};a(Ur,\"Field\");var _r=Ur;C.Field=_r;var qr=class qr{constructor(e,t){\r\nthis.length=e,this.fieldCount=t,this.name=\"rowDescription\",this.fields=new Array(\r\nthis.fieldCount)}};a(qr,\"RowDescriptionMessage\");var Ar=qr;C.RowDescriptionMessage=\r\nAr;var Nr=class Nr{constructor(e,t){this.length=e,this.parameterCount=t,this.name=\r\n\"parameterDescription\",this.dataTypeIDs=new Array(this.parameterCount)}};a(Nr,\"P\\\r\narameterDescriptionMessage\");var Cr=Nr;C.ParameterDescriptionMessage=Cr;var Qr=class Qr{constructor(e,t,n){\r\nthis.length=e,this.parameterName=t,this.parameterValue=n,this.name=\"parameterSta\\\r\ntus\"}};a(Qr,\"ParameterStatusMessage\");var Ir=Qr;C.ParameterStatusMessage=Ir;var Wr=class Wr{constructor(e,t){\r\nthis.length=e,this.salt=t,this.name=\"authenticationMD5Password\"}};a(Wr,\"Authenti\\\r\ncationMD5Password\");var Tr=Wr;C.AuthenticationMD5Password=Tr;var jr=class jr{constructor(e,t,n){\r\nthis.length=e,this.processID=t,this.secretKey=n,this.name=\"backendKeyData\"}};a(jr,\r\n\"BackendKeyDataMessage\");var Pr=jr;C.BackendKeyDataMessage=Pr;var Hr=class Hr{constructor(e,t,n,i){\r\nthis.length=e,this.processId=t,this.channel=n,this.payload=i,this.name=\"notifica\\\r\ntion\"}};a(Hr,\"NotificationResponseMessage\");var Br=Hr;C.NotificationResponseMessage=\r\nBr;var Gr=class Gr{constructor(e,t){this.length=e,this.status=t,this.name=\"ready\\\r\nForQuery\"}};a(Gr,\"ReadyForQueryMessage\");var Lr=Gr;C.ReadyForQueryMessage=Lr;var $r=class $r{constructor(e,t){\r\nthis.length=e,this.text=t,this.name=\"commandComplete\"}};a($r,\"CommandCompleteMes\\\r\nsage\");var Rr=$r;C.CommandCompleteMessage=Rr;var Kr=class Kr{constructor(e,t){this.\r\nlength=e,this.fields=t,this.name=\"dataRow\",this.fieldCount=t.length}};a(Kr,\"Data\\\r\nRowMessage\");var Fr=Kr;C.DataRowMessage=Fr;var Vr=class Vr{constructor(e,t){this.\r\nlength=e,this.message=t,this.name=\"notice\"}};a(Vr,\"NoticeMessage\");var Mr=Vr;C.NoticeMessage=\r\nMr});var ys=I(bt=>{\"use strict\";p();Object.defineProperty(bt,\"__esModule\",{value:!0});\r\nbt.Writer=void 0;var Zr=class Zr{constructor(e=256){this.size=e,this.offset=5,this.\r\nheaderPosition=0,this.buffer=d.allocUnsafe(e)}ensure(e){var t=this.buffer.length-\r\nthis.offset;if(t<e){var n=this.buffer,i=n.length+(n.length>>1)+e;this.buffer=d.allocUnsafe(\r\ni),n.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=\r\ne>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>\r\n8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),\r\nthis.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){\r\nif(!e)this.ensure(1);else{var t=d.byteLength(e);this.ensure(t+1),this.buffer.write(\r\ne,this.offset,\"utf-8\"),this.offset+=t}return this.buffer[this.offset++]=0,this}addString(e=\"\"){\r\nvar t=d.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.\r\noffset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),\r\nthis.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.\r\noffset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}\r\nreturn this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.\r\noffset=5,this.headerPosition=0,this.buffer=d.allocUnsafe(this.size),t}};a(Zr,\"Wr\\\r\niter\");var Yr=Zr;bt.Writer=Yr});var gs=I(xt=>{\"use strict\";p();Object.defineProperty(xt,\"__esModule\",{value:!0});\r\nxt.serialize=void 0;var Jr=ys(),F=new Jr.Writer,Ru=a(r=>{F.addInt16(3).addInt16(\r\n0);for(let n of Object.keys(r))F.addCString(n).addCString(r[n]);F.addCString(\"cl\\\r\nient_encoding\").addCString(\"UTF8\");var e=F.addCString(\"\").flush(),t=e.length+4;return new Jr.\r\nWriter().addInt32(t).add(e).flush()},\"startup\"),Fu=a(()=>{let r=d.allocUnsafe(8);\r\nreturn r.writeInt32BE(8,0),r.writeInt32BE(80877103,4),r},\"requestSsl\"),Mu=a(r=>F.\r\naddCString(r).flush(112),\"password\"),Du=a(function(r,e){return F.addCString(r).addInt32(\r\nd.byteLength(e)).addString(e),F.flush(112)},\"sendSASLInitialResponseMessage\"),Ou=a(\r\nfunction(r){return F.addString(r).flush(112)},\"sendSCRAMClientFinalMessage\"),ku=a(\r\nr=>F.addCString(r).flush(81),\"query\"),ms=[],Uu=a(r=>{let e=r.name||\"\";e.length>63&&\r\n(console.error(\"Warning! Postgres only supports 63 characters for query names.\"),\r\nconsole.error(\"You supplied %s (%s)\",e,e.length),console.error(\"This can cause c\\\r\nonflicts and silent errors executing queries\"));let t=r.types||ms;for(var n=t.length,\r\ni=F.addCString(e).addCString(r.text).addInt16(n),s=0;s<n;s++)i.addInt32(t[s]);return F.\r\nflush(80)},\"parse\"),Ue=new Jr.Writer,qu=a(function(r,e){for(let t=0;t<r.length;t++){\r\nlet n=e?e(r[t],t):r[t];n==null?(F.addInt16(0),Ue.addInt32(-1)):n instanceof d?(F.\r\naddInt16(1),Ue.addInt32(n.length),Ue.add(n)):(F.addInt16(0),Ue.addInt32(d.byteLength(\r\nn)),Ue.addString(n))}},\"writeValues\"),Nu=a((r={})=>{let e=r.portal||\"\",t=r.statement||\r\n\"\",n=r.binary||!1,i=r.values||ms,s=i.length;return F.addCString(e).addCString(t),\r\nF.addInt16(s),qu(i,r.valueMapper),F.addInt16(s),F.add(Ue.flush()),F.addInt16(n?1:\r\n0),F.flush(66)},\"bind\"),Qu=d.from([69,0,0,0,9,0,0,0,0,0]),Wu=a(r=>{if(!r||!r.portal&&\r\n!r.rows)return Qu;let e=r.portal||\"\",t=r.rows||0,n=d.byteLength(e),i=4+n+1+4,s=d.\r\nallocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(e,5,\"utf-8\"),s[n+5]=\r\n0,s.writeUInt32BE(t,s.length-4),s},\"execute\"),ju=a((r,e)=>{let t=d.allocUnsafe(16);\r\nreturn t.writeInt32BE(16,0),t.writeInt16BE(1234,4),t.writeInt16BE(5678,6),t.writeInt32BE(\r\nr,8),t.writeInt32BE(e,12),t},\"cancel\"),Xr=a((r,e)=>{let n=4+d.byteLength(e)+1,i=d.\r\nallocUnsafe(1+n);return i[0]=r,i.writeInt32BE(n,1),i.write(e,5,\"utf-8\"),i[n]=0,i},\r\n\"cstringMessage\"),Hu=F.addCString(\"P\").flush(68),Gu=F.addCString(\"S\").flush(68),\r\n$u=a(r=>r.name?Xr(68,`${r.type}${r.name||\"\"}`):r.type===\"P\"?Hu:Gu,\"describe\"),Ku=a(\r\nr=>{let e=`${r.type}${r.name||\"\"}`;return Xr(67,e)},\"close\"),Vu=a(r=>F.add(r).flush(\r\n100),\"copyData\"),zu=a(r=>Xr(102,r),\"copyFail\"),St=a(r=>d.from([r,0,0,0,4]),\"code\\\r\nOnlyBuffer\"),Yu=St(72),Zu=St(83),Ju=St(88),Xu=St(99),ec={startup:Ru,password:Mu,\r\nrequestSsl:Fu,sendSASLInitialResponseMessage:Du,sendSCRAMClientFinalMessage:Ou,query:ku,\r\nparse:Uu,bind:Nu,execute:Wu,describe:$u,close:Ku,flush:()=>Yu,sync:()=>Zu,end:()=>Ju,\r\ncopyData:Vu,copyDone:()=>Xu,copyFail:zu,cancel:ju};xt.serialize=ec});var ws=I(Et=>{\"use strict\";p();Object.defineProperty(Et,\"__esModule\",{value:!0});\r\nEt.BufferReader=void 0;var tc=d.allocUnsafe(0),tn=class tn{constructor(e=0){this.\r\noffset=e,this.buffer=tc,this.encoding=\"utf-8\"}setBuffer(e,t){this.offset=e,this.\r\nbuffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=\r\n2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.\r\nbuffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.\r\ntoString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){\r\nlet e=this.offset,t=e;for(;this.buffer[t++]!==0;);return this.offset=t,this.buffer.\r\ntoString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.\r\noffset+e);return this.offset+=e,t}};a(tn,\"BufferReader\");var en=tn;Et.BufferReader=\r\nen});var bs={};X(bs,{default:()=>rc});var rc,Ss=K(()=>{\"use strict\";p();rc={}});var vs=I(qe=>{\"use strict\";p();var nc=qe&&qe.__importDefault||function(r){return r&&\r\nr.__esModule?r:{default:r}};Object.defineProperty(qe,\"__esModule\",{value:!0});qe.\r\nParser=void 0;var M=zr(),ic=ws(),sc=nc((Ss(),k(bs))),rn=1,oc=4,xs=rn+oc,Es=d.allocUnsafe(\r\n0),sn=class sn{constructor(e){if(this.buffer=Es,this.bufferLength=0,this.bufferOffset=\r\n0,this.reader=new ic.BufferReader,e?.mode===\"binary\")throw new Error(\"Binary mod\\\r\ne not supported yet\");this.mode=e?.mode||\"text\"}parse(e,t){this.mergeBuffer(e);let n=this.\r\nbufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+xs<=n;){let s=this.buffer[i],\r\no=this.buffer.readUInt32BE(i+rn),u=rn+o;if(u+i<=n){let c=this.handlePacket(i+xs,\r\ns,o,this.buffer);t(c),i+=u}else break}i===n?(this.buffer=Es,this.bufferLength=0,\r\nthis.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(e){\r\nif(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>\r\nthis.buffer.byteLength){let i;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.\r\nbufferLength)i=this.buffer;else{let s=this.buffer.byteLength*2;for(;t>=s;)s*=2;i=\r\nd.allocUnsafe(s)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+this.bufferLength),\r\nthis.buffer=i,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),\r\nthis.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,t,n,i){\r\nswitch(t){case 50:return M.bindComplete;case 49:return M.parseComplete;case 51:return M.\r\ncloseComplete;case 110:return M.noData;case 115:return M.portalSuspended;case 99:\r\nreturn M.copyDone;case 87:return M.replicationStart;case 73:return M.emptyQuery;case 68:\r\nreturn this.parseDataRowMessage(e,n,i);case 67:return this.parseCommandCompleteMessage(\r\ne,n,i);case 90:return this.parseReadyForQueryMessage(e,n,i);case 65:return this.\r\nparseNotificationMessage(e,n,i);case 82:return this.parseAuthenticationResponse(\r\ne,n,i);case 83:return this.parseParameterStatusMessage(e,n,i);case 75:return this.\r\nparseBackendKeyData(e,n,i);case 69:return this.parseErrorMessage(e,n,i,\"error\");case 78:\r\nreturn this.parseErrorMessage(e,n,i,\"notice\");case 84:return this.parseRowDescriptionMessage(\r\ne,n,i);case 116:return this.parseParameterDescriptionMessage(e,n,i);case 71:return this.\r\nparseCopyInMessage(e,n,i);case 72:return this.parseCopyOutMessage(e,n,i);case 100:\r\nreturn this.parseCopyData(e,n,i);default:sc.default.fail(`unknown message code: ${t.\r\ntoString(16)}`)}}parseReadyForQueryMessage(e,t,n){this.reader.setBuffer(e,n);let i=this.\r\nreader.string(1);return new M.ReadyForQueryMessage(t,i)}parseCommandCompleteMessage(e,t,n){\r\nthis.reader.setBuffer(e,n);let i=this.reader.cstring();return new M.CommandCompleteMessage(\r\nt,i)}parseCopyData(e,t,n){let i=n.slice(e,e+(t-4));return new M.CopyDataMessage(\r\nt,i)}parseCopyInMessage(e,t,n){return this.parseCopyMessage(e,t,n,\"copyInRespons\\\r\ne\")}parseCopyOutMessage(e,t,n){return this.parseCopyMessage(e,t,n,\"copyOutRespon\\\r\nse\")}parseCopyMessage(e,t,n,i){this.reader.setBuffer(e,n);let s=this.reader.byte()!==\r\n0,o=this.reader.int16(),u=new M.CopyResponse(t,i,s,o);for(let c=0;c<o;c++)u.columnTypes[c]=\r\nthis.reader.int16();return u}parseNotificationMessage(e,t,n){this.reader.setBuffer(\r\ne,n);let i=this.reader.int32(),s=this.reader.cstring(),o=this.reader.cstring();return new M.\r\nNotificationResponseMessage(t,i,s,o)}parseRowDescriptionMessage(e,t,n){this.reader.\r\nsetBuffer(e,n);let i=this.reader.int16(),s=new M.RowDescriptionMessage(t,i);for(let o=0;o<\r\ni;o++)s.fields[o]=this.parseField();return s}parseField(){let e=this.reader.cstring(),\r\nt=this.reader.int32(),n=this.reader.int16(),i=this.reader.int32(),s=this.reader.\r\nint16(),o=this.reader.int32(),u=this.reader.int16()===0?\"text\":\"binary\";return new M.\r\nField(e,t,n,i,s,o,u)}parseParameterDescriptionMessage(e,t,n){this.reader.setBuffer(\r\ne,n);let i=this.reader.int16(),s=new M.ParameterDescriptionMessage(t,i);for(let o=0;o<\r\ni;o++)s.dataTypeIDs[o]=this.reader.int32();return s}parseDataRowMessage(e,t,n){this.\r\nreader.setBuffer(e,n);let i=this.reader.int16(),s=new Array(i);for(let o=0;o<i;o++){\r\nlet u=this.reader.int32();s[o]=u===-1?null:this.reader.string(u)}return new M.DataRowMessage(\r\nt,s)}parseParameterStatusMessage(e,t,n){this.reader.setBuffer(e,n);let i=this.reader.\r\ncstring(),s=this.reader.cstring();return new M.ParameterStatusMessage(t,i,s)}parseBackendKeyData(e,t,n){\r\nthis.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.int32();return new M.\r\nBackendKeyDataMessage(t,i,s)}parseAuthenticationResponse(e,t,n){this.reader.setBuffer(\r\ne,n);let i=this.reader.int32(),s={name:\"authenticationOk\",length:t};switch(i){case 0:\r\nbreak;case 3:s.length===8&&(s.name=\"authenticationCleartextPassword\");break;case 5:\r\nif(s.length===12){s.name=\"authenticationMD5Password\";let u=this.reader.bytes(4);\r\nreturn new M.AuthenticationMD5Password(t,u)}break;case 10:s.name=\"authentication\\\r\nSASL\",s.mechanisms=[];let o;do o=this.reader.cstring(),o&&s.mechanisms.push(o);while(o);\r\nbreak;case 11:s.name=\"authenticationSASLContinue\",s.data=this.reader.string(t-8);\r\nbreak;case 12:s.name=\"authenticationSASLFinal\",s.data=this.reader.string(t-8);break;default:\r\nthrow new Error(\"Unknown authenticationOk message type \"+i)}return s}parseErrorMessage(e,t,n,i){\r\nthis.reader.setBuffer(e,n);let s={},o=this.reader.string(1);for(;o!==\"\\0\";)s[o]=\r\nthis.reader.cstring(),o=this.reader.string(1);let u=s.M,c=i===\"notice\"?new M.NoticeMessage(\r\nt,u):new M.DatabaseError(u,t,i);return c.severity=s.S,c.code=s.C,c.detail=s.D,c.\r\nhint=s.H,c.position=s.P,c.internalPosition=s.p,c.internalQuery=s.q,c.where=s.W,c.\r\nschema=s.s,c.table=s.t,c.column=s.c,c.dataType=s.d,c.constraint=s.n,c.file=s.F,c.\r\nline=s.L,c.routine=s.R,c}};a(sn,\"Parser\");var nn=sn;qe.Parser=nn});var on=I(be=>{\"use strict\";p();Object.defineProperty(be,\"__esModule\",{value:!0});\r\nbe.DatabaseError=be.serialize=be.parse=void 0;var ac=zr();Object.defineProperty(\r\nbe,\"DatabaseError\",{enumerable:!0,get:function(){return ac.DatabaseError}});var uc=gs();\r\nObject.defineProperty(be,\"serialize\",{enumerable:!0,get:function(){return uc.serialize}});\r\nvar cc=vs();function hc(r,e){let t=new cc.Parser;return r.on(\"data\",n=>t.parse(n,\r\ne)),new Promise(n=>r.on(\"end\",()=>n()))}a(hc,\"parse\");be.parse=hc});var _s={};X(_s,{connect:()=>lc});function lc({socket:r,servername:e}){return r.startTls(\r\ne),r}var As=K(()=>{\"use strict\";p();a(lc,\"connect\")});var cn=I((ef,Ts)=>{\"use strict\";p();var Cs=(wt(),k(ds)),fc=ge().EventEmitter,{parse:pc,\r\nserialize:q}=on(),Is=q.flush(),dc=q.sync(),yc=q.end(),un=class un extends fc{constructor(e){\r\nsuper(),e=e||{},this.stream=e.stream||new Cs.Socket,this._keepAlive=e.keepAlive,\r\nthis._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=\r\n!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=\r\n!1;var t=this;this.on(\"newListener\",function(n){n===\"message\"&&(t._emitMessage=!0)})}connect(e,t){\r\nvar n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,\r\nt),this.stream.once(\"connect\",function(){n._keepAlive&&n.stream.setKeepAlive(!0,\r\nn._keepAliveInitialDelayMillis),n.emit(\"connect\")});let i=a(function(s){n._ending&&\r\n(s.code===\"ECONNRESET\"||s.code===\"EPIPE\")||n.emit(\"error\",s)},\"reportStreamError\");\r\nif(this.stream.on(\"error\",i),this.stream.on(\"close\",function(){n.emit(\"end\")}),!this.\r\nssl)return this.attachListeners(this.stream);this.stream.once(\"data\",function(s){\r\nvar o=s.toString(\"utf8\");switch(o){case\"S\":break;case\"N\":return n.stream.end(),n.\r\nemit(\"error\",new Error(\"The server does not support SSL connections\"));default:return n.\r\nstream.end(),n.emit(\"error\",new Error(\"There was an error establishing an SSL co\\\r\nnnection\"))}var u=(As(),k(_s));let c={socket:n.stream};n.ssl!==!0&&(Object.assign(\r\nc,n.ssl),\"key\"in n.ssl&&(c.key=n.ssl.key)),Cs.isIP(t)===0&&(c.servername=t);try{\r\nn.stream=u.connect(c)}catch(h){return n.emit(\"error\",h)}n.attachListeners(n.stream),\r\nn.stream.on(\"error\",i),n.emit(\"sslconnect\")})}attachListeners(e){e.on(\"end\",()=>{\r\nthis.emit(\"end\")}),pc(e,t=>{var n=t.name===\"error\"?\"errorMessage\":t.name;this._emitMessage&&\r\nthis.emit(\"message\",t),this.emit(n,t)})}requestSsl(){this.stream.write(q.requestSsl())}startup(e){\r\nthis.stream.write(q.startup(e))}cancel(e,t){this._send(q.cancel(e,t))}password(e){\r\nthis._send(q.password(e))}sendSASLInitialResponseMessage(e,t){this._send(q.sendSASLInitialResponseMessage(\r\ne,t))}sendSCRAMClientFinalMessage(e){this._send(q.sendSCRAMClientFinalMessage(e))}_send(e){\r\nreturn this.stream.writable?this.stream.write(e):!1}query(e){this._send(q.query(\r\ne))}parse(e){this._send(q.parse(e))}bind(e){this._send(q.bind(e))}execute(e){this.\r\n_send(q.execute(e))}flush(){this.stream.writable&&this.stream.write(Is)}sync(){this.\r\n_ending=!0,this._send(Is),this._send(dc)}ref(){this.stream.ref()}unref(){this.stream.\r\nunref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.\r\nstream.end();return}return this.stream.write(yc,()=>{this.stream.end()})}close(e){\r\nthis._send(q.close(e))}describe(e){this._send(q.describe(e))}sendCopyFromChunk(e){\r\nthis._send(q.copyData(e))}endCopyFrom(){this._send(q.copyDone())}sendCopyFail(e){\r\nthis._send(q.copyFail(e))}};a(un,\"Connection\");var an=un;Ts.exports=an});var Ls=I((sf,Bs)=>{\"use strict\";p();var mc=ge().EventEmitter,nf=(Ge(),k(He)),gc=tt(),\r\nhn=qi(),wc=Yi(),bc=hr(),Sc=gt(),Ps=fs(),xc=et(),Ec=cn(),ln=class ln extends mc{constructor(e){\r\nsuper(),this.connectionParameters=new Sc(e),this.user=this.connectionParameters.\r\nuser,this.database=this.connectionParameters.database,this.port=this.connectionParameters.\r\nport,this.host=this.connectionParameters.host,Object.defineProperty(this,\"passwo\\\r\nrd\",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),\r\nthis.replication=this.connectionParameters.replication;var t=e||{};this._Promise=\r\nt.Promise||b.Promise,this._types=new bc(t.types),this._ending=!1,this._connecting=\r\n!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=\r\nt.connection||new Ec({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.\r\nkeepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.\r\nconnectionParameters.client_encoding||\"utf8\"}),this.queryQueue=[],this.binary=t.\r\nbinary||xc.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.\r\nssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,\"key\",{enumerable:!1}),\r\nthis._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=a(\r\nn=>{m.nextTick(()=>{n.handleError(e,this.connection)})},\"enqueueError\");this.activeQuery&&\r\n(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.\r\nlength=0}_connect(e){var t=this,n=this.connection;if(this._connectionCallback=e,\r\nthis._connecting||this._connected){let i=new Error(\"Client has already been conn\\\r\nected. You cannot reuse a client.\");m.nextTick(()=>{e(i)});return}this._connecting=\r\n!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=\r\nsetTimeout(()=>{n._ending=!0,n.stream.destroy(new Error(\"timeout expired\"))},this.\r\n_connectionTimeoutMillis)),this.host&&this.host.indexOf(\"/\")===0?n.connect(this.\r\nhost+\"/.s.PGSQL.\"+this.port):n.connect(this.port,this.host),n.on(\"connect\",function(){\r\nt.ssl?n.requestSsl():n.startup(t.getStartupConf())}),n.on(\"sslconnect\",function(){\r\nn.startup(t.getStartupConf())}),this._attachListeners(n),n.once(\"end\",()=>{let i=this.\r\n_ending?new Error(\"Connection terminated\"):new Error(\"Connection terminated unex\\\r\npectedly\");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this.\r\n_ending||(this._connecting&&!this._connectionError?this._connectionCallback?this.\r\n_connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(\r\ni)),m.nextTick(()=>{this.emit(\"end\")})})}connect(e){if(e){this._connect(e);return}\r\nreturn new this._Promise((t,n)=>{this._connect(i=>{i?n(i):t()})})}_attachListeners(e){\r\ne.on(\"authenticationCleartextPassword\",this._handleAuthCleartextPassword.bind(this)),\r\ne.on(\"authenticationMD5Password\",this._handleAuthMD5Password.bind(this)),e.on(\"a\\\r\nuthenticationSASL\",this._handleAuthSASL.bind(this)),e.on(\"authenticationSASLCont\\\r\ninue\",this._handleAuthSASLContinue.bind(this)),e.on(\"authenticationSASLFinal\",this.\r\n_handleAuthSASLFinal.bind(this)),e.on(\"backendKeyData\",this._handleBackendKeyData.\r\nbind(this)),e.on(\"error\",this._handleErrorEvent.bind(this)),e.on(\"errorMessage\",\r\nthis._handleErrorMessage.bind(this)),e.on(\"readyForQuery\",this._handleReadyForQuery.\r\nbind(this)),e.on(\"notice\",this._handleNotice.bind(this)),e.on(\"rowDescription\",this.\r\n_handleRowDescription.bind(this)),e.on(\"dataRow\",this._handleDataRow.bind(this)),\r\ne.on(\"portalSuspended\",this._handlePortalSuspended.bind(this)),e.on(\"emptyQuery\",\r\nthis._handleEmptyQuery.bind(this)),e.on(\"commandComplete\",this._handleCommandComplete.\r\nbind(this)),e.on(\"parseComplete\",this._handleParseComplete.bind(this)),e.on(\"cop\\\r\nyInResponse\",this._handleCopyInResponse.bind(this)),e.on(\"copyData\",this._handleCopyData.\r\nbind(this)),e.on(\"notification\",this._handleNotification.bind(this))}_checkPgPass(e){\r\nlet t=this.connection;typeof this.password==\"function\"?this._Promise.resolve().then(\r\n()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!=\"string\"){t.emit(\"erro\\\r\nr\",new TypeError(\"Password must be a string\"));return}this.connectionParameters.\r\npassword=this.password=n}else this.connectionParameters.password=this.password=null;\r\ne()}).catch(n=>{t.emit(\"error\",n)}):this.password!==null?e():wc(this.connectionParameters,\r\nn=>{n!==void 0&&(this.connectionParameters.password=this.password=n),e()})}_handleAuthCleartextPassword(e){\r\nthis._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){\r\nthis._checkPgPass(()=>{let t=gc.postgresMd5PasswordHash(this.user,this.password,\r\ne.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{\r\nthis.saslSession=hn.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(\r\nthis.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){\r\nhn.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(\r\nthis.saslSession.response)}_handleAuthSASLFinal(e){hn.finalizeSession(this.saslSession,\r\ne.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,\r\nthis.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=\r\n!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&\r\n(this._connectionCallback(null,this),this._connectionCallback=null),this.emit(\"c\\\r\nonnect\"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&\r\nt.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){\r\nif(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),\r\nthis._connectionCallback)return this._connectionCallback(e);this.emit(\"error\",e)}}_handleErrorEvent(e){\r\nif(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,\r\nthis._errorAllQueries(e),this.emit(\"error\",e)}_handleErrorMessage(e){if(this._connecting)\r\nreturn this._handleErrorWhileConnecting(e);let t=this.activeQuery;if(!t){this._handleErrorEvent(\r\ne);return}this.activeQuery=null,t.handleError(e,this.connection)}_handleRowDescription(e){\r\nthis.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(\r\ne)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){\r\nthis.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.\r\nactiveQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.\r\nactiveQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.\r\nactiveQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(\r\nthis.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){\r\nthis.emit(\"notification\",e)}_handleNotice(e){this.emit(\"notice\",e)}getStartupConf(){\r\nvar e=this.connectionParameters,t={user:e.user,database:e.database},n=e.application_name||\r\ne.fallback_application_name;return n&&(t.application_name=n),e.replication&&(t.replication=\r\n\"\"+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,\r\n10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&\r\n(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,\r\n10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var n=this.\r\nconnection;this.host&&this.host.indexOf(\"/\")===0?n.connect(this.host+\"/.s.PGSQL.\"+\r\nthis.port):n.connect(this.port,this.host),n.on(\"connect\",function(){n.cancel(e.processID,\r\ne.secretKey)})}else e.queryQueue.indexOf(t)!==-1&&e.queryQueue.splice(e.queryQueue.\r\nindexOf(t),1)}setTypeParser(e,t,n){return this._types.setTypeParser(e,t,n)}getTypeParser(e,t){\r\nreturn this._types.getTypeParser(e,t)}escapeIdentifier(e){return'\"'+e.replace(/\"/g,\r\n'\"\"')+'\"'}escapeLiteral(e){for(var t=!1,n=\"'\",i=0;i<e.length;i++){var s=e[i];s===\r\n\"'\"?n+=s+s:s===\"\\\\\"?(n+=s+s,t=!0):n+=s}return n+=\"'\",t===!0&&(n=\" E\"+n),n}_pulseQueryQueue(){\r\nif(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){\r\nthis.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);\r\ne&&m.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=\r\n!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.\r\nemit(\"drain\"))}query(e,t,n){var i,s,o,u,c;if(e==null)throw new TypeError(\"Client\\\r\n was passed a null or undefined query\");return typeof e.submit==\"function\"?(o=e.\r\nquery_timeout||this.connectionParameters.query_timeout,s=i=e,typeof t==\"function\"&&\r\n(i.callback=i.callback||t)):(o=this.connectionParameters.query_timeout,i=new Ps(\r\ne,t,n),i.callback||(s=new this._Promise((h,l)=>{i.callback=(y,E)=>y?l(y):h(E)}))),\r\no&&(c=i.callback,u=setTimeout(()=>{var h=new Error(\"Query read timeout\");m.nextTick(\r\n()=>{i.handleError(h,this.connection)}),c(h),i.callback=()=>{};var l=this.queryQueue.\r\nindexOf(i);l>-1&&this.queryQueue.splice(l,1),this._pulseQueryQueue()},o),i.callback=\r\n(h,l)=>{clearTimeout(u),c(h,l)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&\r\n!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(m.\r\nnextTick(()=>{i.handleError(new Error(\"Client was closed and is not queryable\"),\r\nthis.connection)}),s):(this.queryQueue.push(i),this._pulseQueryQueue(),s):(m.nextTick(\r\n()=>{i.handleError(new Error(\"Client has encountered a connection error and is n\\\r\not queryable\"),this.connection)}),s)}ref(){this.connection.ref()}unref(){this.connection.\r\nunref()}end(e){if(this._ending=!0,!this.connection._connecting)if(e)e();else return this.\r\n_Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.\r\ndestroy():this.connection.end(),e)this.connection.once(\"end\",e);else return new this.\r\n_Promise(t=>{this.connection.once(\"end\",t)})}};a(ln,\"Client\");var vt=ln;vt.Query=\r\nPs;Bs.exports=vt});var Ds=I((uf,Ms)=>{\"use strict\";p();var vc=ge().EventEmitter,Rs=a(function(){},\"\\\r\nNOOP\"),Fs=a((r,e)=>{let t=r.findIndex(e);return t===-1?void 0:r.splice(t,1)[0]},\r\n\"removeWhere\"),dn=class dn{constructor(e,t,n){this.client=e,this.idleListener=t,\r\nthis.timeoutId=n}};a(dn,\"IdleItem\");var fn=dn,yn=class yn{constructor(e){this.callback=\r\ne}};a(yn,\"PendingItem\");var Ne=yn;function _c(){throw new Error(\"Release called \\\r\non client which has already been released to the pool.\")}a(_c,\"throwOnDoubleRele\\\r\nase\");function _t(r,e){if(e)return{callback:e,result:void 0};let t,n,i=a(function(o,u){\r\no?t(o):n(u)},\"cb\"),s=new r(function(o,u){n=o,t=u}).catch(o=>{throw Error.captureStackTrace(\r\no),o});return{callback:i,result:s}}a(_t,\"promisify\");function Ac(r,e){return a(function t(n){\r\nn.client=e,e.removeListener(\"error\",t),e.on(\"error\",()=>{r.log(\"additional clien\\\r\nt error after disconnection due to error\",n)}),r._remove(e),r.emit(\"error\",n,e)},\r\n\"idleListener\")}a(Ac,\"makeIdleListener\");var mn=class mn extends vc{constructor(e,t){\r\nsuper(),this.options=Object.assign({},e),e!=null&&\"password\"in e&&Object.defineProperty(\r\nthis.options,\"password\",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),\r\ne!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,\"key\",{enumerable:!1}),\r\nthis.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=\r\nthis.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||\r\n!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.\r\noptions.log||function(){},this.Client=this.options.Client||t||At().Client,this.Promise=\r\nthis.options.Promise||b.Promise,typeof this.options.idleTimeoutMillis>\"u\"&&(this.\r\noptions.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,\r\nthis._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){\r\nreturn this._clients.length>=this.options.max}_pulseQueue(){if(this.log(\"pulse q\\\r\nueue\"),this.ended){this.log(\"pulse queue ended\");return}if(this.ending){this.log(\r\n\"pulse queue on ending\"),this._idle.length&&this._idle.slice().map(t=>{this._remove(\r\nt.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this.\r\n_pendingQueue.length){this.log(\"no queued requests\");return}if(!this._idle.length&&\r\nthis._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this.\r\n_idle.pop();clearTimeout(t.timeoutId);let n=t.client;n.ref&&n.ref();let i=t.idleListener;\r\nreturn this._acquireClient(n,e,i,!1)}if(!this._isFull())return this.newClient(e);\r\nthrow new Error(\"unexpected condition\")}_remove(e){let t=Fs(this._idle,n=>n.client===\r\ne);t!==void 0&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(n=>n!==\r\ne),e.end(),this.emit(\"remove\",e)}connect(e){if(this.ending){let i=new Error(\"Can\\\r\nnot use a pool after calling end on the pool\");return e?e(i):this.Promise.reject(\r\ni)}let t=_t(this.Promise,e),n=t.result;if(this._isFull()||this._idle.length){if(this.\r\n_idle.length&&m.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)\r\nreturn this._pendingQueue.push(new Ne(t.callback)),n;let i=a((u,c,h)=>{clearTimeout(\r\no),t.callback(u,c,h)},\"queueCallback\"),s=new Ne(i),o=setTimeout(()=>{Fs(this._pendingQueue,\r\nu=>u.callback===i),s.timedOut=!0,t.callback(new Error(\"timeout exceeded when try\\\r\ning to connect\"))},this.options.connectionTimeoutMillis);return this._pendingQueue.\r\npush(s),n}return this.newClient(new Ne(t.callback)),n}newClient(e){let t=new this.\r\nClient(this.options);this._clients.push(t);let n=Ac(this,t);this.log(\"checking c\\\r\nlient timeout\");let i,s=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{\r\nthis.log(\"ending client due to timeout\"),s=!0,t.connection?t.connection.stream.destroy():\r\nt.end()},this.options.connectionTimeoutMillis)),this.log(\"connecting new client\"),\r\nt.connect(o=>{if(i&&clearTimeout(i),t.on(\"error\",n),o)this.log(\"client failed to\\\r\n connect\",o),this._clients=this._clients.filter(u=>u!==t),s&&(o.message=\"Connect\\\r\nion terminated due to connection timeout\"),this._pulseQueue(),e.timedOut||e.callback(\r\no,void 0,Rs);else{if(this.log(\"new client connected\"),this.options.maxLifetimeSeconds!==\r\n0){let u=setTimeout(()=>{this.log(\"ending client due to expired lifetime\"),this.\r\n_expired.add(t),this._idle.findIndex(h=>h.client===t)!==-1&&this._acquireClient(\r\nt,new Ne((h,l,y)=>y()),n,!1)},this.options.maxLifetimeSeconds*1e3);u.unref(),t.once(\r\n\"end\",()=>clearTimeout(u))}return this._acquireClient(t,e,n,!0)}})}_acquireClient(e,t,n,i){\r\ni&&this.emit(\"connect\",e),this.emit(\"acquire\",e),e.release=this._releaseOnce(e,n),\r\ne.removeListener(\"error\",n),t.timedOut?i&&this.options.verify?this.options.verify(\r\ne,e.release):e.release():i&&this.options.verify?this.options.verify(e,s=>{if(s)return e.\r\nrelease(s),t.callback(s,void 0,Rs);t.callback(void 0,e,e.release)}):t.callback(void 0,\r\ne,e.release)}_releaseOnce(e,t){let n=!1;return i=>{n&&_c(),n=!0,this._release(e,\r\nt,i)}}_release(e,t,n){if(e.on(\"error\",t),e._poolUseCount=(e._poolUseCount||0)+1,\r\nthis.emit(\"release\",n,e),n||this.ending||!e._queryable||e._ending||e._poolUseCount>=\r\nthis.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log(\"remove ex\\\r\npended client\"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){\r\nthis.log(\"remove expired client\"),this._expired.delete(e),this._remove(e),this._pulseQueue();\r\nreturn}let s;this.options.idleTimeoutMillis&&(s=setTimeout(()=>{this.log(\"remove\\\r\n idle client\"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&\r\ns.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new fn(e,t,s)),\r\nthis._pulseQueue()}query(e,t,n){if(typeof e==\"function\"){let s=_t(this.Promise,e);\r\nreturn S(function(){return s.callback(new Error(\"Passing a function as the first\\\r\n parameter to pool.query is not supported\"))}),s.result}typeof t==\"function\"&&(n=\r\nt,t=void 0);let i=_t(this.Promise,n);return n=i.callback,this.connect((s,o)=>{if(s)\r\nreturn n(s);let u=!1,c=a(h=>{u||(u=!0,o.release(h),n(h))},\"onError\");o.once(\"err\\\r\nor\",c),this.log(\"dispatching query\");try{o.query(e,t,(h,l)=>{if(this.log(\"query \\\r\ndispatched\"),o.removeListener(\"error\",c),!u)return u=!0,o.release(h),h?n(h):n(void 0,\r\nl)})}catch(h){return o.release(h),n(h)}}),i.result}end(e){if(this.log(\"ending\"),\r\nthis.ending){let n=new Error(\"Called end on pool more than once\");return e?e(n):\r\nthis.Promise.reject(n)}this.ending=!0;let t=_t(this.Promise,e);return this._endCallback=\r\nt.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.\r\nlength}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.\r\nreduce((e,t)=>e+(this._expired.has(t)?1:0),0)}get totalCount(){return this._clients.\r\nlength}};a(mn,\"Pool\");var pn=mn;Ms.exports=pn});var Os={};X(Os,{default:()=>Cc});var Cc,ks=K(()=>{\"use strict\";p();Cc={}});var Us=I((ff,Ic)=>{Ic.exports={name:\"pg\",version:\"8.8.0\",description:\"PostgreSQL\\\r\n client - pure javascript & libpq with the same API\",keywords:[\"database\",\"libpq\",\r\n\"pg\",\"postgre\",\"postgres\",\"postgresql\",\"rdbms\"],homepage:\"https://github.com/bri\\\r\nanc/node-postgres\",repository:{type:\"git\",url:\"git://github.com/brianc/node-post\\\r\ngres.git\",directory:\"packages/pg\"},author:\"Brian Carlson <brian.m.carlson@gmail.\\\r\ncom>\",main:\"./lib\",dependencies:{\"buffer-writer\":\"2.0.0\",\"packet-reader\":\"1.0.0\",\r\n\"pg-connection-string\":\"^2.5.0\",\"pg-pool\":\"^3.5.2\",\"pg-protocol\":\"^1.5.0\",\"pg-ty\\\r\npes\":\"^2.1.0\",pgpass:\"1.x\"},devDependencies:{async:\"2.6.4\",bluebird:\"3.5.2\",co:\"\\\r\n4.6.0\",\"pg-copy-streams\":\"0.3.0\"},peerDependencies:{\"pg-native\":\">=3.0.1\"},peerDependenciesMeta:{\r\n\"pg-native\":{optional:!0}},scripts:{test:\"make test-all\"},files:[\"lib\",\"SPONSORS\\\r\n.md\"],license:\"MIT\",engines:{node:\">= 8.0.0\"},gitHead:\"c99fb2c127ddf8d712500db2c\\\r\n7b9a5491a178655\"}});var Qs=I((pf,Ns)=>{\"use strict\";p();var qs=ge().EventEmitter,Tc=(Ge(),k(He)),gn=tt(),\r\nQe=Ns.exports=function(r,e,t){qs.call(this),r=gn.normalizeQueryConfig(r,e,t),this.\r\ntext=r.text,this.values=r.values,this.name=r.name,this.callback=r.callback,this.\r\nstate=\"new\",this._arrayMode=r.rowMode===\"array\",this._emitRowEvents=!1,this.on(\"\\\r\nnewListener\",function(n){n===\"row\"&&(this._emitRowEvents=!0)}.bind(this))};Tc.inherits(\r\nQe,qs);var Pc={sqlState:\"code\",statementPosition:\"position\",messagePrimary:\"mess\\\r\nage\",context:\"where\",schemaName:\"schema\",tableName:\"table\",columnName:\"column\",dataTypeName:\"\\\r\ndataType\",constraintName:\"constraint\",sourceFile:\"file\",sourceLine:\"line\",sourceFunction:\"\\\r\nroutine\"};Qe.prototype.handleError=function(r){var e=this.native.pq.resultErrorFields();\r\nif(e)for(var t in e){var n=Pc[t]||t;r[n]=e[t]}this.callback?this.callback(r):this.\r\nemit(\"error\",r),this.state=\"error\"};Qe.prototype.then=function(r,e){return this.\r\n_getPromise().then(r,e)};Qe.prototype.catch=function(r){return this._getPromise().\r\ncatch(r)};Qe.prototype._getPromise=function(){return this._promise?this._promise:\r\n(this._promise=new Promise(function(r,e){this._once(\"end\",r),this._once(\"error\",\r\ne)}.bind(this)),this._promise)};Qe.prototype.submit=function(r){this.state=\"runn\\\r\ning\";var e=this;this.native=r.native,r.native.arrayMode=this._arrayMode;var t=a(\r\nfunction(s,o,u){if(r.native.arrayMode=!1,S(function(){e.emit(\"_done\")}),s)return e.\r\nhandleError(s);e._emitRowEvents&&(u.length>1?o.forEach((c,h)=>{c.forEach(l=>{e.emit(\r\n\"row\",l,u[h])})}):o.forEach(function(c){e.emit(\"row\",c,u)})),e.state=\"end\",e.emit(\r\n\"end\",u),e.callback&&e.callback(null,u)},\"after\");if(m.domain&&(t=m.domain.bind(\r\nt)),this.name){this.name.length>63&&(console.error(\"Warning! Postgres only suppo\\\r\nrts 63 characters for query names.\"),console.error(\"You supplied %s (%s)\",this.name,\r\nthis.name.length),console.error(\"This can cause conflicts and silent errors exec\\\r\nuting queries\"));var n=(this.values||[]).map(gn.prepareValue);if(r.namedQueries[this.\r\nname]){if(this.text&&r.namedQueries[this.name]!==this.text){let s=new Error(`Pre\\\r\npared statements must be unique - '${this.name}' was used for a different statem\\\r\nent`);return t(s)}return r.native.execute(this.name,n,t)}return r.native.prepare(\r\nthis.name,this.text,n.length,function(s){return s?t(s):(r.namedQueries[e.name]=e.\r\ntext,e.native.execute(e.name,n,t))})}else if(this.values){if(!Array.isArray(this.\r\nvalues)){let s=new Error(\"Query values must be an array\");return t(s)}var i=this.\r\nvalues.map(gn.prepareValue);r.native.query(this.text,i,t)}else r.native.query(this.\r\ntext,t)}});var Gs=I((gf,Hs)=>{\"use strict\";p();var Bc=(ks(),k(Os)),Lc=hr(),mf=Us(),Ws=ge().\r\nEventEmitter,Rc=(Ge(),k(He)),Fc=gt(),js=Qs(),Z=Hs.exports=function(r){Ws.call(this),\r\nr=r||{},this._Promise=r.Promise||b.Promise,this._types=new Lc(r.types),this.native=\r\nnew Bc({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=\r\n!1,this._connected=!1,this._queryable=!0;var e=this.connectionParameters=new Fc(\r\nr);this.user=e.user,Object.defineProperty(this,\"password\",{configurable:!0,enumerable:!1,\r\nwritable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=\r\ne.port,this.namedQueries={}};Z.Query=js;Rc.inherits(Z,Ws);Z.prototype._errorAllQueries=\r\nfunction(r){let e=a(t=>{m.nextTick(()=>{t.native=this.native,t.handleError(r)})},\r\n\"enqueueError\");this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=\r\nnull),this._queryQueue.forEach(e),this._queryQueue.length=0};Z.prototype._connect=\r\nfunction(r){var e=this;if(this._connecting){m.nextTick(()=>r(new Error(\"Client h\\\r\nas already been connected. You cannot reuse a client.\")));return}this._connecting=\r\n!0,this.connectionParameters.getLibpqConnectionString(function(t,n){if(t)return r(\r\nt);e.native.connect(n,function(i){if(i)return e.native.end(),r(i);e._connected=!0,\r\ne.native.on(\"error\",function(s){e._queryable=!1,e._errorAllQueries(s),e.emit(\"er\\\r\nror\",s)}),e.native.on(\"notification\",function(s){e.emit(\"notification\",{channel:s.\r\nrelname,payload:s.extra})}),e.emit(\"connect\"),e._pulseQueryQueue(!0),r()})})};Z.\r\nprototype.connect=function(r){if(r){this._connect(r);return}return new this._Promise(\r\n(e,t)=>{this._connect(n=>{n?t(n):e()})})};Z.prototype.query=function(r,e,t){var n,\r\ni,s,o,u;if(r==null)throw new TypeError(\"Client was passed a null or undefined qu\\\r\nery\");if(typeof r.submit==\"function\")s=r.query_timeout||this.connectionParameters.\r\nquery_timeout,i=n=r,typeof e==\"function\"&&(r.callback=e);else if(s=this.connectionParameters.\r\nquery_timeout,n=new js(r,e,t),!n.callback){let c,h;i=new this._Promise((l,y)=>{c=\r\nl,h=y}),n.callback=(l,y)=>l?h(l):c(y)}return s&&(u=n.callback,o=setTimeout(()=>{\r\nvar c=new Error(\"Query read timeout\");m.nextTick(()=>{n.handleError(c,this.connection)}),\r\nu(c),n.callback=()=>{};var h=this._queryQueue.indexOf(n);h>-1&&this._queryQueue.\r\nsplice(h,1),this._pulseQueryQueue()},s),n.callback=(c,h)=>{clearTimeout(o),u(c,h)}),\r\nthis._queryable?this._ending?(n.native=this.native,m.nextTick(()=>{n.handleError(\r\nnew Error(\"Client was closed and is not queryable\"))}),i):(this._queryQueue.push(\r\nn),this._pulseQueryQueue(),i):(n.native=this.native,m.nextTick(()=>{n.handleError(\r\nnew Error(\"Client has encountered a connection error and is not queryable\"))}),i)};\r\nZ.prototype.end=function(r){var e=this;this._ending=!0,this._connected||this.once(\r\n\"connect\",this.end.bind(this,r));var t;return r||(t=new this._Promise(function(n,i){\r\nr=a(s=>s?i(s):n(),\"cb\")})),this.native.end(function(){e._errorAllQueries(new Error(\r\n\"Connection terminated\")),m.nextTick(()=>{e.emit(\"end\"),r&&r()})}),t};Z.prototype.\r\n_hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!==\"\\\r\nerror\"&&this._activeQuery.state!==\"end\"};Z.prototype._pulseQueryQueue=function(r){\r\nif(this._connected&&!this._hasActiveQuery()){var e=this._queryQueue.shift();if(!e){\r\nr||this.emit(\"drain\");return}this._activeQuery=e,e.submit(this);var t=this;e.once(\r\n\"_done\",function(){t._pulseQueryQueue()})}};Z.prototype.cancel=function(r){this.\r\n_activeQuery===r?this.native.cancel(function(){}):this._queryQueue.indexOf(r)!==\r\n-1&&this._queryQueue.splice(this._queryQueue.indexOf(r),1)};Z.prototype.ref=function(){};\r\nZ.prototype.unref=function(){};Z.prototype.setTypeParser=function(r,e,t){return this.\r\n_types.setTypeParser(r,e,t)};Z.prototype.getTypeParser=function(r,e){return this.\r\n_types.getTypeParser(r,e)}});var wn=I((Sf,$s)=>{\"use strict\";p();$s.exports=Gs()});var At=I((Ef,nt)=>{\"use strict\";p();var Mc=Ls(),Dc=et(),Oc=cn(),kc=Ds(),{DatabaseError:Uc}=on(),\r\nqc=a(r=>{var e;return e=class extends kc{constructor(n){super(n,r)}},a(e,\"BoundP\\\r\nool\"),e},\"poolFactory\"),bn=a(function(r){this.defaults=Dc,this.Client=r,this.Query=\r\nthis.Client.Query,this.Pool=qc(this.Client),this._pools=[],this.Connection=Oc,this.\r\ntypes=Xe(),this.DatabaseError=Uc},\"PG\");typeof m.env.NODE_PG_FORCE_NATIVE<\"u\"?nt.\r\nexports=new bn(wn()):(nt.exports=new bn(Mc),Object.defineProperty(nt.exports,\"na\\\r\ntive\",{configurable:!0,enumerable:!1,get(){var r=null;try{r=new bn(wn())}catch(e){\r\nif(e.code!==\"MODULE_NOT_FOUND\")throw e}return Object.defineProperty(nt.exports,\"\\\r\nnative\",{value:r}),r}}))});p();var Ct=We(At());wt();p();fr();wt();var zs=We(tt());var Sn=class Sn extends Error{constructor(){super(...arguments);T(this,\"name\",\"N\\\r\neonDbError\");T(this,\"code\",null);T(this,\"sourceError\")}};a(Sn,\"NeonDbError\");var Ae=Sn,\r\nKs=\"transaction() expects an array of queries, or a function returning an array \\\r\nof queries\";function Ys(r,{arrayMode:e,fullResults:t,fetchOptions:n,isolationLevel:i,\r\nreadOnly:s,deferrable:o,queryCallback:u,resultCallback:c}={}){if(!r)throw new Error(\r\n\"No database connection string was provided to `neon()`. Perhaps an environment \\\r\nvariable has not been set?\");let h;try{h=lr(r)}catch{throw new Error(\"Database c\\\r\nonnection string provided to `neon()` is not a valid URL. Connection string: \"+String(\r\nr))}let{protocol:l,username:y,password:E,hostname:_,port:P,pathname:N}=h;if(l!==\r\n\"postgres:\"&&l!==\"postgresql:\"||!y||!E||!_||!N)throw new Error(\"Database connect\\\r\nion string format for `neon()` should be: postgresql://user:password@host.tld/db\\\r\nname?option=value\");function J(A,...g){let D,H;if(typeof A==\"string\")D=A,H=g[1],\r\ng=g[0]??[];else{D=\"\";for(let W=0;W<A.length;W++)D+=A[W],W<g.length&&(D+=\"$\"+(W+1))}\r\ng=g.map(W=>(0,zs.prepareValue)(W));let Q={query:D,params:g};return u&&u(Q),Nc(pe,\r\nQ,H)}a(J,\"resolve\"),J.transaction=async(A,g)=>{if(typeof A==\"function\"&&(A=A(J)),\r\n!Array.isArray(A))throw new Error(Ks);let D=A.map(H=>{if(H[Symbol.toStringTag]!==\r\n\"NeonQueryPromise\")throw new Error(Ks);return H.parameterizedQuery});return pe(D,\r\ng)};async function pe(A,g){let D=n??{},{fetchEndpoint:H,fetchConnectionCache:Q,fetchFunction:W}=_e,\r\nue=typeof H==\"function\"?H(_,P):H,de=Array.isArray(A)?{queries:A}:A,L=e??!1,G=t??\r\n!1,ce=i,ye=s,xe=o;g!==void 0&&(g.arrayMode!==void 0&&(L=g.arrayMode),g.fullResults!==\r\nvoid 0&&(G=g.fullResults),g.fetchOptions!==void 0&&(D={...D,...g.fetchOptions}),\r\ng.isolationLevel!==void 0&&(ce=g.isolationLevel),g.readOnly!==void 0&&(ye=g.readOnly),\r\ng.deferrable!==void 0&&(xe=g.deferrable));let he={\"Neon-Connection-String\":r,\"Ne\\\r\non-Raw-Text-Output\":\"true\",\"Neon-Array-Mode\":\"true\"};Q===!0&&(he[\"Neon-Pool-Opt-\\\r\nIn\"]=\"true\"),Array.isArray(A)&&(ce!==void 0&&(he[\"Neon-Batch-Isolation-Level\"]=ce),\r\nye!==void 0&&(he[\"Neon-Batch-Read-Only\"]=String(ye)),xe!==void 0&&(he[\"Neon-Batc\\\r\nh-Deferrable\"]=String(xe)));let ie;try{ie=await(W??fetch)(ue,{method:\"POST\",body:JSON.\r\nstringify(de),headers:he,...D})}catch(se){let $=new Ae(`Error connecting to data\\\r\nbase: ${se.message}`);throw $.sourceError=se,$}if(ie.ok){let se=await ie.json();\r\nif(Array.isArray(A)){let $=se.results;if(!Array.isArray($))throw new Ae(\"Neon in\\\r\nternal error: unexpected result format\");return $.map((ne,Ce)=>Vs(ne,{arrayMode:L,\r\nfullResults:G,parameterizedQuery:A[Ce],resultCallback:c}))}else return Vs(se,{arrayMode:L,\r\nfullResults:G,parameterizedQuery:A,resultCallback:c})}else{let{status:se}=ie;if(se===\r\n400){let{message:$,code:ne}=await ie.json(),Ce=new Ae($);throw Ce.code=ne,Ce}else{\r\nlet $=await ie.text();throw new Ae(`Server error (HTTP status ${se}): ${$}`)}}}return a(\r\npe,\"execute\"),J}a(Ys,\"neon\");function Nc(r,e,t){return{[Symbol.toStringTag]:\"Neo\\\r\nnQueryPromise\",parameterizedQuery:e,opts:t,then:(n,i)=>r(e,t).then(n,i),catch:n=>r(\r\ne,t).catch(n),finally:n=>r(e,t).finally(n)}}a(Nc,\"createNeonQueryPromise\");function Vs(r,{\r\narrayMode:e,fullResults:t,parameterizedQuery:n,resultCallback:i}){let s=r.fields.\r\nmap(c=>c.name),o=r.fields.map(c=>Se.types.getTypeParser(c.dataTypeID)),u=e===!0?\r\nr.rows.map(c=>c.map((h,l)=>h===null?null:o[l](h))):r.rows.map(c=>Object.fromEntries(\r\nc.map((h,l)=>[s[l],h===null?null:o[l](h)])));return i&&i(n,r,u,{arrayMode:e,fullResults:t}),\r\nt?(r.viaNeonFetch=!0,r.rowAsArray=e,r.rows=u,r):u}a(Vs,\"processQueryResult\");var Js=We(gt()),Se=We(At());var En=class En extends Ct.Client{constructor(t){super(t);this.config=t}get neonConfig(){\r\nreturn this.connection.stream}connect(t){let{neonConfig:n}=this;n.forceDisablePgSSL&&\r\n(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn(\"\\\r\nSSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string\\\r\n + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = tru\\\r\ne). Double encryption will increase latency and CPU usage. It may be appropriate\\\r\n to disable SSL in the Postgres connection parameters or set forceDisablePgSSL =\\\r\n true.\");let i=this.config?.host!==void 0||this.config?.connectionString!==void 0||\r\nm.env.PGHOST!==void 0,s=m.env.USER??m.env.USERNAME;if(!i&&this.host===\"localhost\"&&\r\nthis.user===s&&this.database===s&&this.password===null)throw new Error(`No datab\\\r\nase host or connection string was set, and key parameters have default values (h\\\r\nost: localhost, user: ${s}, db: ${s}, password: null). Is an environment variabl\\\r\ne missing? Alternatively, if you intended to connect with these parameters, plea\\\r\nse set the host to 'localhost' explicitly.`);let o=super.connect(t),u=n.pipelineTLS&&\r\nthis.ssl,c=n.pipelineConnect===\"password\";if(!u&&!n.pipelineConnect)return o;let h=this.\r\nconnection;if(u&&h.on(\"connect\",()=>h.stream.emit(\"data\",\"S\")),c){h.removeAllListeners(\r\n\"authenticationCleartextPassword\"),h.removeAllListeners(\"readyForQuery\"),h.once(\r\n\"readyForQuery\",()=>h.on(\"readyForQuery\",this._handleReadyForQuery.bind(this)));\r\nlet l=this.ssl?\"sslconnect\":\"connect\";h.on(l,()=>{this._handleAuthCleartextPassword(),\r\nthis._handleReadyForQuery()})}return o}async _handleAuthSASLContinue(t){let n=this.\r\nsaslSession,i=this.password,s=t.data;if(n.message!==\"SASLInitialResponse\"||typeof i!=\r\n\"string\"||typeof s!=\"string\")throw new Error(\"SASL: protocol error\");let o=Object.\r\nfromEntries(s.split(\",\").map($=>{if(!/^.=/.test($))throw new Error(\"SASL: Invali\\\r\nd attribute pair entry\");let ne=$[0],Ce=$.substring(2);return[ne,Ce]})),u=o.r,c=o.\r\ns,h=o.i;if(!u||!/^[!-+--~]+$/.test(u))throw new Error(\"SASL: SCRAM-SERVER-FIRST-\\\r\nMESSAGE: nonce missing/unprintable\");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.\r\ntest(c))throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base\\\r\n64\");if(!h||!/^[1-9][0-9]*$/.test(h))throw new Error(\"SASL: SCRAM-SERVER-FIRST-M\\\r\nESSAGE: missing/invalid iteration count\");if(!u.startsWith(n.clientNonce))throw new Error(\r\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce\");\r\nif(u.length===n.clientNonce.length)throw new Error(\"SASL: SCRAM-SERVER-FIRST-MES\\\r\nSAGE: server nonce is too short\");let l=parseInt(h,10),y=d.from(c,\"base64\"),E=new TextEncoder,\r\n_=E.encode(i),P=await w.subtle.importKey(\"raw\",_,{name:\"HMAC\",hash:{name:\"SHA-25\\\r\n6\"}},!1,[\"sign\"]),N=new Uint8Array(await w.subtle.sign(\"HMAC\",P,d.concat([y,d.from(\r\n[0,0,0,1])]))),J=N;for(var pe=0;pe<l-1;pe++)N=new Uint8Array(await w.subtle.sign(\r\n\"HMAC\",P,N)),J=d.from(J.map(($,ne)=>J[ne]^N[ne]));let A=J,g=await w.subtle.importKey(\r\n\"raw\",A,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]),D=new Uint8Array(await w.\r\nsubtle.sign(\"HMAC\",g,E.encode(\"Client Key\"))),H=await w.subtle.digest(\"SHA-256\",\r\nD),Q=\"n=*,r=\"+n.clientNonce,W=\"r=\"+u+\",s=\"+c+\",i=\"+l,ue=\"c=biws,r=\"+u,de=Q+\",\"+W+\r\n\",\"+ue,L=await w.subtle.importKey(\"raw\",H,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,\r\n[\"sign\"]);var G=new Uint8Array(await w.subtle.sign(\"HMAC\",L,E.encode(de))),ce=d.\r\nfrom(D.map(($,ne)=>D[ne]^G[ne])),ye=ce.toString(\"base64\");let xe=await w.subtle.\r\nimportKey(\"raw\",A,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]),he=await w.subtle.\r\nsign(\"HMAC\",xe,E.encode(\"Server Key\")),ie=await w.subtle.importKey(\"raw\",he,{name:\"\\\r\nHMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]);var se=d.from(await w.subtle.sign(\"HMA\\\r\nC\",ie,E.encode(de)));n.message=\"SASLResponse\",n.serverSignature=se.toString(\"bas\\\r\ne64\"),n.response=ue+\",p=\"+ye,this.connection.sendSCRAMClientFinalMessage(this.saslSession.\r\nresponse)}};a(En,\"NeonClient\");var xn=En;function Qc(r,e){if(e)return{callback:e,\r\nresult:void 0};let t,n,i=a(function(o,u){o?t(o):n(u)},\"cb\"),s=new r(function(o,u){\r\nn=o,t=u});return{callback:i,result:s}}a(Qc,\"promisify\");var vn=class vn extends Ct.Pool{constructor(){\r\nsuper(...arguments);T(this,\"Client\",xn);T(this,\"hasFetchUnsupportedListeners\",!1)}on(t,n){\r\nreturn t!==\"error\"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,n)}query(t,n,i){\r\nif(!_e.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t==\"function\")\r\nreturn super.query(t,n,i);typeof n==\"function\"&&(i=n,n=void 0);let s=Qc(this.Promise,\r\ni);i=s.callback;try{let o=new Js.default(this.options),u=encodeURIComponent,c=encodeURI,\r\nh=`postgresql://${u(o.user)}:${u(o.password)}@${u(o.host)}/${c(o.database)}`,l=typeof t==\r\n\"string\"?t:t.text,y=n??t.values??[];Ys(h,{fullResults:!0,arrayMode:t.rowMode===\"\\\r\narray\"})(l,y).then(_=>i(void 0,_)).catch(_=>i(_))}catch(o){i(o)}return s.result}};\r\na(vn,\"NeonPool\");var Zs=vn;var export_ClientBase=Se.ClientBase;var export_Connection=Se.Connection;var export_DatabaseError=Se.DatabaseError;\r\nvar export_Query=Se.Query;var export_defaults=Se.defaults;var export_types=Se.types;\r\n\r\n/*! Bundled license information:\r\n\r\nieee754/index.js:\r\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\r\n\r\nbuffer/index.js:\r\n  (*!\r\n   * The buffer module from node.js, for the browser.\r\n   *\r\n   * @author   Feross Aboukhadijeh <https://feross.org>\r\n   * @license  MIT\r\n   *)\r\n*/\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLHFCQUFxQiw2QkFBNkIsdUNBQXVDLGtDQUFrQyxnRUFBZ0UsK0JBQStCLGtEQUFrRDtBQUM1USxPQUFPLDBCQUEwQix3QkFBd0IsRUFBRSxtQ0FBbUMsMkJBQTJCLFdBQVcsa0NBQWtDO0FBQ3RLLFFBQVEsdUJBQXVCLEVBQUUsZ0JBQWdCO0FBQ2pELDREQUE0RDtBQUM1RCx1QkFBdUIsRUFBRSxVQUFVLHVDQUF1QztBQUMxRSxzQkFBc0IscUJBQXFCLGVBQWUsU0FBUyxLQUFLLHFEQUFxRCxjQUFjLGFBQWEsSUFBSSxpQkFBaUIsa0JBQWtCO0FBQy9MLEdBQUc7QUFDSCxtREFBbUQsc0JBQXNCLE1BQU07QUFDL0UsdUNBQXVDLFVBQVUsVUFBVSxVQUFVO0FBQ3JFLGVBQWU7QUFDZixVQUFVLHFCQUFxQixjQUFjLG9CQUFvQixZQUFZO0FBQzdFLFdBQVcsZUFBZSwwQkFBMEIsa0JBQWtCO0FBQ3RFLFNBQVMsbUJBQW1CLGtCQUFrQixvQkFBb0I7QUFDbEUsa0VBQWtFLFFBQVEsSUFBSTtBQUM5RTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0EsU0FBUyxvQkFBb0IsZUFBZTtBQUM1QyxlQUFlLHdCQUF3QixtQkFBbUIsbUJBQW1CLElBQUk7QUFDakYscUVBQXFFO0FBQ3JFLElBQUksb0JBQW9CLGVBQWU7QUFDdkMsTUFBTSxJQUFJLGlDQUFpQztBQUMzQztBQUNBLHVCQUF1QixzQkFBc0IsRUFBRSxjQUFjLElBQUksNEJBQTRCO0FBQzdGLG1DQUFtQyxtQ0FBbUMsSUFBSTtBQUMxRSxrQkFBa0IsOEJBQThCLElBQUksMEJBQTBCO0FBQzlFLFFBQVEsS0FBSyxxQ0FBcUMsd0JBQXdCO0FBQzFFLHlCQUF5QiwrQkFBK0I7QUFDeEQ7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WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL0BuZW9uZGF0YWJhc2Uvc2VydmVybGVzcy9pbmRleC5tanM/OThmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgWHM9T2JqZWN0LmNyZWF0ZTt2YXIgSWU9T2JqZWN0LmRlZmluZVByb3BlcnR5O3ZhciBlbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3ZhciB0bz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lczt2YXIgcm89T2JqZWN0LmdldFByb3RvdHlwZU9mLG5vPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGlvPShyLGUsdCk9PmUgaW4gcj9JZShyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpcclxucltlXT10O3ZhciBhPShyLGUpPT5JZShyLFwibmFtZVwiLHt2YWx1ZTplLGNvbmZpZ3VyYWJsZTohMH0pO3ZhciBLPShyLGUpPT4oKT0+KHImJihlPXIocj0wKSksZSk7dmFyIEk9KHIsZSk9PigpPT4oZXx8cigoZT17ZXhwb3J0czp7fX0pLmV4cG9ydHMsZSksZS5leHBvcnRzKSxYPShyLGUpPT57Zm9yKHZhciB0IGluIGUpXHJcbkllKHIsdCx7Z2V0OmVbdF0sZW51bWVyYWJsZTohMH0pfSxfbj0ocixlLHQsbik9PntpZihlJiZ0eXBlb2YgZT09XCJvYmplY3RcInx8dHlwZW9mIGU9PVxyXG5cImZ1bmN0aW9uXCIpZm9yKGxldCBpIG9mIHRvKGUpKSFuby5jYWxsKHIsaSkmJmkhPT10JiZJZShyLGkse2dldDooKT0+ZVtpXSxlbnVtZXJhYmxlOiEobj1cclxuZW8oZSxpKSl8fG4uZW51bWVyYWJsZX0pO3JldHVybiByfTt2YXIgV2U9KHIsZSx0KT0+KHQ9ciE9bnVsbD9YcyhybyhyKSk6e30sX24oZXx8IXJ8fCFyLl9fZXNNb2R1bGU/SWUodCxcImRlZmF1bHRcIix7XHJcbnZhbHVlOnIsZW51bWVyYWJsZTohMH0pOnQscikpLGs9cj0+X24oSWUoe30sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkscik7dmFyIFQ9KHIsZSx0KT0+KGlvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCksdCk7dmFyIEluPUkoaXQ9PntcInVzZSBzdHJpY3RcIjtwKCk7aXQuYnl0ZUxlbmd0aD1vbztpdC50b0J5dGVBcnJheT11bztpdC5mcm9tQnl0ZUFycmF5PVxyXG5sbzt2YXIgb2U9W10sZWU9W10sc289dHlwZW9mIFVpbnQ4QXJyYXk8XCJ1XCI/VWludDhBcnJheTpBcnJheSxJdD1cIkFCQ0RFRkdISUpLTE1OT1xcXHJcblBRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtmb3IoRWU9MCxBbj1JdC5sZW5ndGg7RWU8QW47KytFZSlcclxub2VbRWVdPUl0W0VlXSxlZVtJdC5jaGFyQ29kZUF0KEVlKV09RWU7dmFyIEVlLEFuO2VlWzQ1XT02MjtlZVs5NV09NjM7ZnVuY3Rpb24gQ24ocil7XHJcbnZhciBlPXIubGVuZ3RoO2lmKGUlND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcFxcXHJcbmxlIG9mIDRcIik7dmFyIHQ9ci5pbmRleE9mKFwiPVwiKTt0PT09LTEmJih0PWUpO3ZhciBuPXQ9PT1lPzA6NC10JTQ7cmV0dXJuW3Qsbl19YShDbixcclxuXCJnZXRMZW5zXCIpO2Z1bmN0aW9uIG9vKHIpe3ZhciBlPUNuKHIpLHQ9ZVswXSxuPWVbMV07cmV0dXJuKHQrbikqMy80LW59YShvbyxcImJ5dGVcXFxyXG5MZW5ndGhcIik7ZnVuY3Rpb24gYW8ocixlLHQpe3JldHVybihlK3QpKjMvNC10fWEoYW8sXCJfYnl0ZUxlbmd0aFwiKTtmdW5jdGlvbiB1byhyKXtcclxudmFyIGUsdD1DbihyKSxuPXRbMF0saT10WzFdLHM9bmV3IHNvKGFvKHIsbixpKSksbz0wLHU9aT4wP24tNDpuLGM7Zm9yKGM9MDtjPHU7Yys9XHJcbjQpZT1lZVtyLmNoYXJDb2RlQXQoYyldPDwxOHxlZVtyLmNoYXJDb2RlQXQoYysxKV08PDEyfGVlW3IuY2hhckNvZGVBdChjKzIpXTw8NnxlZVtyLlxyXG5jaGFyQ29kZUF0KGMrMyldLHNbbysrXT1lPj4xNiYyNTUsc1tvKytdPWU+PjgmMjU1LHNbbysrXT1lJjI1NTtyZXR1cm4gaT09PTImJihlPVxyXG5lZVtyLmNoYXJDb2RlQXQoYyldPDwyfGVlW3IuY2hhckNvZGVBdChjKzEpXT4+NCxzW28rK109ZSYyNTUpLGk9PT0xJiYoZT1lZVtyLmNoYXJDb2RlQXQoXHJcbmMpXTw8MTB8ZWVbci5jaGFyQ29kZUF0KGMrMSldPDw0fGVlW3IuY2hhckNvZGVBdChjKzIpXT4+MixzW28rK109ZT4+OCYyNTUsc1tvKytdPVxyXG5lJjI1NSksc31hKHVvLFwidG9CeXRlQXJyYXlcIik7ZnVuY3Rpb24gY28ocil7cmV0dXJuIG9lW3I+PjE4JjYzXStvZVtyPj4xMiY2M10rb2Vbcj4+XHJcbjYmNjNdK29lW3ImNjNdfWEoY28sXCJ0cmlwbGV0VG9CYXNlNjRcIik7ZnVuY3Rpb24gaG8ocixlLHQpe2Zvcih2YXIgbixpPVtdLHM9ZTtzPHQ7cys9XHJcbjMpbj0ocltzXTw8MTYmMTY3MTE2ODApKyhyW3MrMV08PDgmNjUyODApKyhyW3MrMl0mMjU1KSxpLnB1c2goY28obikpO3JldHVybiBpLmpvaW4oXHJcblwiXCIpfWEoaG8sXCJlbmNvZGVDaHVua1wiKTtmdW5jdGlvbiBsbyhyKXtmb3IodmFyIGUsdD1yLmxlbmd0aCxuPXQlMyxpPVtdLHM9MTYzODMsbz0wLFxyXG51PXQtbjtvPHU7bys9cylpLnB1c2goaG8ocixvLG8rcz51P3U6bytzKSk7cmV0dXJuIG49PT0xPyhlPXJbdC0xXSxpLnB1c2gob2VbZT4+Ml0rXHJcbm9lW2U8PDQmNjNdK1wiPT1cIikpOm49PT0yJiYoZT0oclt0LTJdPDw4KStyW3QtMV0saS5wdXNoKG9lW2U+PjEwXStvZVtlPj40JjYzXStvZVtlPDxcclxuMiY2M10rXCI9XCIpKSxpLmpvaW4oXCJcIil9YShsbyxcImZyb21CeXRlQXJyYXlcIil9KTt2YXIgVG49SShUdD0+e3AoKTtUdC5yZWFkPWZ1bmN0aW9uKHIsZSx0LG4saSl7dmFyIHMsbyx1PWkqOC1uLTEsYz0oMTw8dSktMSxoPWM+PlxyXG4xLGw9LTcseT10P2ktMTowLEU9dD8tMToxLF89cltlK3ldO2Zvcih5Kz1FLHM9XyYoMTw8LWwpLTEsXz4+PS1sLGwrPXU7bD4wO3M9cyoyNTYrXHJcbnJbZSt5XSx5Kz1FLGwtPTgpO2ZvcihvPXMmKDE8PC1sKS0xLHM+Pj0tbCxsKz1uO2w+MDtvPW8qMjU2K3JbZSt5XSx5Kz1FLGwtPTgpO2lmKHM9PT1cclxuMClzPTEtaDtlbHNle2lmKHM9PT1jKXJldHVybiBvP05hTjooXz8tMToxKSooMS8wKTtvPW8rTWF0aC5wb3coMixuKSxzPXMtaH1yZXR1cm4oXz9cclxuLTE6MSkqbypNYXRoLnBvdygyLHMtbil9O1R0LndyaXRlPWZ1bmN0aW9uKHIsZSx0LG4saSxzKXt2YXIgbyx1LGMsaD1zKjgtaS0xLGw9KDE8PFxyXG5oKS0xLHk9bD4+MSxFPWk9PT0yMz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsXz1uPzA6cy0xLFA9bj8xOi0xLE49ZTwwfHxcclxuZT09PTAmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8odT1pc05hTihlKT8xOjAsbz1sKToobz1NYXRoLlxyXG5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMiksZSooYz1NYXRoLnBvdygyLC1vKSk8MSYmKG8tLSxjKj0yKSxvK3k+PTE/ZSs9RS9jOmUrPVxyXG5FKk1hdGgucG93KDIsMS15KSxlKmM+PTImJihvKyssYy89Miksbyt5Pj1sPyh1PTAsbz1sKTpvK3k+PTE/KHU9KGUqYy0xKSpNYXRoLnBvdyhcclxuMixpKSxvPW8reSk6KHU9ZSpNYXRoLnBvdygyLHktMSkqTWF0aC5wb3coMixpKSxvPTApKTtpPj04O3JbdCtfXT11JjI1NSxfKz1QLHUvPTI1NixcclxuaS09OCk7Zm9yKG89bzw8aXx1LGgrPWk7aD4wO3JbdCtfXT1vJjI1NSxfKz1QLG8vPTI1NixoLT04KTtyW3QrXy1QXXw9TioxMjh9fSk7dmFyIEduPUkoTGU9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIFB0PUluKCksUGU9VG4oKSxQbj10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJlxyXG50eXBlb2YgU3ltYm9sLmZvcj09XCJmdW5jdGlvblwiP1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKTpudWxsO0xlLkJ1ZmZlcj1cclxuZjtMZS5TbG93QnVmZmVyPXdvO0xlLklOU1BFQ1RfTUFYX0JZVEVTPTUwO3ZhciBzdD0yMTQ3NDgzNjQ3O0xlLmtNYXhMZW5ndGg9c3Q7Zi5cclxuVFlQRURfQVJSQVlfU1VQUE9SVD1mbygpOyFmLlRZUEVEX0FSUkFZX1NVUFBPUlQmJnR5cGVvZiBjb25zb2xlPFwidVwiJiZ0eXBlb2YgY29uc29sZS5cclxuZXJyb3I9PVwiZnVuY3Rpb25cIiYmY29uc29sZS5lcnJvcihcIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VcXFxyXG5wcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYlxcXHJcbnJvd3NlciBzdXBwb3J0LlwiKTtmdW5jdGlvbiBmbygpe3RyeXtsZXQgcj1uZXcgVWludDhBcnJheSgxKSxlPXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtcclxucmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YocixlKSxcclxuci5mb28oKT09PTQyfWNhdGNoe3JldHVybiExfX1hKGZvLFwidHlwZWRBcnJheVN1cHBvcnRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGYucHJvdG90eXBlLFxyXG5cInBhcmVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKGYuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZi5wcm90b3R5cGUsXCJvZmZzZXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZihmLmlzQnVmZmVyKFxyXG50aGlzKSlyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pO2Z1bmN0aW9uIGxlKHIpe2lmKHI+c3QpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZVxcXHJcbiB2YWx1ZSBcIicrcisnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyk7bGV0IGU9bmV3IFVpbnQ4QXJyYXkocik7cmV0dXJuIE9iamVjdC5cclxuc2V0UHJvdG90eXBlT2YoZSxmLnByb3RvdHlwZSksZX1hKGxlLFwiY3JlYXRlQnVmZmVyXCIpO2Z1bmN0aW9uIGYocixlLHQpe2lmKHR5cGVvZiByPT1cclxuXCJudW1iZXJcIil7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBcXFxyXG5iZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gRnQocil9cmV0dXJuIEZuKHIsZSx0KX1hKGYsXCJCdWZcXFxyXG5mZXJcIik7Zi5wb29sU2l6ZT04MTkyO2Z1bmN0aW9uIEZuKHIsZSx0KXtpZih0eXBlb2Ygcj09XCJzdHJpbmdcIilyZXR1cm4geW8ocixlKTtpZihBcnJheUJ1ZmZlci5cclxuaXNWaWV3KHIpKXJldHVybiBtbyhyKTtpZihyPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiXFxcclxuZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWRcXFxyXG4gdHlwZSBcIit0eXBlb2Ygcik7aWYoYWUocixBcnJheUJ1ZmZlcil8fHImJmFlKHIuYnVmZmVyLEFycmF5QnVmZmVyKXx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFxyXG5cInVcIiYmKGFlKHIsU2hhcmVkQXJyYXlCdWZmZXIpfHxyJiZhZShyLmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXJldHVybiBMdChyLGUsXHJcbnQpO2lmKHR5cGVvZiByPT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb1xcXHJcbmYgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7bGV0IG49ci52YWx1ZU9mJiZyLnZhbHVlT2YoKTtpZihuIT1udWxsJiZuIT09XHJcbnIpcmV0dXJuIGYuZnJvbShuLGUsdCk7bGV0IGk9Z28ocik7aWYoaSlyZXR1cm4gaTtpZih0eXBlb2YgU3ltYm9sPFwidVwiJiZTeW1ib2wudG9QcmltaXRpdmUhPVxyXG5udWxsJiZ0eXBlb2YgcltTeW1ib2wudG9QcmltaXRpdmVdPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGYuZnJvbShyW1N5bWJvbC50b1ByaW1pdGl2ZV0oXHJcblwic3RyaW5nXCIpLGUsdCk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluXFxcclxuZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiByKX1hKFxyXG5GbixcImZyb21cIik7Zi5mcm9tPWZ1bmN0aW9uKHIsZSx0KXtyZXR1cm4gRm4ocixlLHQpfTtPYmplY3Quc2V0UHJvdG90eXBlT2YoZi5wcm90b3R5cGUsXHJcblVpbnQ4QXJyYXkucHJvdG90eXBlKTtPYmplY3Quc2V0UHJvdG90eXBlT2YoZixVaW50OEFycmF5KTtmdW5jdGlvbiBNbihyKXtpZih0eXBlb2YgciE9XHJcblwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcclxuJ1RoZSB2YWx1ZSBcIicrcisnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyl9YShNbixcImFzc2VydFNpemVcIik7ZnVuY3Rpb24gcG8ocixlLHQpe1xyXG5yZXR1cm4gTW4ocikscjw9MD9sZShyKTplIT09dm9pZCAwP3R5cGVvZiB0PT1cInN0cmluZ1wiP2xlKHIpLmZpbGwoZSx0KTpsZShyKS5maWxsKFxyXG5lKTpsZShyKX1hKHBvLFwiYWxsb2NcIik7Zi5hbGxvYz1mdW5jdGlvbihyLGUsdCl7cmV0dXJuIHBvKHIsZSx0KX07ZnVuY3Rpb24gRnQocil7XHJcbnJldHVybiBNbihyKSxsZShyPDA/MDpNdChyKXwwKX1hKEZ0LFwiYWxsb2NVbnNhZmVcIik7Zi5hbGxvY1Vuc2FmZT1mdW5jdGlvbihyKXtyZXR1cm4gRnQoXHJcbnIpfTtmLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihyKXtyZXR1cm4gRnQocil9O2Z1bmN0aW9uIHlvKHIsZSl7aWYoKHR5cGVvZiBlIT1cIlxcXHJcbnN0cmluZ1wifHxlPT09XCJcIikmJihlPVwidXRmOFwiKSwhZi5pc0VuY29kaW5nKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kXFxcclxuaW5nOiBcIitlKTtsZXQgdD1EbihyLGUpfDAsbj1sZSh0KSxpPW4ud3JpdGUocixlKTtyZXR1cm4gaSE9PXQmJihuPW4uc2xpY2UoMCxpKSksXHJcbm59YSh5byxcImZyb21TdHJpbmdcIik7ZnVuY3Rpb24gQnQocil7bGV0IGU9ci5sZW5ndGg8MD8wOk10KHIubGVuZ3RoKXwwLHQ9bGUoZSk7Zm9yKGxldCBuPTA7bjxcclxuZTtuKz0xKXRbbl09cltuXSYyNTU7cmV0dXJuIHR9YShCdCxcImZyb21BcnJheUxpa2VcIik7ZnVuY3Rpb24gbW8ocil7aWYoYWUocixVaW50OEFycmF5KSl7XHJcbmxldCBlPW5ldyBVaW50OEFycmF5KHIpO3JldHVybiBMdChlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKX1yZXR1cm4gQnQoXHJcbnIpfWEobW8sXCJmcm9tQXJyYXlWaWV3XCIpO2Z1bmN0aW9uIEx0KHIsZSx0KXtpZihlPDB8fHIuYnl0ZUxlbmd0aDxlKXRocm93IG5ldyBSYW5nZUVycm9yKFxyXG4nXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZihyLmJ5dGVMZW5ndGg8ZSsodHx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXHJcbidcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2xldCBuO3JldHVybiBlPT09dm9pZCAwJiZ0PT09dm9pZCAwP249bmV3IFVpbnQ4QXJyYXkoXHJcbnIpOnQ9PT12b2lkIDA/bj1uZXcgVWludDhBcnJheShyLGUpOm49bmV3IFVpbnQ4QXJyYXkocixlLHQpLE9iamVjdC5zZXRQcm90b3R5cGVPZihcclxubixmLnByb3RvdHlwZSksbn1hKEx0LFwiZnJvbUFycmF5QnVmZmVyXCIpO2Z1bmN0aW9uIGdvKHIpe2lmKGYuaXNCdWZmZXIocikpe2xldCBlPU10KFxyXG5yLmxlbmd0aCl8MCx0PWxlKGUpO3JldHVybiB0Lmxlbmd0aD09PTB8fHIuY29weSh0LDAsMCxlKSx0fWlmKHIubGVuZ3RoIT09dm9pZCAwKVxyXG5yZXR1cm4gdHlwZW9mIHIubGVuZ3RoIT1cIm51bWJlclwifHxPdChyLmxlbmd0aCk/bGUoMCk6QnQocik7aWYoci50eXBlPT09XCJCdWZmZXJcIiYmXHJcbkFycmF5LmlzQXJyYXkoci5kYXRhKSlyZXR1cm4gQnQoci5kYXRhKX1hKGdvLFwiZnJvbU9iamVjdFwiKTtmdW5jdGlvbiBNdChyKXtpZihyPj1cclxuc3QpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4XCIrXHJcbnN0LnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gcnwwfWEoTXQsXCJjaGVja2VkXCIpO2Z1bmN0aW9uIHdvKHIpe3JldHVybityIT1yJiZcclxuKHI9MCksZi5hbGxvYygrcil9YSh3byxcIlNsb3dCdWZmZXJcIik7Zi5pc0J1ZmZlcj1hKGZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsJiZlLlxyXG5faXNCdWZmZXI9PT0hMCYmZSE9PWYucHJvdG90eXBlfSxcImlzQnVmZmVyXCIpO2YuY29tcGFyZT1hKGZ1bmN0aW9uKGUsdCl7aWYoYWUoZSxVaW50OEFycmF5KSYmXHJcbihlPWYuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLGFlKHQsVWludDhBcnJheSkmJih0PWYuZnJvbSh0LHQub2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLFxyXG4hZi5pc0J1ZmZlcihlKXx8IWYuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHNcXFxyXG4gbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheScpO2lmKGU9PT10KXJldHVybiAwO2xldCBuPWUubGVuZ3RoLGk9dC5cclxubGVuZ3RoO2ZvcihsZXQgcz0wLG89TWF0aC5taW4obixpKTtzPG87KytzKWlmKGVbc10hPT10W3NdKXtuPWVbc10saT10W3NdO2JyZWFrfXJldHVybiBuPFxyXG5pPy0xOmk8bj8xOjB9LFwiY29tcGFyZVwiKTtmLmlzRW5jb2Rpbmc9YShmdW5jdGlvbihlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcIlxcXHJcbmhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwiXFxcclxudWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LFwiaXNFblxcXHJcbmNvZGluZ1wiKTtmLmNvbmNhdD1hKGZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXNcXFxyXG50XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoZS5sZW5ndGg9PT0wKXJldHVybiBmLmFsbG9jKDApO2xldCBuO1xyXG5pZih0PT09dm9pZCAwKWZvcih0PTAsbj0wO248ZS5sZW5ndGg7KytuKXQrPWVbbl0ubGVuZ3RoO2xldCBpPWYuYWxsb2NVbnNhZmUodCkscz0wO1xyXG5mb3Iobj0wO248ZS5sZW5ndGg7KytuKXtsZXQgbz1lW25dO2lmKGFlKG8sVWludDhBcnJheSkpcytvLmxlbmd0aD5pLmxlbmd0aD8oZi5pc0J1ZmZlcihcclxubyl8fChvPWYuZnJvbShvKSksby5jb3B5KGkscykpOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKGksbyxzKTtlbHNlIGlmKGYuaXNCdWZmZXIoXHJcbm8pKW8uY29weShpLHMpO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZcXFxyXG5mZXJzJyk7cys9by5sZW5ndGh9cmV0dXJuIGl9LFwiY29uY2F0XCIpO2Z1bmN0aW9uIERuKHIsZSl7aWYoZi5pc0J1ZmZlcihyKSlyZXR1cm4gci5cclxubGVuZ3RoO2lmKEFycmF5QnVmZmVyLmlzVmlldyhyKXx8YWUocixBcnJheUJ1ZmZlcikpcmV0dXJuIHIuYnl0ZUxlbmd0aDtpZih0eXBlb2YgciE9XHJcblwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIFxcXHJcbkJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2Ygcik7bGV0IHQ9ci5sZW5ndGgsbj1hcmd1bWVudHMubGVuZ3RoPlxyXG4yJiZhcmd1bWVudHNbMl09PT0hMDtpZighbiYmdD09PTApcmV0dXJuIDA7bGV0IGk9ITE7Zm9yKDs7KXN3aXRjaChlKXtjYXNlXCJhc2NpaVwiOmNhc2VcIlxcXHJcbmxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiB0O2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBSdChyKS5sZW5ndGg7Y2FzZVwidWNcXFxyXG5zMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHQqMjtjYXNlXCJoZXhcIjpyZXR1cm4gdD4+PjE7Y2FzZVwiXFxcclxuYmFzZTY0XCI6cmV0dXJuIEhuKHIpLmxlbmd0aDtkZWZhdWx0OmlmKGkpcmV0dXJuIG4/LTE6UnQocikubGVuZ3RoO2U9KFwiXCIrZSkudG9Mb3dlckNhc2UoKSxcclxuaT0hMH19YShEbixcImJ5dGVMZW5ndGhcIik7Zi5ieXRlTGVuZ3RoPURuO2Z1bmN0aW9uIGJvKHIsZSx0KXtsZXQgbj0hMTtpZigoZT09PXZvaWQgMHx8XHJcbmU8MCkmJihlPTApLGU+dGhpcy5sZW5ndGh8fCgodD09PXZvaWQgMHx8dD50aGlzLmxlbmd0aCkmJih0PXRoaXMubGVuZ3RoKSx0PD0wKXx8XHJcbih0Pj4+PTAsZT4+Pj0wLHQ8PWUpKXJldHVyblwiXCI7Zm9yKHJ8fChyPVwidXRmOFwiKTs7KXN3aXRjaChyKXtjYXNlXCJoZXhcIjpyZXR1cm4gUG8oXHJcbnRoaXMsZSx0KTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4ga24odGhpcyxlLHQpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIElvKHRoaXMsXHJcbmUsdCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIFRvKHRoaXMsZSx0KTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gQW8odGhpcyxlLFxyXG50KTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gQm8odGhpcyxlLHQpO2RlZmF1bHQ6XHJcbmlmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3IpO3I9KHIrXCJcIikudG9Mb3dlckNhc2UoKSxuPSEwfX1hKFxyXG5ibyxcInNsb3dUb1N0cmluZ1wiKTtmLnByb3RvdHlwZS5faXNCdWZmZXI9ITA7ZnVuY3Rpb24gdmUocixlLHQpe2xldCBuPXJbZV07cltlXT1yW3RdLFxyXG5yW3RdPW59YSh2ZSxcInN3YXBcIik7Zi5wcm90b3R5cGUuc3dhcDE2PWEoZnVuY3Rpb24oKXtsZXQgZT10aGlzLmxlbmd0aDtpZihlJTIhPT0wKVxyXG50aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2ZvcihsZXQgdD0wO3Q8XHJcbmU7dCs9Mil2ZSh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30sXCJzd2FwMTZcIik7Zi5wcm90b3R5cGUuc3dhcDMyPWEoZnVuY3Rpb24oKXtsZXQgZT10aGlzLlxyXG5sZW5ndGg7aWYoZSU0IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRcXFxyXG5zXCIpO2ZvcihsZXQgdD0wO3Q8ZTt0Kz00KXZlKHRoaXMsdCx0KzMpLHZlKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LFwic3dhcDMyXCIpO1xyXG5mLnByb3RvdHlwZS5zd2FwNjQ9YShmdW5jdGlvbigpe2xldCBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXHJcblwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHNcIik7Zm9yKGxldCB0PTA7dDxlO3QrPTgpdmUodGhpcyx0LHQrNyksXHJcbnZlKHRoaXMsdCsxLHQrNiksdmUodGhpcyx0KzIsdCs1KSx2ZSh0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSxcInN3YXA2NFwiKTtmLnByb3RvdHlwZS5cclxudG9TdHJpbmc9YShmdW5jdGlvbigpe2xldCBlPXRoaXMubGVuZ3RoO3JldHVybiBlPT09MD9cIlwiOmFyZ3VtZW50cy5sZW5ndGg9PT0wP2tuKFxyXG50aGlzLDAsZSk6Ym8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxcInRvU3RyaW5nXCIpO2YucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPWYucHJvdG90eXBlLlxyXG50b1N0cmluZztmLnByb3RvdHlwZS5lcXVhbHM9YShmdW5jdGlvbihlKXtpZighZi5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG5cIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT1lPyEwOmYuY29tcGFyZSh0aGlzLGUpPT09MH0sXCJlcXVhbHNcIik7XHJcbmYucHJvdG90eXBlLmluc3BlY3Q9YShmdW5jdGlvbigpe2xldCBlPVwiXCIsdD1MZS5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gZT10aGlzLnRvU3RyaW5nKFxyXG5cImhleFwiLDAsdCkucmVwbGFjZSgvKC57Mn0pL2csXCIkMSBcIikudHJpbSgpLHRoaXMubGVuZ3RoPnQmJihlKz1cIiAuLi4gXCIpLFwiPEJ1ZmZlciBcIitcclxuZStcIj5cIn0sXCJpbnNwZWN0XCIpO1BuJiYoZi5wcm90b3R5cGVbUG5dPWYucHJvdG90eXBlLmluc3BlY3QpO2YucHJvdG90eXBlLmNvbXBhcmU9XHJcbmEoZnVuY3Rpb24oZSx0LG4saSxzKXtpZihhZShlLFVpbnQ4QXJyYXkpJiYoZT1mLmZyb20oZSxlLm9mZnNldCxlLmJ5dGVMZW5ndGgpKSwhZi5cclxuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZVxcXHJcbnIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTtpZih0PT09dm9pZCAwJiYodD0wKSxuPT09dm9pZCAwJiYobj1lP1xyXG5lLmxlbmd0aDowKSxpPT09dm9pZCAwJiYoaT0wKSxzPT09dm9pZCAwJiYocz10aGlzLmxlbmd0aCksdDwwfHxuPmUubGVuZ3RofHxpPDB8fFxyXG5zPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKGk+PXMmJnQ+PW4pcmV0dXJuIDA7XHJcbmlmKGk+PXMpcmV0dXJuLTE7aWYodD49bilyZXR1cm4gMTtpZih0Pj4+PTAsbj4+Pj0wLGk+Pj49MCxzPj4+PTAsdGhpcz09PWUpcmV0dXJuIDA7XHJcbmxldCBvPXMtaSx1PW4tdCxjPU1hdGgubWluKG8sdSksaD10aGlzLnNsaWNlKGkscyksbD1lLnNsaWNlKHQsbik7Zm9yKGxldCB5PTA7eTxjOysreSlcclxuaWYoaFt5XSE9PWxbeV0pe289aFt5XSx1PWxbeV07YnJlYWt9cmV0dXJuIG88dT8tMTp1PG8/MTowfSxcImNvbXBhcmVcIik7ZnVuY3Rpb24gT24ocixlLHQsbixpKXtcclxuaWYoci5sZW5ndGg9PT0wKXJldHVybi0xO2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiPyhuPXQsdD0wKTp0PjIxNDc0ODM2NDc/dD0yMTQ3NDgzNjQ3OlxyXG50PC0yMTQ3NDgzNjQ4JiYodD0tMjE0NzQ4MzY0OCksdD0rdCxPdCh0KSYmKHQ9aT8wOnIubGVuZ3RoLTEpLHQ8MCYmKHQ9ci5sZW5ndGgrdCksXHJcbnQ+PXIubGVuZ3RoKXtpZihpKXJldHVybi0xO3Q9ci5sZW5ndGgtMX1lbHNlIGlmKHQ8MClpZihpKXQ9MDtlbHNlIHJldHVybi0xO2lmKHR5cGVvZiBlPT1cclxuXCJzdHJpbmdcIiYmKGU9Zi5mcm9tKGUsbikpLGYuaXNCdWZmZXIoZSkpcmV0dXJuIGUubGVuZ3RoPT09MD8tMTpCbihyLGUsdCxuLGkpO2lmKHR5cGVvZiBlPT1cclxuXCJudW1iZXJcIilyZXR1cm4gZT1lJjI1NSx0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09XCJmdW5jdGlvblwiP2k/VWludDhBcnJheS5cclxucHJvdG90eXBlLmluZGV4T2YuY2FsbChyLGUsdCk6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChyLGUsdCk6Qm4ocixcclxuW2VdLHQsbixpKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWEoT24sXCJiaWRcXFxyXG5pcmVjdGlvbmFsSW5kZXhPZlwiKTtmdW5jdGlvbiBCbihyLGUsdCxuLGkpe2xldCBzPTEsbz1yLmxlbmd0aCx1PWUubGVuZ3RoO2lmKG4hPT1cclxudm9pZCAwJiYobj1TdHJpbmcobikudG9Mb3dlckNhc2UoKSxuPT09XCJ1Y3MyXCJ8fG49PT1cInVjcy0yXCJ8fG49PT1cInV0ZjE2bGVcInx8bj09PVwiXFxcclxudXRmLTE2bGVcIikpe2lmKHIubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuLTE7cz0yLG8vPTIsdS89Mix0Lz0yfWZ1bmN0aW9uIGMobCx5KXtcclxucmV0dXJuIHM9PT0xP2xbeV06bC5yZWFkVUludDE2QkUoeSpzKX1hKGMsXCJyZWFkXCIpO2xldCBoO2lmKGkpe2xldCBsPS0xO2ZvcihoPXQ7aDxcclxubztoKyspaWYoYyhyLGgpPT09YyhlLGw9PT0tMT8wOmgtbCkpe2lmKGw9PT0tMSYmKGw9aCksaC1sKzE9PT11KXJldHVybiBsKnN9ZWxzZSBsIT09XHJcbi0xJiYoaC09aC1sKSxsPS0xfWVsc2UgZm9yKHQrdT5vJiYodD1vLXUpLGg9dDtoPj0wO2gtLSl7bGV0IGw9ITA7Zm9yKGxldCB5PTA7eTx1O3krKylcclxuaWYoYyhyLGgreSkhPT1jKGUseSkpe2w9ITE7YnJlYWt9aWYobClyZXR1cm4gaH1yZXR1cm4tMX1hKEJuLFwiYXJyYXlJbmRleE9mXCIpO2YucHJvdG90eXBlLlxyXG5pbmNsdWRlcz1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5pbmRleE9mKGUsdCxuKSE9PS0xfSxcImluY2x1ZGVzXCIpO2YucHJvdG90eXBlLlxyXG5pbmRleE9mPWEoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBPbih0aGlzLGUsdCxuLCEwKX0sXCJpbmRleE9mXCIpO2YucHJvdG90eXBlLmxhc3RJbmRleE9mPVxyXG5hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gT24odGhpcyxlLHQsbiwhMSl9LFwibGFzdEluZGV4T2ZcIik7ZnVuY3Rpb24gU28ocixlLHQsbil7XHJcbnQ9TnVtYmVyKHQpfHwwO2xldCBpPXIubGVuZ3RoLXQ7bj8obj1OdW1iZXIobiksbj5pJiYobj1pKSk6bj1pO2xldCBzPWUubGVuZ3RoO24+XHJcbnMvMiYmKG49cy8yKTtsZXQgbztmb3Iobz0wO288bjsrK28pe2xldCB1PXBhcnNlSW50KGUuc3Vic3RyKG8qMiwyKSwxNik7aWYoT3QodSkpXHJcbnJldHVybiBvO3JbdCtvXT11fXJldHVybiBvfWEoU28sXCJoZXhXcml0ZVwiKTtmdW5jdGlvbiB4byhyLGUsdCxuKXtyZXR1cm4gb3QoUnQoZSxcclxuci5sZW5ndGgtdCkscix0LG4pfWEoeG8sXCJ1dGY4V3JpdGVcIik7ZnVuY3Rpb24gRW8ocixlLHQsbil7cmV0dXJuIG90KE1vKGUpLHIsdCxuKX1cclxuYShFbyxcImFzY2lpV3JpdGVcIik7ZnVuY3Rpb24gdm8ocixlLHQsbil7cmV0dXJuIG90KEhuKGUpLHIsdCxuKX1hKHZvLFwiYmFzZTY0V3JpdGVcIik7XHJcbmZ1bmN0aW9uIF9vKHIsZSx0LG4pe3JldHVybiBvdChEbyhlLHIubGVuZ3RoLXQpLHIsdCxuKX1hKF9vLFwidWNzMldyaXRlXCIpO2YucHJvdG90eXBlLlxyXG53cml0ZT1hKGZ1bmN0aW9uKGUsdCxuLGkpe2lmKHQ9PT12b2lkIDApaT1cInV0ZjhcIixuPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKG49PT12b2lkIDAmJlxyXG50eXBlb2YgdD09XCJzdHJpbmdcIilpPXQsbj10aGlzLmxlbmd0aCx0PTA7ZWxzZSBpZihpc0Zpbml0ZSh0KSl0PXQ+Pj4wLGlzRmluaXRlKG4pP1xyXG4obj1uPj4+MCxpPT09dm9pZCAwJiYoaT1cInV0ZjhcIikpOihpPW4sbj12b2lkIDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaVxcXHJcbnRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7bGV0IHM9dGhpcy5sZW5ndGgtXHJcbnQ7aWYoKG49PT12b2lkIDB8fG4+cykmJihuPXMpLGUubGVuZ3RoPjAmJihuPDB8fHQ8MCl8fHQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXHJcblwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7aXx8KGk9XCJ1dGY4XCIpO2xldCBvPSExO2Zvcig7Oylzd2l0Y2goaSl7Y2FzZVwiXFxcclxuaGV4XCI6cmV0dXJuIFNvKHRoaXMsZSx0LG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB4byh0aGlzLGUsdCxuKTtjYXNlXCJhc2NcXFxyXG5paVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBFbyh0aGlzLGUsdCxuKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gdm8odGhpcyxcclxuZSx0LG4pO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBfbyh0aGlzLGUsdCxuKTtkZWZhdWx0OlxyXG5pZihvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitpKTtpPShcIlwiK2kpLnRvTG93ZXJDYXNlKCksbz0hMH19LFwiXFxcclxud3JpdGVcIik7Zi5wcm90b3R5cGUudG9KU09OPWEoZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLlxyXG5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19LFwidG9KU09OXCIpO2Z1bmN0aW9uIEFvKHIsZSx0KXtyZXR1cm4gZT09PTAmJnQ9PT1yLlxyXG5sZW5ndGg/UHQuZnJvbUJ5dGVBcnJheShyKTpQdC5mcm9tQnl0ZUFycmF5KHIuc2xpY2UoZSx0KSl9YShBbyxcImJhc2U2NFNsaWNlXCIpO2Z1bmN0aW9uIGtuKHIsZSx0KXtcclxudD1NYXRoLm1pbihyLmxlbmd0aCx0KTtsZXQgbj1bXSxpPWU7Zm9yKDtpPHQ7KXtsZXQgcz1yW2ldLG89bnVsbCx1PXM+MjM5PzQ6cz4yMjM/XHJcbjM6cz4xOTE/MjoxO2lmKGkrdTw9dCl7bGV0IGMsaCxsLHk7c3dpdGNoKHUpe2Nhc2UgMTpzPDEyOCYmKG89cyk7YnJlYWs7Y2FzZSAyOmM9XHJcbnJbaSsxXSwoYyYxOTIpPT09MTI4JiYoeT0ocyYzMSk8PDZ8YyY2Myx5PjEyNyYmKG89eSkpO2JyZWFrO2Nhc2UgMzpjPXJbaSsxXSxoPXJbaStcclxuMl0sKGMmMTkyKT09PTEyOCYmKGgmMTkyKT09PTEyOCYmKHk9KHMmMTUpPDwxMnwoYyY2Myk8PDZ8aCY2Myx5PjIwNDcmJih5PDU1Mjk2fHxcclxueT41NzM0MykmJihvPXkpKTticmVhaztjYXNlIDQ6Yz1yW2krMV0saD1yW2krMl0sbD1yW2krM10sKGMmMTkyKT09PTEyOCYmKGgmMTkyKT09PVxyXG4xMjgmJihsJjE5Mik9PT0xMjgmJih5PShzJjE1KTw8MTh8KGMmNjMpPDwxMnwoaCY2Myk8PDZ8bCY2Myx5PjY1NTM1JiZ5PDExMTQxMTImJlxyXG4obz15KSl9fW89PT1udWxsPyhvPTY1NTMzLHU9MSk6bz42NTUzNSYmKG8tPTY1NTM2LG4ucHVzaChvPj4+MTAmMTAyM3w1NTI5Niksbz01NjMyMHxcclxubyYxMDIzKSxuLnB1c2gobyksaSs9dX1yZXR1cm4gQ28obil9YShrbixcInV0ZjhTbGljZVwiKTt2YXIgTG49NDA5NjtmdW5jdGlvbiBDbyhyKXtcclxubGV0IGU9ci5sZW5ndGg7aWYoZTw9TG4pcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHIpO2xldCB0PVwiXCIsbj0wO1xyXG5mb3IoO248ZTspdCs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsci5zbGljZShuLG4rPUxuKSk7cmV0dXJuIHR9YShDbyxcImRcXFxyXG5lY29kZUNvZGVQb2ludHNBcnJheVwiKTtmdW5jdGlvbiBJbyhyLGUsdCl7bGV0IG49XCJcIjt0PU1hdGgubWluKHIubGVuZ3RoLHQpO2ZvcihsZXQgaT1lO2k8XHJcbnQ7KytpKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUocltpXSYxMjcpO3JldHVybiBufWEoSW8sXCJhc2NpaVNsaWNlXCIpO2Z1bmN0aW9uIFRvKHIsZSx0KXtcclxubGV0IG49XCJcIjt0PU1hdGgubWluKHIubGVuZ3RoLHQpO2ZvcihsZXQgaT1lO2k8dDsrK2kpbis9U3RyaW5nLmZyb21DaGFyQ29kZShyW2ldKTtcclxucmV0dXJuIG59YShUbyxcImxhdGluMVNsaWNlXCIpO2Z1bmN0aW9uIFBvKHIsZSx0KXtsZXQgbj1yLmxlbmd0aDsoIWV8fGU8MCkmJihlPTApLFxyXG4oIXR8fHQ8MHx8dD5uKSYmKHQ9bik7bGV0IGk9XCJcIjtmb3IobGV0IHM9ZTtzPHQ7KytzKWkrPU9vW3Jbc11dO3JldHVybiBpfWEoUG8sXCJoZVxcXHJcbnhTbGljZVwiKTtmdW5jdGlvbiBCbyhyLGUsdCl7bGV0IG49ci5zbGljZShlLHQpLGk9XCJcIjtmb3IobGV0IHM9MDtzPG4ubGVuZ3RoLTE7cys9XHJcbjIpaSs9U3RyaW5nLmZyb21DaGFyQ29kZShuW3NdK25bcysxXSoyNTYpO3JldHVybiBpfWEoQm8sXCJ1dGYxNmxlU2xpY2VcIik7Zi5wcm90b3R5cGUuXHJcbnNsaWNlPWEoZnVuY3Rpb24oZSx0KXtsZXQgbj10aGlzLmxlbmd0aDtlPX5+ZSx0PXQ9PT12b2lkIDA/bjp+fnQsZTwwPyhlKz1uLGU8MCYmXHJcbihlPTApKTplPm4mJihlPW4pLHQ8MD8odCs9bix0PDAmJih0PTApKTp0Pm4mJih0PW4pLHQ8ZSYmKHQ9ZSk7bGV0IGk9dGhpcy5zdWJhcnJheShcclxuZSx0KTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGksZi5wcm90b3R5cGUpLGl9LFwic2xpY2VcIik7ZnVuY3Rpb24gVShyLGUsdCl7aWYociVcclxuMSE9PTB8fHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZihyK2U+dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcclxuXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWEoVSxcImNoZWNrT2Zmc2V0XCIpO2YucHJvdG90eXBlLnJlYWRVaW50TEU9XHJcbmYucHJvdG90eXBlLnJlYWRVSW50TEU9YShmdW5jdGlvbihlLHQsbil7ZT1lPj4+MCx0PXQ+Pj4wLG58fFUoZSx0LHRoaXMubGVuZ3RoKTtsZXQgaT10aGlzW2VdLFxyXG5zPTEsbz0wO2Zvcig7KytvPHQmJihzKj0yNTYpOylpKz10aGlzW2Urb10qcztyZXR1cm4gaX0sXCJyZWFkVUludExFXCIpO2YucHJvdG90eXBlLlxyXG5yZWFkVWludEJFPWYucHJvdG90eXBlLnJlYWRVSW50QkU9YShmdW5jdGlvbihlLHQsbil7ZT1lPj4+MCx0PXQ+Pj4wLG58fFUoZSx0LHRoaXMuXHJcbmxlbmd0aCk7bGV0IGk9dGhpc1tlKy0tdF0scz0xO2Zvcig7dD4wJiYocyo9MjU2KTspaSs9dGhpc1tlKy0tdF0qcztyZXR1cm4gaX0sXCJyZVxcXHJcbmFkVUludEJFXCIpO2YucHJvdG90eXBlLnJlYWRVaW50OD1mLnByb3RvdHlwZS5yZWFkVUludDg9YShmdW5jdGlvbihlLHQpe3JldHVybiBlPVxyXG5lPj4+MCx0fHxVKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0sXCJyZWFkVUludDhcIik7Zi5wcm90b3R5cGUucmVhZFVpbnQxNkxFPWYucHJvdG90eXBlLlxyXG5yZWFkVUludDE2TEU9YShmdW5jdGlvbihlLHQpe3JldHVybiBlPWU+Pj4wLHR8fFUoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZStcclxuMV08PDh9LFwicmVhZFVJbnQxNkxFXCIpO2YucHJvdG90eXBlLnJlYWRVaW50MTZCRT1mLnByb3RvdHlwZS5yZWFkVUludDE2QkU9YShmdW5jdGlvbihlLHQpe1xyXG5yZXR1cm4gZT1lPj4+MCx0fHxVKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXTw8OHx0aGlzW2UrMV19LFwicmVhZFVJbnQxNkJFXCIpO2YucHJvdG90eXBlLlxyXG5yZWFkVWludDMyTEU9Zi5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWEoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lPj4+MCx0fHxVKGUsNCx0aGlzLlxyXG5sZW5ndGgpLCh0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSt0aGlzW2UrM10qMTY3NzcyMTZ9LFwicmVhZFVJbnQzMkxFXCIpO1xyXG5mLnByb3RvdHlwZS5yZWFkVWludDMyQkU9Zi5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWEoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lPj4+MCxcclxudHx8VShlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV0qMTY3NzcyMTYrKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9LFwiXFxcclxucmVhZFVJbnQzMkJFXCIpO2YucHJvdG90eXBlLnJlYWRCaWdVSW50NjRMRT1tZShhKGZ1bmN0aW9uKGUpe2U9ZT4+PjAsQmUoZSxcIm9mZnNldFwiKTtcclxubGV0IHQ9dGhpc1tlXSxuPXRoaXNbZSs3XTsodD09PXZvaWQgMHx8bj09PXZvaWQgMCkmJmplKGUsdGhpcy5sZW5ndGgtOCk7bGV0IGk9dCtcclxudGhpc1srK2VdKjIqKjgrdGhpc1srK2VdKjIqKjE2K3RoaXNbKytlXSoyKioyNCxzPXRoaXNbKytlXSt0aGlzWysrZV0qMioqOCt0aGlzWysrZV0qXHJcbjIqKjE2K24qMioqMjQ7cmV0dXJuIEJpZ0ludChpKSsoQmlnSW50KHMpPDxCaWdJbnQoMzIpKX0sXCJyZWFkQmlnVUludDY0TEVcIikpO2YucHJvdG90eXBlLlxyXG5yZWFkQmlnVUludDY0QkU9bWUoYShmdW5jdGlvbihlKXtlPWU+Pj4wLEJlKGUsXCJvZmZzZXRcIik7bGV0IHQ9dGhpc1tlXSxuPXRoaXNbZSs3XTtcclxuKHQ9PT12b2lkIDB8fG49PT12b2lkIDApJiZqZShlLHRoaXMubGVuZ3RoLTgpO2xldCBpPXQqMioqMjQrdGhpc1srK2VdKjIqKjE2K3RoaXNbKytlXSpcclxuMioqOCt0aGlzWysrZV0scz10aGlzWysrZV0qMioqMjQrdGhpc1srK2VdKjIqKjE2K3RoaXNbKytlXSoyKio4K247cmV0dXJuKEJpZ0ludChcclxuaSk8PEJpZ0ludCgzMikpK0JpZ0ludChzKX0sXCJyZWFkQmlnVUludDY0QkVcIikpO2YucHJvdG90eXBlLnJlYWRJbnRMRT1hKGZ1bmN0aW9uKGUsdCxuKXtcclxuZT1lPj4+MCx0PXQ+Pj4wLG58fFUoZSx0LHRoaXMubGVuZ3RoKTtsZXQgaT10aGlzW2VdLHM9MSxvPTA7Zm9yKDsrK288dCYmKHMqPTI1Nik7KVxyXG5pKz10aGlzW2Urb10qcztyZXR1cm4gcyo9MTI4LGk+PXMmJihpLT1NYXRoLnBvdygyLDgqdCkpLGl9LFwicmVhZEludExFXCIpO2YucHJvdG90eXBlLlxyXG5yZWFkSW50QkU9YShmdW5jdGlvbihlLHQsbil7ZT1lPj4+MCx0PXQ+Pj4wLG58fFUoZSx0LHRoaXMubGVuZ3RoKTtsZXQgaT10LHM9MSxvPXRoaXNbZStcclxuLS1pXTtmb3IoO2k+MCYmKHMqPTI1Nik7KW8rPXRoaXNbZSstLWldKnM7cmV0dXJuIHMqPTEyOCxvPj1zJiYoby09TWF0aC5wb3coMiw4KnQpKSxcclxub30sXCJyZWFkSW50QkVcIik7Zi5wcm90b3R5cGUucmVhZEludDg9YShmdW5jdGlvbihlLHQpe3JldHVybiBlPWU+Pj4wLHR8fFUoZSwxLHRoaXMuXHJcbmxlbmd0aCksdGhpc1tlXSYxMjg/KDI1NS10aGlzW2VdKzEpKi0xOnRoaXNbZV19LFwicmVhZEludDhcIik7Zi5wcm90b3R5cGUucmVhZEludDE2TEU9XHJcbmEoZnVuY3Rpb24oZSx0KXtlPWU+Pj4wLHR8fFUoZSwyLHRoaXMubGVuZ3RoKTtsZXQgbj10aGlzW2VdfHRoaXNbZSsxXTw8ODtyZXR1cm4gbiZcclxuMzI3Njg/bnw0Mjk0OTAxNzYwOm59LFwicmVhZEludDE2TEVcIik7Zi5wcm90b3R5cGUucmVhZEludDE2QkU9YShmdW5jdGlvbihlLHQpe2U9ZT4+PlxyXG4wLHR8fFUoZSwyLHRoaXMubGVuZ3RoKTtsZXQgbj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gbiYzMjc2OD9ufDQyOTQ5MDE3NjA6bn0sXHJcblwicmVhZEludDE2QkVcIik7Zi5wcm90b3R5cGUucmVhZEludDMyTEU9YShmdW5jdGlvbihlLHQpe3JldHVybiBlPWU+Pj4wLHR8fFUoZSw0LHRoaXMuXHJcbmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fSxcInJlYWRJbnQzMkxFXCIpO2YucHJvdG90eXBlLlxyXG5yZWFkSW50MzJCRT1hKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZT4+PjAsdHx8VShlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDI0fHRoaXNbZStcclxuMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM119LFwicmVhZEludDMyQkVcIik7Zi5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEU9bWUoYShmdW5jdGlvbihlKXtcclxuZT1lPj4+MCxCZShlLFwib2Zmc2V0XCIpO2xldCB0PXRoaXNbZV0sbj10aGlzW2UrN107KHQ9PT12b2lkIDB8fG49PT12b2lkIDApJiZqZShlLFxyXG50aGlzLmxlbmd0aC04KTtsZXQgaT10aGlzW2UrNF0rdGhpc1tlKzVdKjIqKjgrdGhpc1tlKzZdKjIqKjE2KyhuPDwyNCk7cmV0dXJuKEJpZ0ludChcclxuaSk8PEJpZ0ludCgzMikpK0JpZ0ludCh0K3RoaXNbKytlXSoyKio4K3RoaXNbKytlXSoyKioxNit0aGlzWysrZV0qMioqMjQpfSxcInJlYWRCXFxcclxuaWdJbnQ2NExFXCIpKTtmLnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRT1tZShhKGZ1bmN0aW9uKGUpe2U9ZT4+PjAsQmUoZSxcIm9mZnNldFwiKTtcclxubGV0IHQ9dGhpc1tlXSxuPXRoaXNbZSs3XTsodD09PXZvaWQgMHx8bj09PXZvaWQgMCkmJmplKGUsdGhpcy5sZW5ndGgtOCk7bGV0IGk9KHQ8PFxyXG4yNCkrdGhpc1srK2VdKjIqKjE2K3RoaXNbKytlXSoyKio4K3RoaXNbKytlXTtyZXR1cm4oQmlnSW50KGkpPDxCaWdJbnQoMzIpKStCaWdJbnQoXHJcbnRoaXNbKytlXSoyKioyNCt0aGlzWysrZV0qMioqMTYrdGhpc1srK2VdKjIqKjgrbil9LFwicmVhZEJpZ0ludDY0QkVcIikpO2YucHJvdG90eXBlLlxyXG5yZWFkRmxvYXRMRT1hKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZT4+PjAsdHx8VShlLDQsdGhpcy5sZW5ndGgpLFBlLnJlYWQodGhpcyxlLFxyXG4hMCwyMyw0KX0sXCJyZWFkRmxvYXRMRVwiKTtmLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1hKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZT4+PjAsXHJcbnR8fFUoZSw0LHRoaXMubGVuZ3RoKSxQZS5yZWFkKHRoaXMsZSwhMSwyMyw0KX0sXCJyZWFkRmxvYXRCRVwiKTtmLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9XHJcbmEoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lPj4+MCx0fHxVKGUsOCx0aGlzLmxlbmd0aCksUGUucmVhZCh0aGlzLGUsITAsNTIsOCl9LFwiclxcXHJcbmVhZERvdWJsZUxFXCIpO2YucHJvdG90eXBlLnJlYWREb3VibGVCRT1hKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZT4+PjAsdHx8VShlLDgsdGhpcy5cclxubGVuZ3RoKSxQZS5yZWFkKHRoaXMsZSwhMSw1Miw4KX0sXCJyZWFkRG91YmxlQkVcIik7ZnVuY3Rpb24geihyLGUsdCxuLGkscyl7aWYoIWYuaXNCdWZmZXIoXHJcbnIpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKGU+aXx8ZTxcclxucyl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZih0K24+ci5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXHJcblwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWEoeixcImNoZWNrSW50XCIpO2YucHJvdG90eXBlLndyaXRlVWludExFPWYucHJvdG90eXBlLndyaXRlVUludExFPVxyXG5hKGZ1bmN0aW9uKGUsdCxuLGkpe2lmKGU9K2UsdD10Pj4+MCxuPW4+Pj4wLCFpKXtsZXQgdT1NYXRoLnBvdygyLDgqbiktMTt6KHRoaXMsZSxcclxudCxuLHUsMCl9bGV0IHM9MSxvPTA7Zm9yKHRoaXNbdF09ZSYyNTU7KytvPG4mJihzKj0yNTYpOyl0aGlzW3Qrb109ZS9zJjI1NTtyZXR1cm4gdCtcclxubn0sXCJ3cml0ZVVJbnRMRVwiKTtmLnByb3RvdHlwZS53cml0ZVVpbnRCRT1mLnByb3RvdHlwZS53cml0ZVVJbnRCRT1hKGZ1bmN0aW9uKGUsdCxuLGkpe1xyXG5pZihlPStlLHQ9dD4+PjAsbj1uPj4+MCwhaSl7bGV0IHU9TWF0aC5wb3coMiw4Km4pLTE7eih0aGlzLGUsdCxuLHUsMCl9bGV0IHM9bi0xLFxyXG5vPTE7Zm9yKHRoaXNbdCtzXT1lJjI1NTstLXM+PTAmJihvKj0yNTYpOyl0aGlzW3Qrc109ZS9vJjI1NTtyZXR1cm4gdCtufSxcIndyaXRlVUlcXFxyXG5udEJFXCIpO2YucHJvdG90eXBlLndyaXRlVWludDg9Zi5wcm90b3R5cGUud3JpdGVVSW50OD1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT1cclxuK2UsdD10Pj4+MCxufHx6KHRoaXMsZSx0LDEsMjU1LDApLHRoaXNbdF09ZSYyNTUsdCsxfSxcIndyaXRlVUludDhcIik7Zi5wcm90b3R5cGUud3JpdGVVaW50MTZMRT1cclxuZi5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PXQ+Pj4wLG58fHoodGhpcyxlLHQsMixcclxuNjU1MzUsMCksdGhpc1t0XT1lJjI1NSx0aGlzW3QrMV09ZT4+PjgsdCsyfSxcIndyaXRlVUludDE2TEVcIik7Zi5wcm90b3R5cGUud3JpdGVVaW50MTZCRT1cclxuZi5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PXQ+Pj4wLG58fHoodGhpcyxlLHQsMixcclxuNjU1MzUsMCksdGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09ZSYyNTUsdCsyfSxcIndyaXRlVUludDE2QkVcIik7Zi5wcm90b3R5cGUud3JpdGVVaW50MzJMRT1cclxuZi5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PXQ+Pj4wLG58fHoodGhpcyxlLHQsNCxcclxuNDI5NDk2NzI5NSwwKSx0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09ZSYyNTUsdCtcclxuNH0sXCJ3cml0ZVVJbnQzMkxFXCIpO2YucHJvdG90eXBlLndyaXRlVWludDMyQkU9Zi5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1hKGZ1bmN0aW9uKGUsdCxuKXtcclxucmV0dXJuIGU9K2UsdD10Pj4+MCxufHx6KHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSx0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LFxyXG50aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPWUmMjU1LHQrNH0sXCJ3cml0ZVVJbnQzMkJFXCIpO2Z1bmN0aW9uIFVuKHIsZSx0LG4saSl7am4oXHJcbmUsbixpLHIsdCw3KTtsZXQgcz1OdW1iZXIoZSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JbdCsrXT1zLHM9cz4+OCxyW3QrK109cyxzPXM+PjgsXHJcbnJbdCsrXT1zLHM9cz4+OCxyW3QrK109cztsZXQgbz1OdW1iZXIoZT4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiByW3QrK109XHJcbm8sbz1vPj44LHJbdCsrXT1vLG89bz4+OCxyW3QrK109byxvPW8+Pjgsclt0KytdPW8sdH1hKFVuLFwid3J0QmlnVUludDY0TEVcIik7ZnVuY3Rpb24gcW4ocixlLHQsbixpKXtcclxuam4oZSxuLGkscix0LDcpO2xldCBzPU51bWJlcihlJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7clt0KzddPXMscz1zPj44LHJbdCs2XT1zLHM9cz4+XHJcbjgsclt0KzVdPXMscz1zPj44LHJbdCs0XT1zO2xldCBvPU51bWJlcihlPj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIHJbdCtcclxuM109byxvPW8+Pjgsclt0KzJdPW8sbz1vPj44LHJbdCsxXT1vLG89bz4+OCxyW3RdPW8sdCs4fWEocW4sXCJ3cnRCaWdVSW50NjRCRVwiKTtmLlxyXG5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRMRT1tZShhKGZ1bmN0aW9uKGUsdD0wKXtyZXR1cm4gVW4odGhpcyxlLHQsQmlnSW50KDApLEJpZ0ludChcclxuXCIweGZmZmZmZmZmZmZmZmZmZmZcIikpfSxcIndyaXRlQmlnVUludDY0TEVcIikpO2YucHJvdG90eXBlLndyaXRlQmlnVUludDY0QkU9bWUoYShmdW5jdGlvbihlLHQ9MCl7XHJcbnJldHVybiBxbih0aGlzLGUsdCxCaWdJbnQoMCksQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKX0sXCJ3cml0ZUJpZ1VJbnQ2NEJFXCIpKTtcclxuZi5wcm90b3R5cGUud3JpdGVJbnRMRT1hKGZ1bmN0aW9uKGUsdCxuLGkpe2lmKGU9K2UsdD10Pj4+MCwhaSl7bGV0IGM9TWF0aC5wb3coMixcclxuOCpuLTEpO3oodGhpcyxlLHQsbixjLTEsLWMpfWxldCBzPTAsbz0xLHU9MDtmb3IodGhpc1t0XT1lJjI1NTsrK3M8biYmKG8qPTI1Nik7KWU8XHJcbjAmJnU9PT0wJiZ0aGlzW3Qrcy0xXSE9PTAmJih1PTEpLHRoaXNbdCtzXT0oZS9vPj4wKS11JjI1NTtyZXR1cm4gdCtufSxcIndyaXRlSW50TFxcXHJcbkVcIik7Zi5wcm90b3R5cGUud3JpdGVJbnRCRT1hKGZ1bmN0aW9uKGUsdCxuLGkpe2lmKGU9K2UsdD10Pj4+MCwhaSl7bGV0IGM9TWF0aC5wb3coXHJcbjIsOCpuLTEpO3oodGhpcyxlLHQsbixjLTEsLWMpfWxldCBzPW4tMSxvPTEsdT0wO2Zvcih0aGlzW3Qrc109ZSYyNTU7LS1zPj0wJiYobyo9XHJcbjI1Nik7KWU8MCYmdT09PTAmJnRoaXNbdCtzKzFdIT09MCYmKHU9MSksdGhpc1t0K3NdPShlL28+PjApLXUmMjU1O3JldHVybiB0K259LFwid1xcXHJcbnJpdGVJbnRCRVwiKTtmLnByb3RvdHlwZS53cml0ZUludDg9YShmdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD10Pj4+MCxufHx6KHRoaXMsXHJcbmUsdCwxLDEyNywtMTI4KSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09ZSYyNTUsdCsxfSxcIndyaXRlSW50OFwiKTtmLnByb3RvdHlwZS53cml0ZUludDE2TEU9XHJcbmEoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9dD4+PjAsbnx8eih0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksdGhpc1t0XT1lJjI1NSxcclxudGhpc1t0KzFdPWU+Pj44LHQrMn0sXCJ3cml0ZUludDE2TEVcIik7Zi5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWEoZnVuY3Rpb24oZSx0LG4pe1xyXG5yZXR1cm4gZT0rZSx0PXQ+Pj4wLG58fHoodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPWUmMjU1LFxyXG50KzJ9LFwid3JpdGVJbnQxNkJFXCIpO2YucHJvdG90eXBlLndyaXRlSW50MzJMRT1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PXQ+Pj5cclxuMCxufHx6KHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1t0XT1lJjI1NSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPVxyXG5lPj4+MTYsdGhpc1t0KzNdPWU+Pj4yNCx0KzR9LFwid3JpdGVJbnQzMkxFXCIpO2YucHJvdG90eXBlLndyaXRlSW50MzJCRT1hKGZ1bmN0aW9uKGUsdCxuKXtcclxucmV0dXJuIGU9K2UsdD10Pj4+MCxufHx6KHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksZTwwJiYoZT00Mjk0OTY3Mjk1K2UrXHJcbjEpLHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT1lJjI1NSx0KzR9LFwid3JpdGVJblxcXHJcbnQzMkJFXCIpO2YucHJvdG90eXBlLndyaXRlQmlnSW50NjRMRT1tZShhKGZ1bmN0aW9uKGUsdD0wKXtyZXR1cm4gVW4odGhpcyxlLHQsLUJpZ0ludChcclxuXCIweDgwMDAwMDAwMDAwMDAwMDBcIiksQmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmXCIpKX0sXCJ3cml0ZUJpZ0ludDY0TEVcIikpO2YucHJvdG90eXBlLlxyXG53cml0ZUJpZ0ludDY0QkU9bWUoYShmdW5jdGlvbihlLHQ9MCl7cmV0dXJuIHFuKHRoaXMsZSx0LC1CaWdJbnQoXCIweDgwMDAwMDAwMDAwMDBcXFxyXG4wMDBcIiksQmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmXCIpKX0sXCJ3cml0ZUJpZ0ludDY0QkVcIikpO2Z1bmN0aW9uIE5uKHIsZSx0LG4saSxzKXtcclxuaWYodCtuPnIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcclxuXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9YShObixcImNoZWNrSUVFRTc1NFwiKTtmdW5jdGlvbiBRbihyLGUsdCxuLGkpe3JldHVybiBlPStlLHQ9XHJcbnQ+Pj4wLGl8fE5uKHIsZSx0LDQsMzQwMjgyMzQ2NjM4NTI4ODZlMjIsLTM0MDI4MjM0NjYzODUyODg2ZTIyKSxQZS53cml0ZShyLGUsdCxuLFxyXG4yMyw0KSx0KzR9YShRbixcIndyaXRlRmxvYXRcIik7Zi5wcm90b3R5cGUud3JpdGVGbG9hdExFPWEoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBRbihcclxudGhpcyxlLHQsITAsbil9LFwid3JpdGVGbG9hdExFXCIpO2YucHJvdG90eXBlLndyaXRlRmxvYXRCRT1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUW4oXHJcbnRoaXMsZSx0LCExLG4pfSxcIndyaXRlRmxvYXRCRVwiKTtmdW5jdGlvbiBXbihyLGUsdCxuLGkpe3JldHVybiBlPStlLHQ9dD4+PjAsaXx8Tm4oXHJcbnIsZSx0LDgsMTc5NzY5MzEzNDg2MjMxNTdlMjkyLC0xNzk3NjkzMTM0ODYyMzE1N2UyOTIpLFBlLndyaXRlKHIsZSx0LG4sNTIsOCksdCs4fVxyXG5hKFduLFwid3JpdGVEb3VibGVcIik7Zi5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gV24odGhpcyxlLFxyXG50LCEwLG4pfSxcIndyaXRlRG91YmxlTEVcIik7Zi5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1hKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gV24oXHJcbnRoaXMsZSx0LCExLG4pfSxcIndyaXRlRG91YmxlQkVcIik7Zi5wcm90b3R5cGUuY29weT1hKGZ1bmN0aW9uKGUsdCxuLGkpe2lmKCFmLmlzQnVmZmVyKFxyXG5lKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKG58fChuPTApLCFpJiZpIT09MCYmKGk9XHJcbnRoaXMubGVuZ3RoKSx0Pj1lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpLHR8fCh0PTApLGk+MCYmaTxuJiYoaT1uKSxpPT09bnx8ZS5sZW5ndGg9PT1cclxuMHx8dGhpcy5sZW5ndGg9PT0wKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuXFxcclxuZHNcIik7aWYobjwwfHxuPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihpPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXHJcblwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7aT50aGlzLmxlbmd0aCYmKGk9dGhpcy5sZW5ndGgpLGUubGVuZ3RoLXQ8aS1uJiYoaT1lLmxlbmd0aC1cclxudCtuKTtsZXQgcz1pLW47cmV0dXJuIHRoaXM9PT1lJiZ0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj09XCJmdW5jdGlvXFxcclxublwiP3RoaXMuY29weVdpdGhpbih0LG4saSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KG4saSksdCksXHJcbnN9LFwiY29weVwiKTtmLnByb3RvdHlwZS5maWxsPWEoZnVuY3Rpb24oZSx0LG4saSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe2lmKHR5cGVvZiB0PT1cclxuXCJzdHJpbmdcIj8oaT10LHQ9MCxuPXRoaXMubGVuZ3RoKTp0eXBlb2Ygbj09XCJzdHJpbmdcIiYmKGk9bixuPXRoaXMubGVuZ3RoKSxpIT09dm9pZCAwJiZcclxudHlwZW9mIGkhPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYodHlwZW9mIGk9PVxyXG5cInN0cmluZ1wiJiYhZi5pc0VuY29kaW5nKGkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitpKTtpZihlLmxlbmd0aD09PVxyXG4xKXtsZXQgbz1lLmNoYXJDb2RlQXQoMCk7KGk9PT1cInV0ZjhcIiYmbzwxMjh8fGk9PT1cImxhdGluMVwiKSYmKGU9byl9fWVsc2UgdHlwZW9mIGU9PVxyXG5cIm51bWJlclwiP2U9ZSYyNTU6dHlwZW9mIGU9PVwiYm9vbGVhblwiJiYoZT1OdW1iZXIoZSkpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5cclxubGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYobjw9dClyZXR1cm4gdGhpczt0PXQ+Pj4wLFxyXG5uPW49PT12b2lkIDA/dGhpcy5sZW5ndGg6bj4+PjAsZXx8KGU9MCk7bGV0IHM7aWYodHlwZW9mIGU9PVwibnVtYmVyXCIpZm9yKHM9dDtzPG47KytzKVxyXG50aGlzW3NdPWU7ZWxzZXtsZXQgbz1mLmlzQnVmZmVyKGUpP2U6Zi5mcm9tKGUsaSksdT1vLmxlbmd0aDtpZih1PT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4nVGhlIHZhbHVlIFwiJytlKydcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtmb3Iocz0wO3M8bi10Oysrcyl0aGlzW3MrdF09XHJcbm9bcyV1XX1yZXR1cm4gdGhpc30sXCJmaWxsXCIpO3ZhciBUZT17fTtmdW5jdGlvbiBEdChyLGUsdCl7dmFyIG47VGVbcl09KG49Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7XHJcbnN1cGVyKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtZXNzYWdlXCIse3ZhbHVlOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHdyaXRhYmxlOiEwLFxyXG5jb25maWd1cmFibGU6ITB9KSx0aGlzLm5hbWU9YCR7dGhpcy5uYW1lfSBbJHtyfV1gLHRoaXMuc3RhY2ssZGVsZXRlIHRoaXMubmFtZX1nZXQgY29kZSgpe1xyXG5yZXR1cm4gcn1zZXQgY29kZShzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvZGVcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsXHJcbnZhbHVlOnMsd3JpdGFibGU6ITB9KX10b1N0cmluZygpe3JldHVybmAke3RoaXMubmFtZX0gWyR7cn1dOiAke3RoaXMubWVzc2FnZX1gfX0sXHJcbmEobixcIk5vZGVFcnJvclwiKSxuKX1hKER0LFwiRVwiKTtEdChcIkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EU1wiLGZ1bmN0aW9uKHIpe3JldHVybiByP1xyXG5gJHtyfSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgOlwiQXR0ZW1wdCB0byBhY2Nlc3MgbWVtb3J5IG91dHNpZGUgYnVmZmVyIGJvdW5cXFxyXG5kc1wifSxSYW5nZUVycm9yKTtEdChcIkVSUl9JTlZBTElEX0FSR19UWVBFXCIsZnVuY3Rpb24ocixlKXtyZXR1cm5gVGhlIFwiJHtyfVwiIGFyZ3VtXFxcclxuZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgZX1gfSxUeXBlRXJyb3IpO0R0KFwiRVJSX09VVF9PXFxcclxuRl9SQU5HRVwiLGZ1bmN0aW9uKHIsZSx0KXtsZXQgbj1gVGhlIHZhbHVlIG9mIFwiJHtyfVwiIGlzIG91dCBvZiByYW5nZS5gLGk9dDtyZXR1cm4gTnVtYmVyLlxyXG5pc0ludGVnZXIodCkmJk1hdGguYWJzKHQpPjIqKjMyP2k9Um4oU3RyaW5nKHQpKTp0eXBlb2YgdD09XCJiaWdpbnRcIiYmKGk9U3RyaW5nKHQpLFxyXG4odD5CaWdJbnQoMikqKkJpZ0ludCgzMil8fHQ8LShCaWdJbnQoMikqKkJpZ0ludCgzMikpKSYmKGk9Um4oaSkpLGkrPVwiblwiKSxuKz1gIEl0XFxcclxuIG11c3QgYmUgJHtlfS4gUmVjZWl2ZWQgJHtpfWAsbn0sUmFuZ2VFcnJvcik7ZnVuY3Rpb24gUm4ocil7bGV0IGU9XCJcIix0PXIubGVuZ3RoLFxyXG5uPXJbMF09PT1cIi1cIj8xOjA7Zm9yKDt0Pj1uKzQ7dC09MyllPWBfJHtyLnNsaWNlKHQtMyx0KX0ke2V9YDtyZXR1cm5gJHtyLnNsaWNlKDAsXHJcbnQpfSR7ZX1gfWEoUm4sXCJhZGROdW1lcmljYWxTZXBhcmF0b3JcIik7ZnVuY3Rpb24gTG8ocixlLHQpe0JlKGUsXCJvZmZzZXRcIiksKHJbZV09PT1cclxudm9pZCAwfHxyW2UrdF09PT12b2lkIDApJiZqZShlLHIubGVuZ3RoLSh0KzEpKX1hKExvLFwiY2hlY2tCb3VuZHNcIik7ZnVuY3Rpb24gam4ocixlLHQsbixpLHMpe1xyXG5pZihyPnR8fHI8ZSl7bGV0IG89dHlwZW9mIGU9PVwiYmlnaW50XCI/XCJuXCI6XCJcIix1O3Rocm93IHM+Mz9lPT09MHx8ZT09PUJpZ0ludCgwKT91PVxyXG5gPj0gMCR7b30gYW5kIDwgMiR7b30gKiogJHsocysxKSo4fSR7b31gOnU9YD49IC0oMiR7b30gKiogJHsocysxKSo4LTF9JHtvfSkgYW5kIFxcXHJcbjwgMiAqKiAkeyhzKzEpKjgtMX0ke299YDp1PWA+PSAke2V9JHtvfSBhbmQgPD0gJHt0fSR7b31gLG5ldyBUZS5FUlJfT1VUX09GX1JBTkdFKFxyXG5cInZhbHVlXCIsdSxyKX1MbyhuLGkscyl9YShqbixcImNoZWNrSW50QklcIik7ZnVuY3Rpb24gQmUocixlKXtpZih0eXBlb2YgciE9XCJudW1iZXJcIilcclxudGhyb3cgbmV3IFRlLkVSUl9JTlZBTElEX0FSR19UWVBFKGUsXCJudW1iZXJcIixyKX1hKEJlLFwidmFsaWRhdGVOdW1iZXJcIik7ZnVuY3Rpb24gamUocixlLHQpe1xyXG50aHJvdyBNYXRoLmZsb29yKHIpIT09cj8oQmUocix0KSxuZXcgVGUuRVJSX09VVF9PRl9SQU5HRSh0fHxcIm9mZnNldFwiLFwiYW4gaW50ZWdlclwiLFxyXG5yKSk6ZTwwP25ldyBUZS5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFM6bmV3IFRlLkVSUl9PVVRfT0ZfUkFOR0UodHx8XCJvZmZzZXRcIixgPj0gJHt0P1xyXG4xOjB9IGFuZCA8PSAke2V9YCxyKX1hKGplLFwiYm91bmRzRXJyb3JcIik7dmFyIFJvPS9bXisvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gRm8ocil7XHJcbmlmKHI9ci5zcGxpdChcIj1cIilbMF0scj1yLnRyaW0oKS5yZXBsYWNlKFJvLFwiXCIpLHIubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO3IubGVuZ3RoJVxyXG40IT09MDspcj1yK1wiPVwiO3JldHVybiByfWEoRm8sXCJiYXNlNjRjbGVhblwiKTtmdW5jdGlvbiBSdChyLGUpe2U9ZXx8MS8wO2xldCB0LG49ci5cclxubGVuZ3RoLGk9bnVsbCxzPVtdO2ZvcihsZXQgbz0wO288bjsrK28pe2lmKHQ9ci5jaGFyQ29kZUF0KG8pLHQ+NTUyOTUmJnQ8NTczNDQpe2lmKCFpKXtcclxuaWYodD41NjMxOSl7KGUtPTMpPi0xJiZzLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWVsc2UgaWYobysxPT09bil7KGUtPTMpPi0xJiZcclxucy5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pPXQ7Y29udGludWV9aWYodDw1NjMyMCl7KGUtPTMpPi0xJiZzLnB1c2goMjM5LDE5MSxcclxuMTg5KSxpPXQ7Y29udGludWV9dD0oaS01NTI5Njw8MTB8dC01NjMyMCkrNjU1MzZ9ZWxzZSBpJiYoZS09Myk+LTEmJnMucHVzaCgyMzksMTkxLFxyXG4xODkpO2lmKGk9bnVsbCx0PDEyOCl7aWYoKGUtPTEpPDApYnJlYWs7cy5wdXNoKHQpfWVsc2UgaWYodDwyMDQ4KXtpZigoZS09Mik8MClicmVhaztcclxucy5wdXNoKHQ+PjZ8MTkyLHQmNjN8MTI4KX1lbHNlIGlmKHQ8NjU1MzYpe2lmKChlLT0zKTwwKWJyZWFrO3MucHVzaCh0Pj4xMnwyMjQsdD4+XHJcbjYmNjN8MTI4LHQmNjN8MTI4KX1lbHNlIGlmKHQ8MTExNDExMil7aWYoKGUtPTQpPDApYnJlYWs7cy5wdXNoKHQ+PjE4fDI0MCx0Pj4xMiY2M3xcclxuMTI4LHQ+PjYmNjN8MTI4LHQmNjN8MTI4KX1lbHNlIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKX1yZXR1cm4gc31hKFxyXG5SdCxcInV0ZjhUb0J5dGVzXCIpO2Z1bmN0aW9uIE1vKHIpe2xldCBlPVtdO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7Kyt0KWUucHVzaChyLmNoYXJDb2RlQXQoXHJcbnQpJjI1NSk7cmV0dXJuIGV9YShNbyxcImFzY2lpVG9CeXRlc1wiKTtmdW5jdGlvbiBEbyhyLGUpe2xldCB0LG4saSxzPVtdO2ZvcihsZXQgbz0wO288XHJcbnIubGVuZ3RoJiYhKChlLT0yKTwwKTsrK28pdD1yLmNoYXJDb2RlQXQobyksbj10Pj44LGk9dCUyNTYscy5wdXNoKGkpLHMucHVzaChuKTtyZXR1cm4gc31cclxuYShEbyxcInV0ZjE2bGVUb0J5dGVzXCIpO2Z1bmN0aW9uIEhuKHIpe3JldHVybiBQdC50b0J5dGVBcnJheShGbyhyKSl9YShIbixcImJhc2U2NFRcXFxyXG5vQnl0ZXNcIik7ZnVuY3Rpb24gb3QocixlLHQsbil7bGV0IGk7Zm9yKGk9MDtpPG4mJiEoaSt0Pj1lLmxlbmd0aHx8aT49ci5sZW5ndGgpOysraSlcclxuZVtpK3RdPXJbaV07cmV0dXJuIGl9YShvdCxcImJsaXRCdWZmZXJcIik7ZnVuY3Rpb24gYWUocixlKXtyZXR1cm4gciBpbnN0YW5jZW9mIGV8fFxyXG5yIT1udWxsJiZyLmNvbnN0cnVjdG9yIT1udWxsJiZyLmNvbnN0cnVjdG9yLm5hbWUhPW51bGwmJnIuY29uc3RydWN0b3IubmFtZT09PWUubmFtZX1cclxuYShhZSxcImlzSW5zdGFuY2VcIik7ZnVuY3Rpb24gT3Qocil7cmV0dXJuIHIhPT1yfWEoT3QsXCJudW1iZXJJc05hTlwiKTt2YXIgT289ZnVuY3Rpb24oKXtcclxubGV0IHI9XCIwMTIzNDU2Nzg5YWJjZGVmXCIsZT1uZXcgQXJyYXkoMjU2KTtmb3IobGV0IHQ9MDt0PDE2OysrdCl7bGV0IG49dCoxNjtmb3IobGV0IGk9MDtpPFxyXG4xNjsrK2kpZVtuK2ldPXJbdF0rcltpXX1yZXR1cm4gZX0oKTtmdW5jdGlvbiBtZShyKXtyZXR1cm4gdHlwZW9mIEJpZ0ludD5cInVcIj9rbzpyfVxyXG5hKG1lLFwiZGVmaW5lQmlnSW50TWV0aG9kXCIpO2Z1bmN0aW9uIGtvKCl7dGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IG5vdCBzdXBwb3J0ZWRcIil9XHJcbmEoa28sXCJCdWZmZXJCaWdJbnROb3REZWZpbmVkXCIpfSk7dmFyIGIsUyx2LHcsZCxtLHA9SygoKT0+e1widXNlIHN0cmljdFwiO2I9Z2xvYmFsVGhpcyxTPWdsb2JhbFRoaXMuc2V0SW1tZWRpYXRlPz8ocj0+c2V0VGltZW91dChcclxuciwwKSksdj1nbG9iYWxUaGlzLmNsZWFySW1tZWRpYXRlPz8ocj0+Y2xlYXJUaW1lb3V0KHIpKSx3PWdsb2JhbFRoaXMuY3J5cHRvPz97fTtcclxudy5zdWJ0bGU/Pyh3LnN1YnRsZT17fSk7ZD10eXBlb2YgZ2xvYmFsVGhpcy5CdWZmZXI9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGdsb2JhbFRoaXMuXHJcbkJ1ZmZlci5hbGxvY1Vuc2FmZT09XCJmdW5jdGlvblwiP2dsb2JhbFRoaXMuQnVmZmVyOkduKCkuQnVmZmVyLG09Z2xvYmFsVGhpcy5wcm9jZXNzPz9cclxue307bS5lbnY/PyhtLmVudj17fSk7dHJ5e20ubmV4dFRpY2soKCk9Pnt9KX1jYXRjaHtsZXQgZT1Qcm9taXNlLnJlc29sdmUoKTttLm5leHRUaWNrPVxyXG5lLnRoZW4uYmluZChlKX19KTt2YXIgZ2U9SSgoSmMsa3QpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3ZhciBSZT10eXBlb2YgUmVmbGVjdD09XCJvYmplY3RcIj9SZWZsZWN0Om51bGwsXHJcbiRuPVJlJiZ0eXBlb2YgUmUuYXBwbHk9PVwiZnVuY3Rpb25cIj9SZS5hcHBseTphKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLlxyXG5hcHBseS5jYWxsKGUsdCxuKX0sXCJSZWZsZWN0QXBwbHlcIiksYXQ7UmUmJnR5cGVvZiBSZS5vd25LZXlzPT1cImZ1bmN0aW9uXCI/YXQ9UmUub3duS2V5czpcclxuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9hdD1hKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhcclxuZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpfSxcIlJlZmxlY3RPd25LZXlzXCIpOmF0PWEoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5cclxuZ2V0T3duUHJvcGVydHlOYW1lcyhlKX0sXCJSZWZsZWN0T3duS2V5c1wiKTtmdW5jdGlvbiBVbyhyKXtjb25zb2xlJiZjb25zb2xlLndhcm4mJlxyXG5jb25zb2xlLndhcm4ocil9YShVbyxcIlByb2Nlc3NFbWl0V2FybmluZ1wiKTt2YXIgVm49TnVtYmVyLmlzTmFOfHxhKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09XHJcbmV9LFwiTnVtYmVySXNOYU5cIik7ZnVuY3Rpb24gQigpe0IuaW5pdC5jYWxsKHRoaXMpfWEoQixcIkV2ZW50RW1pdHRlclwiKTtrdC5leHBvcnRzPVxyXG5CO2t0LmV4cG9ydHMub25jZT1XbztCLkV2ZW50RW1pdHRlcj1CO0IucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwO0IucHJvdG90eXBlLl9ldmVudHNDb3VudD1cclxuMDtCLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgS249MTA7ZnVuY3Rpb24gdXQocil7aWYodHlwZW9mIHIhPVwiZnVuY3RpXFxcclxub25cIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWlcXFxyXG52ZWQgdHlwZSAnK3R5cGVvZiByKX1hKHV0LFwiY2hlY2tMaXN0ZW5lclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQixcImRlZmF1bHRNYXhMaVxcXHJcbnN0ZW5lcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gS259LHNldDpmdW5jdGlvbihyKXtpZih0eXBlb2YgciE9XCJcXFxyXG5udW1iZXJcInx8cjwwfHxWbihyKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIFxcXHJcbm91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrcitcIi5cIik7S249cn19KTtCLmluaXQ9XHJcbmZ1bmN0aW9uKCl7KHRoaXMuX2V2ZW50cz09PXZvaWQgMHx8dGhpcy5fZXZlbnRzPT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpJiZcclxuKHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fFxyXG52b2lkIDB9O0IucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1hKGZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT1cIm51bWJlclwifHxlPDB8fFZuKFxyXG5lKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhXFxcclxudGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LFwic2V0TWF4TGlzdGVuZXJcXFxyXG5zXCIpO2Z1bmN0aW9uIHpuKHIpe3JldHVybiByLl9tYXhMaXN0ZW5lcnM9PT12b2lkIDA/Qi5kZWZhdWx0TWF4TGlzdGVuZXJzOnIuX21heExpc3RlbmVyc31cclxuYSh6bixcIl9nZXRNYXhMaXN0ZW5lcnNcIik7Qi5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWEoZnVuY3Rpb24oKXtyZXR1cm4gem4odGhpcyl9LFxyXG5cImdldE1heExpc3RlbmVyc1wiKTtCLnByb3RvdHlwZS5lbWl0PWEoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKVxyXG50LnB1c2goYXJndW1lbnRzW25dKTt2YXIgaT1lPT09XCJlcnJvclwiLHM9dGhpcy5fZXZlbnRzO2lmKHMhPT12b2lkIDApaT1pJiZzLmVycm9yPT09XHJcbnZvaWQgMDtlbHNlIGlmKCFpKXJldHVybiExO2lmKGkpe3ZhciBvO2lmKHQubGVuZ3RoPjAmJihvPXRbMF0pLG8gaW5zdGFuY2VvZiBFcnJvcilcclxudGhyb3cgbzt2YXIgdT1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKG8/XCIgKFwiK28ubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgdS5jb250ZXh0PVxyXG5vLHV9dmFyIGM9c1tlXTtpZihjPT09dm9pZCAwKXJldHVybiExO2lmKHR5cGVvZiBjPT1cImZ1bmN0aW9uXCIpJG4oYyx0aGlzLHQpO2Vsc2UgZm9yKHZhciBoPWMuXHJcbmxlbmd0aCxsPWVpKGMsaCksbj0wO248aDsrK24pJG4obFtuXSx0aGlzLHQpO3JldHVybiEwfSxcImVtaXRcIik7ZnVuY3Rpb24gWW4ocixlLHQsbil7XHJcbnZhciBpLHMsbztpZih1dCh0KSxzPXIuX2V2ZW50cyxzPT09dm9pZCAwPyhzPXIuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHIuX2V2ZW50c0NvdW50PVxyXG4wKToocy5uZXdMaXN0ZW5lciE9PXZvaWQgMCYmKHIuZW1pdChcIm5ld0xpc3RlbmVyXCIsZSx0Lmxpc3RlbmVyP3QubGlzdGVuZXI6dCkscz1yLlxyXG5fZXZlbnRzKSxvPXNbZV0pLG89PT12b2lkIDApbz1zW2VdPXQsKytyLl9ldmVudHNDb3VudDtlbHNlIGlmKHR5cGVvZiBvPT1cImZ1bmN0aW9cXFxyXG5uXCI/bz1zW2VdPW4/W3Qsb106W28sdF06bj9vLnVuc2hpZnQodCk6by5wdXNoKHQpLGk9em4ociksaT4wJiZvLmxlbmd0aD5pJiYhby53YXJuZWQpe1xyXG5vLndhcm5lZD0hMDt2YXIgdT1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK28ubGVuZ3RoK1xyXG5cIiBcIitTdHJpbmcoZSkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTtcclxudS5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsdS5lbWl0dGVyPXIsdS50eXBlPWUsdS5jb3VudD1vLmxlbmd0aCxVbyh1KX1cclxucmV0dXJuIHJ9YShZbixcIl9hZGRMaXN0ZW5lclwiKTtCLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1hKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFluKFxyXG50aGlzLGUsdCwhMSl9LFwiYWRkTGlzdGVuZXJcIik7Qi5wcm90b3R5cGUub249Qi5wcm90b3R5cGUuYWRkTGlzdGVuZXI7Qi5wcm90b3R5cGUuXHJcbnByZXBlbmRMaXN0ZW5lcj1hKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFluKHRoaXMsZSx0LCEwKX0sXCJwcmVwZW5kTGlzdGVuZXJcIik7ZnVuY3Rpb24gcW8oKXtcclxuaWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD1cclxuITAsYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMuXHJcbnRhcmdldCxhcmd1bWVudHMpfWEocW8sXCJvbmNlV3JhcHBlclwiKTtmdW5jdGlvbiBabihyLGUsdCl7dmFyIG49e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsXHJcbnRhcmdldDpyLHR5cGU6ZSxsaXN0ZW5lcjp0fSxpPXFvLmJpbmQobik7cmV0dXJuIGkubGlzdGVuZXI9dCxuLndyYXBGbj1pLGl9YShabixcIlxcXHJcbl9vbmNlV3JhcFwiKTtCLnByb3RvdHlwZS5vbmNlPWEoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdXQodCksdGhpcy5vbihlLFpuKHRoaXMsZSx0KSksXHJcbnRoaXN9LFwib25jZVwiKTtCLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWEoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdXQodCksdGhpcy5cclxucHJlcGVuZExpc3RlbmVyKGUsWm4odGhpcyxlLHQpKSx0aGlzfSxcInByZXBlbmRPbmNlTGlzdGVuZXJcIik7Qi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9XHJcbmEoZnVuY3Rpb24oZSx0KXt2YXIgbixpLHMsbyx1O2lmKHV0KHQpLGk9dGhpcy5fZXZlbnRzLGk9PT12b2lkIDApcmV0dXJuIHRoaXM7aWYobj1cclxuaVtlXSxuPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKG49PT10fHxuLmxpc3RlbmVyPT09dCktLXRoaXMuX2V2ZW50c0NvdW50PT09MD90aGlzLlxyXG5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBpW2VdLGkucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RcXFxyXG5lbmVyXCIsZSxuLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZih0eXBlb2YgbiE9XCJmdW5jdGlvblwiKXtmb3Iocz0tMSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0pXHJcbmlmKG5bb109PT10fHxuW29dLmxpc3RlbmVyPT09dCl7dT1uW29dLmxpc3RlbmVyLHM9bzticmVha31pZihzPDApcmV0dXJuIHRoaXM7cz09PVxyXG4wP24uc2hpZnQoKTpObyhuLHMpLG4ubGVuZ3RoPT09MSYmKGlbZV09blswXSksaS5yZW1vdmVMaXN0ZW5lciE9PXZvaWQgMCYmdGhpcy5lbWl0KFxyXG5cInJlbW92ZUxpc3RlbmVyXCIsZSx1fHx0KX1yZXR1cm4gdGhpc30sXCJyZW1vdmVMaXN0ZW5lclwiKTtCLnByb3RvdHlwZS5vZmY9Qi5wcm90b3R5cGUuXHJcbnJlbW92ZUxpc3RlbmVyO0IucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1hKGZ1bmN0aW9uKGUpe3ZhciB0LG4saTtpZihuPXRoaXMuXHJcbl9ldmVudHMsbj09PXZvaWQgMClyZXR1cm4gdGhpcztpZihuLnJlbW92ZUxpc3RlbmVyPT09dm9pZCAwKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPT09XHJcbjA/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOm5bZV0hPT12b2lkIDAmJigtLXRoaXMuXHJcbl9ldmVudHNDb3VudD09PTA/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIG5bZV0pLHRoaXM7aWYoYXJndW1lbnRzLlxyXG5sZW5ndGg9PT0wKXt2YXIgcz1PYmplY3Qua2V5cyhuKSxvO2ZvcihpPTA7aTxzLmxlbmd0aDsrK2kpbz1zW2ldLG8hPT1cInJlbW92ZUxpc3RcXFxyXG5lbmVyXCImJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKG8pO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLFxyXG50aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYodD1uW2VdLHR5cGVvZiB0PT1cImZcXFxyXG51bmN0aW9uXCIpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodCE9PXZvaWQgMClmb3IoaT10Lmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMuXHJcbnJlbW92ZUxpc3RlbmVyKGUsdFtpXSk7cmV0dXJuIHRoaXN9LFwicmVtb3ZlQWxsTGlzdGVuZXJzXCIpO2Z1bmN0aW9uIEpuKHIsZSx0KXt2YXIgbj1yLlxyXG5fZXZlbnRzO2lmKG49PT12b2lkIDApcmV0dXJuW107dmFyIGk9bltlXTtyZXR1cm4gaT09PXZvaWQgMD9bXTp0eXBlb2YgaT09XCJmdW5jdGlcXFxyXG5vblwiP3Q/W2kubGlzdGVuZXJ8fGldOltpXTp0P1FvKGkpOmVpKGksaS5sZW5ndGgpfWEoSm4sXCJfbGlzdGVuZXJzXCIpO0IucHJvdG90eXBlLlxyXG5saXN0ZW5lcnM9YShmdW5jdGlvbihlKXtyZXR1cm4gSm4odGhpcyxlLCEwKX0sXCJsaXN0ZW5lcnNcIik7Qi5wcm90b3R5cGUucmF3TGlzdGVuZXJzPVxyXG5hKGZ1bmN0aW9uKGUpe3JldHVybiBKbih0aGlzLGUsITEpfSxcInJhd0xpc3RlbmVyc1wiKTtCLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24ocixlKXtcclxucmV0dXJuIHR5cGVvZiByLmxpc3RlbmVyQ291bnQ9PVwiZnVuY3Rpb25cIj9yLmxpc3RlbmVyQ291bnQoZSk6WG4uY2FsbChyLGUpfTtCLnByb3RvdHlwZS5cclxubGlzdGVuZXJDb3VudD1YbjtmdW5jdGlvbiBYbihyKXt2YXIgZT10aGlzLl9ldmVudHM7aWYoZSE9PXZvaWQgMCl7dmFyIHQ9ZVtyXTtpZih0eXBlb2YgdD09XHJcblwiZnVuY3Rpb25cIilyZXR1cm4gMTtpZih0IT09dm9pZCAwKXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH1hKFhuLFwibGlzdGVuZXJDb3VudFwiKTtcclxuQi5wcm90b3R5cGUuZXZlbnROYW1lcz1hKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/YXQodGhpcy5fZXZlbnRzKTpcclxuW119LFwiZXZlbnROYW1lc1wiKTtmdW5jdGlvbiBlaShyLGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZSksbj0wO248ZTsrK24pdFtuXT1yW25dO1xyXG5yZXR1cm4gdH1hKGVpLFwiYXJyYXlDbG9uZVwiKTtmdW5jdGlvbiBObyhyLGUpe2Zvcig7ZSsxPHIubGVuZ3RoO2UrKylyW2VdPXJbZSsxXTtyLlxyXG5wb3AoKX1hKE5vLFwic3BsaWNlT25lXCIpO2Z1bmN0aW9uIFFvKHIpe2Zvcih2YXIgZT1uZXcgQXJyYXkoci5sZW5ndGgpLHQ9MDt0PGUubGVuZ3RoOysrdClcclxuZVt0XT1yW3RdLmxpc3RlbmVyfHxyW3RdO3JldHVybiBlfWEoUW8sXCJ1bndyYXBMaXN0ZW5lcnNcIik7ZnVuY3Rpb24gV28ocixlKXtyZXR1cm4gbmV3IFByb21pc2UoXHJcbmZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaShvKXtyLnJlbW92ZUxpc3RlbmVyKGUscyksbihvKX1hKGksXCJlcnJvckxpc3RlbmVyXCIpO2Z1bmN0aW9uIHMoKXtcclxudHlwZW9mIHIucmVtb3ZlTGlzdGVuZXI9PVwiZnVuY3Rpb25cIiYmci5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaSksdChbXS5zbGljZS5jYWxsKFxyXG5hcmd1bWVudHMpKX1hKHMsXCJyZXNvbHZlclwiKSx0aShyLGUscyx7b25jZTohMH0pLGUhPT1cImVycm9yXCImJmpvKHIsaSx7b25jZTohMH0pfSl9XHJcbmEoV28sXCJvbmNlXCIpO2Z1bmN0aW9uIGpvKHIsZSx0KXt0eXBlb2Ygci5vbj09XCJmdW5jdGlvblwiJiZ0aShyLFwiZXJyb3JcIixlLHQpfWEoam8sXHJcblwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXJcIik7ZnVuY3Rpb24gdGkocixlLHQsbil7aWYodHlwZW9mIHIub249PVwiZnVuY3Rpb25cIilcclxubi5vbmNlP3Iub25jZShlLHQpOnIub24oZSx0KTtlbHNlIGlmKHR5cGVvZiByLmFkZEV2ZW50TGlzdGVuZXI9PVwiZnVuY3Rpb25cIilyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbmUsYShmdW5jdGlvbiBpKHMpe24ub25jZSYmci5yZW1vdmVFdmVudExpc3RlbmVyKGUsaSksdChzKX0sXCJ3cmFwTGlzdGVuZXJcIikpO2Vsc2VcclxudGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdlxcXHJcbmVkIHR5cGUgJyt0eXBlb2Ygcil9YSh0aSxcImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lclwiKX0pO3ZhciBIZT17fTtYKEhlLHtkZWZhdWx0OigpPT5Ib30pO3ZhciBIbyxHZT1LKCgpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO0hvPXt9fSk7ZnVuY3Rpb24gJGUocil7bGV0IGU9MTc3OTAzMzcwMyx0PTMxNDQxMzQyNzcsbj0xMDEzOTA0MjQyLGk9Mjc3MzQ4MDc2MixzPTEzNTk4OTMxMTksXHJcbm89MjYwMDgyMjkyNCx1PTUyODczNDYzNSxjPTE1NDE0NTkyMjUsaD0wLGw9MCx5PVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSxcclxuMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LFxyXG4xNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCxcclxuNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCxcclxuMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsXHJcbjEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCxcclxuMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsXHJcbjg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsXHJcbjIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0sRT1hKChBLGcpPT5BPj4+Z3xBPDwzMi1nLFxyXG5cInJyb3RcIiksXz1uZXcgVWludDMyQXJyYXkoNjQpLFA9bmV3IFVpbnQ4QXJyYXkoNjQpLE49YSgoKT0+e2ZvcihsZXQgTD0wLEc9MDtMPDE2O0wrKyxcclxuRys9NClfW0xdPVBbR108PDI0fFBbRysxXTw8MTZ8UFtHKzJdPDw4fFBbRyszXTtmb3IobGV0IEw9MTY7TDw2NDtMKyspe2xldCBHPUUoX1tMLVxyXG4xNV0sNyleRShfW0wtMTVdLDE4KV5fW0wtMTVdPj4+MyxjZT1FKF9bTC0yXSwxNyleRShfW0wtMl0sMTkpXl9bTC0yXT4+PjEwO19bTF09X1tMLVxyXG4xNl0rRytfW0wtN10rY2V8MH1sZXQgQT1lLGc9dCxEPW4sSD1pLFE9cyxXPW8sdWU9dSxkZT1jO2ZvcihsZXQgTD0wO0w8NjQ7TCsrKXtsZXQgRz1FKFxyXG5RLDYpXkUoUSwxMSleRShRLDI1KSxjZT1RJldeflEmdWUseWU9ZGUrRytjZSt5W0xdK19bTF18MCx4ZT1FKEEsMileRShBLDEzKV5FKEEsMjIpLFxyXG5oZT1BJmdeQSZEXmcmRCxpZT14ZStoZXwwO2RlPXVlLHVlPVcsVz1RLFE9SCt5ZXwwLEg9RCxEPWcsZz1BLEE9eWUraWV8MH1lPWUrQXwwLFxyXG50PXQrZ3wwLG49bitEfDAsaT1pK0h8MCxzPXMrUXwwLG89bytXfDAsdT11K3VlfDAsYz1jK2RlfDAsbD0wfSxcInByb2Nlc3NcIiksSj1hKEE9PntcclxudHlwZW9mIEE9PVwic3RyaW5nXCImJihBPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShBKSk7Zm9yKGxldCBnPTA7ZzxBLmxlbmd0aDtnKyspUFtsKytdPVxyXG5BW2ddLGw9PT02NCYmTigpO2grPUEubGVuZ3RofSxcImFkZFwiKSxwZT1hKCgpPT57aWYoUFtsKytdPTEyOCxsPT02NCYmTigpLGwrOD42NCl7XHJcbmZvcig7bDw2NDspUFtsKytdPTA7TigpfWZvcig7bDw1ODspUFtsKytdPTA7bGV0IEE9aCo4O1BbbCsrXT1BLzEwOTk1MTE2Mjc3NzYmMjU1LFxyXG5QW2wrK109QS80Mjk0OTY3Mjk2JjI1NSxQW2wrK109QT4+PjI0LFBbbCsrXT1BPj4+MTYmMjU1LFBbbCsrXT1BPj4+OCYyNTUsUFtsKytdPVxyXG5BJjI1NSxOKCk7bGV0IGc9bmV3IFVpbnQ4QXJyYXkoMzIpO3JldHVybiBnWzBdPWU+Pj4yNCxnWzFdPWU+Pj4xNiYyNTUsZ1syXT1lPj4+OCZcclxuMjU1LGdbM109ZSYyNTUsZ1s0XT10Pj4+MjQsZ1s1XT10Pj4+MTYmMjU1LGdbNl09dD4+PjgmMjU1LGdbN109dCYyNTUsZ1s4XT1uPj4+MjQsXHJcbmdbOV09bj4+PjE2JjI1NSxnWzEwXT1uPj4+OCYyNTUsZ1sxMV09biYyNTUsZ1sxMl09aT4+PjI0LGdbMTNdPWk+Pj4xNiYyNTUsZ1sxNF09XHJcbmk+Pj44JjI1NSxnWzE1XT1pJjI1NSxnWzE2XT1zPj4+MjQsZ1sxN109cz4+PjE2JjI1NSxnWzE4XT1zPj4+OCYyNTUsZ1sxOV09cyYyNTUsXHJcbmdbMjBdPW8+Pj4yNCxnWzIxXT1vPj4+MTYmMjU1LGdbMjJdPW8+Pj44JjI1NSxnWzIzXT1vJjI1NSxnWzI0XT11Pj4+MjQsZ1syNV09dT4+PlxyXG4xNiYyNTUsZ1syNl09dT4+PjgmMjU1LGdbMjddPXUmMjU1LGdbMjhdPWM+Pj4yNCxnWzI5XT1jPj4+MTYmMjU1LGdbMzBdPWM+Pj44JjI1NSxcclxuZ1szMV09YyYyNTUsZ30sXCJkaWdlc3RcIik7cmV0dXJuIHI9PT12b2lkIDA/e2FkZDpKLGRpZ2VzdDpwZX06KEoocikscGUoKSl9dmFyIHJpPUsoXHJcbigpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO2EoJGUsXCJzaGEyNTZcIil9KTt2YXIgTyxLZSxuaT1LKCgpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO089Y2xhc3MgT3tjb25zdHJ1Y3Rvcigpe1QodGhpcyxcIl9kYXRhTGVuZ3RoXCIsXHJcbjApO1QodGhpcyxcIl9idWZmZXJMZW5ndGhcIiwwKTtUKHRoaXMsXCJfc3RhdGVcIixuZXcgSW50MzJBcnJheSg0KSk7VCh0aGlzLFwiX2J1ZmZlclwiLFxyXG5uZXcgQXJyYXlCdWZmZXIoNjgpKTtUKHRoaXMsXCJfYnVmZmVyOFwiKTtUKHRoaXMsXCJfYnVmZmVyMzJcIik7dGhpcy5fYnVmZmVyOD1uZXcgVWludDhBcnJheShcclxudGhpcy5fYnVmZmVyLDAsNjgpLHRoaXMuX2J1ZmZlcjMyPW5ldyBVaW50MzJBcnJheSh0aGlzLl9idWZmZXIsMCwxNyksdGhpcy5zdGFydCgpfXN0YXRpYyBoYXNoQnl0ZUFycmF5KGUsdD0hMSl7XHJcbnJldHVybiB0aGlzLm9uZVBhc3NIYXNoZXIuc3RhcnQoKS5hcHBlbmRCeXRlQXJyYXkoZSkuZW5kKHQpfXN0YXRpYyBoYXNoU3RyKGUsdD0hMSl7XHJcbnJldHVybiB0aGlzLm9uZVBhc3NIYXNoZXIuc3RhcnQoKS5hcHBlbmRTdHIoZSkuZW5kKHQpfXN0YXRpYyBoYXNoQXNjaWlTdHIoZSx0PSExKXtcclxucmV0dXJuIHRoaXMub25lUGFzc0hhc2hlci5zdGFydCgpLmFwcGVuZEFzY2lpU3RyKGUpLmVuZCh0KX1zdGF0aWMgX2hleChlKXtsZXQgdD1PLlxyXG5oZXhDaGFycyxuPU8uaGV4T3V0LGkscyxvLHU7Zm9yKHU9MDt1PDQ7dSs9MSlmb3Iocz11KjgsaT1lW3VdLG89MDtvPDg7bys9MiluW3MrMStcclxub109dC5jaGFyQXQoaSYxNSksaT4+Pj00LG5bcyswK29dPXQuY2hhckF0KGkmMTUpLGk+Pj49NDtyZXR1cm4gbi5qb2luKFwiXCIpfXN0YXRpYyBfbWQ1Y3ljbGUoZSx0KXtcclxubGV0IG49ZVswXSxpPWVbMV0scz1lWzJdLG89ZVszXTtuKz0oaSZzfH5pJm8pK3RbMF0tNjgwODc2OTM2fDAsbj0objw8N3xuPj4+MjUpK2l8XHJcbjAsbys9KG4maXx+biZzKSt0WzFdLTM4OTU2NDU4NnwwLG89KG88PDEyfG8+Pj4yMCkrbnwwLHMrPShvJm58fm8maSkrdFsyXSs2MDYxMDU4MTl8XHJcbjAscz0oczw8MTd8cz4+PjE1KStvfDAsaSs9KHMmb3x+cyZuKSt0WzNdLTEwNDQ1MjUzMzB8MCxpPShpPDwyMnxpPj4+MTApK3N8MCxuKz0oaSZcclxuc3x+aSZvKSt0WzRdLTE3NjQxODg5N3wwLG49KG48PDd8bj4+PjI1KStpfDAsbys9KG4maXx+biZzKSt0WzVdKzEyMDAwODA0MjZ8MCxvPShvPDxcclxuMTJ8bz4+PjIwKStufDAscys9KG8mbnx+byZpKSt0WzZdLTE0NzMyMzEzNDF8MCxzPShzPDwxN3xzPj4+MTUpK298MCxpKz0ocyZvfH5zJm4pK1xyXG50WzddLTQ1NzA1OTgzfDAsaT0oaTw8MjJ8aT4+PjEwKStzfDAsbis9KGkmc3x+aSZvKSt0WzhdKzE3NzAwMzU0MTZ8MCxuPShuPDw3fG4+Pj5cclxuMjUpK2l8MCxvKz0obiZpfH5uJnMpK3RbOV0tMTk1ODQxNDQxN3wwLG89KG88PDEyfG8+Pj4yMCkrbnwwLHMrPShvJm58fm8maSkrdFsxMF0tXHJcbjQyMDYzfDAscz0oczw8MTd8cz4+PjE1KStvfDAsaSs9KHMmb3x+cyZuKSt0WzExXS0xOTkwNDA0MTYyfDAsaT0oaTw8MjJ8aT4+PjEwKStzfFxyXG4wLG4rPShpJnN8fmkmbykrdFsxMl0rMTgwNDYwMzY4MnwwLG49KG48PDd8bj4+PjI1KStpfDAsbys9KG4maXx+biZzKSt0WzEzXS00MDM0MTEwMXxcclxuMCxvPShvPDwxMnxvPj4+MjApK258MCxzKz0obyZufH5vJmkpK3RbMTRdLTE1MDIwMDIyOTB8MCxzPShzPDwxN3xzPj4+MTUpK298MCxpKz1cclxuKHMmb3x+cyZuKSt0WzE1XSsxMjM2NTM1MzI5fDAsaT0oaTw8MjJ8aT4+PjEwKStzfDAsbis9KGkmb3xzJn5vKSt0WzFdLTE2NTc5NjUxMHxcclxuMCxuPShuPDw1fG4+Pj4yNykraXwwLG8rPShuJnN8aSZ+cykrdFs2XS0xMDY5NTAxNjMyfDAsbz0obzw8OXxvPj4+MjMpK258MCxzKz0obyZcclxuaXxuJn5pKSt0WzExXSs2NDM3MTc3MTN8MCxzPShzPDwxNHxzPj4+MTgpK298MCxpKz0ocyZufG8mfm4pK3RbMF0tMzczODk3MzAyfDAsaT1cclxuKGk8PDIwfGk+Pj4xMikrc3wwLG4rPShpJm98cyZ+bykrdFs1XS03MDE1NTg2OTF8MCxuPShuPDw1fG4+Pj4yNykraXwwLG8rPShuJnN8aSZcclxufnMpK3RbMTBdKzM4MDE2MDgzfDAsbz0obzw8OXxvPj4+MjMpK258MCxzKz0obyZpfG4mfmkpK3RbMTVdLTY2MDQ3ODMzNXwwLHM9KHM8PDE0fFxyXG5zPj4+MTgpK298MCxpKz0ocyZufG8mfm4pK3RbNF0tNDA1NTM3ODQ4fDAsaT0oaTw8MjB8aT4+PjEyKStzfDAsbis9KGkmb3xzJn5vKSt0WzldK1xyXG41Njg0NDY0Mzh8MCxuPShuPDw1fG4+Pj4yNykraXwwLG8rPShuJnN8aSZ+cykrdFsxNF0tMTAxOTgwMzY5MHwwLG89KG88PDl8bz4+PjIzKStcclxubnwwLHMrPShvJml8biZ+aSkrdFszXS0xODczNjM5NjF8MCxzPShzPDwxNHxzPj4+MTgpK298MCxpKz0ocyZufG8mfm4pK3RbOF0rMTE2MzUzMTUwMXxcclxuMCxpPShpPDwyMHxpPj4+MTIpK3N8MCxuKz0oaSZvfHMmfm8pK3RbMTNdLTE0NDQ2ODE0Njd8MCxuPShuPDw1fG4+Pj4yNykraXwwLG8rPShuJlxyXG5zfGkmfnMpK3RbMl0tNTE0MDM3ODR8MCxvPShvPDw5fG8+Pj4yMykrbnwwLHMrPShvJml8biZ+aSkrdFs3XSsxNzM1MzI4NDczfDAscz0oczw8XHJcbjE0fHM+Pj4xOCkrb3wwLGkrPShzJm58byZ+bikrdFsxMl0tMTkyNjYwNzczNHwwLGk9KGk8PDIwfGk+Pj4xMikrc3wwLG4rPShpXnNebykrXHJcbnRbNV0tMzc4NTU4fDAsbj0objw8NHxuPj4+MjgpK2l8MCxvKz0obl5pXnMpK3RbOF0tMjAyMjU3NDQ2M3wwLG89KG88PDExfG8+Pj4yMSkrXHJcbm58MCxzKz0ob15uXmkpK3RbMTFdKzE4MzkwMzA1NjJ8MCxzPShzPDwxNnxzPj4+MTYpK298MCxpKz0oc15vXm4pK3RbMTRdLTM1MzA5NTU2fFxyXG4wLGk9KGk8PDIzfGk+Pj45KStzfDAsbis9KGlec15vKSt0WzFdLTE1MzA5OTIwNjB8MCxuPShuPDw0fG4+Pj4yOCkraXwwLG8rPShuXmlecykrXHJcbnRbNF0rMTI3Mjg5MzM1M3wwLG89KG88PDExfG8+Pj4yMSkrbnwwLHMrPShvXm5eaSkrdFs3XS0xNTU0OTc2MzJ8MCxzPShzPDwxNnxzPj4+XHJcbjE2KStvfDAsaSs9KHNeb15uKSt0WzEwXS0xMDk0NzMwNjQwfDAsaT0oaTw8MjN8aT4+PjkpK3N8MCxuKz0oaV5zXm8pK3RbMTNdKzY4MTI3OTE3NHxcclxuMCxuPShuPDw0fG4+Pj4yOCkraXwwLG8rPShuXmlecykrdFswXS0zNTg1MzcyMjJ8MCxvPShvPDwxMXxvPj4+MjEpK258MCxzKz0ob15uXmkpK1xyXG50WzNdLTcyMjUyMTk3OXwwLHM9KHM8PDE2fHM+Pj4xNikrb3wwLGkrPShzXm9ebikrdFs2XSs3NjAyOTE4OXwwLGk9KGk8PDIzfGk+Pj45KStcclxuc3wwLG4rPShpXnNebykrdFs5XS02NDAzNjQ0ODd8MCxuPShuPDw0fG4+Pj4yOCkraXwwLG8rPShuXmlecykrdFsxMl0tNDIxODE1ODM1fDAsXHJcbm89KG88PDExfG8+Pj4yMSkrbnwwLHMrPShvXm5eaSkrdFsxNV0rNTMwNzQyNTIwfDAscz0oczw8MTZ8cz4+PjE2KStvfDAsaSs9KHNeb15uKStcclxudFsyXS05OTUzMzg2NTF8MCxpPShpPDwyM3xpPj4+OSkrc3wwLG4rPShzXihpfH5vKSkrdFswXS0xOTg2MzA4NDR8MCxuPShuPDw2fG4+Pj5cclxuMjYpK2l8MCxvKz0oaV4obnx+cykpK3RbN10rMTEyNjg5MTQxNXwwLG89KG88PDEwfG8+Pj4yMikrbnwwLHMrPShuXihvfH5pKSkrdFsxNF0tXHJcbjE0MTYzNTQ5MDV8MCxzPShzPDwxNXxzPj4+MTcpK298MCxpKz0ob14oc3x+bikpK3RbNV0tNTc0MzQwNTV8MCxpPShpPDwyMXxpPj4+MTEpK1xyXG5zfDAsbis9KHNeKGl8fm8pKSt0WzEyXSsxNzAwNDg1NTcxfDAsbj0objw8NnxuPj4+MjYpK2l8MCxvKz0oaV4obnx+cykpK3RbM10tMTg5NDk4NjYwNnxcclxuMCxvPShvPDwxMHxvPj4+MjIpK258MCxzKz0obl4ob3x+aSkpK3RbMTBdLTEwNTE1MjN8MCxzPShzPDwxNXxzPj4+MTcpK298MCxpKz0ob15cclxuKHN8fm4pKSt0WzFdLTIwNTQ5MjI3OTl8MCxpPShpPDwyMXxpPj4+MTEpK3N8MCxuKz0oc14oaXx+bykpK3RbOF0rMTg3MzMxMzM1OXwwLG49XHJcbihuPDw2fG4+Pj4yNikraXwwLG8rPShpXihufH5zKSkrdFsxNV0tMzA2MTE3NDR8MCxvPShvPDwxMHxvPj4+MjIpK258MCxzKz0obl4ob3x+aSkpK1xyXG50WzZdLTE1NjAxOTgzODB8MCxzPShzPDwxNXxzPj4+MTcpK298MCxpKz0ob14oc3x+bikpK3RbMTNdKzEzMDkxNTE2NDl8MCxpPShpPDwyMXxcclxuaT4+PjExKStzfDAsbis9KHNeKGl8fm8pKSt0WzRdLTE0NTUyMzA3MHwwLG49KG48PDZ8bj4+PjI2KStpfDAsbys9KGleKG58fnMpKSt0WzExXS1cclxuMTEyMDIxMDM3OXwwLG89KG88PDEwfG8+Pj4yMikrbnwwLHMrPShuXihvfH5pKSkrdFsyXSs3MTg3ODcyNTl8MCxzPShzPDwxNXxzPj4+MTcpK1xyXG5vfDAsaSs9KG9eKHN8fm4pKSt0WzldLTM0MzQ4NTU1MXwwLGk9KGk8PDIxfGk+Pj4xMSkrc3wwLGVbMF09bitlWzBdfDAsZVsxXT1pK2VbMV18XHJcbjAsZVsyXT1zK2VbMl18MCxlWzNdPW8rZVszXXwwfXN0YXJ0KCl7cmV0dXJuIHRoaXMuX2RhdGFMZW5ndGg9MCx0aGlzLl9idWZmZXJMZW5ndGg9XHJcbjAsdGhpcy5fc3RhdGUuc2V0KE8uc3RhdGVJZGVudGl0eSksdGhpc31hcHBlbmRTdHIoZSl7bGV0IHQ9dGhpcy5fYnVmZmVyOCxuPXRoaXMuXHJcbl9idWZmZXIzMixpPXRoaXMuX2J1ZmZlckxlbmd0aCxzLG87Zm9yKG89MDtvPGUubGVuZ3RoO28rPTEpe2lmKHM9ZS5jaGFyQ29kZUF0KG8pLFxyXG5zPDEyOCl0W2krK109cztlbHNlIGlmKHM8MjA0OCl0W2krK109KHM+Pj42KSsxOTIsdFtpKytdPXMmNjN8MTI4O2Vsc2UgaWYoczw1NTI5Nnx8XHJcbnM+NTYzMTkpdFtpKytdPShzPj4+MTIpKzIyNCx0W2krK109cz4+PjYmNjN8MTI4LHRbaSsrXT1zJjYzfDEyODtlbHNle2lmKHM9KHMtNTUyOTYpKlxyXG4xMDI0KyhlLmNoYXJDb2RlQXQoKytvKS01NjMyMCkrNjU1MzYscz4xMTE0MTExKXRocm93IG5ldyBFcnJvcihcIlVuaWNvZGUgc3RhbmRhcmRcXFxyXG4gc3VwcG9ydHMgY29kZSBwb2ludHMgdXAgdG8gVSsxMEZGRkZcIik7dFtpKytdPShzPj4+MTgpKzI0MCx0W2krK109cz4+PjEyJjYzfDEyOCxcclxudFtpKytdPXM+Pj42JjYzfDEyOCx0W2krK109cyY2M3wxMjh9aT49NjQmJih0aGlzLl9kYXRhTGVuZ3RoKz02NCxPLl9tZDVjeWNsZSh0aGlzLlxyXG5fc3RhdGUsbiksaS09NjQsblswXT1uWzE2XSl9cmV0dXJuIHRoaXMuX2J1ZmZlckxlbmd0aD1pLHRoaXN9YXBwZW5kQXNjaWlTdHIoZSl7bGV0IHQ9dGhpcy5cclxuX2J1ZmZlcjgsbj10aGlzLl9idWZmZXIzMixpPXRoaXMuX2J1ZmZlckxlbmd0aCxzLG89MDtmb3IoOzspe2ZvcihzPU1hdGgubWluKGUubGVuZ3RoLVxyXG5vLDY0LWkpO3MtLTspdFtpKytdPWUuY2hhckNvZGVBdChvKyspO2lmKGk8NjQpYnJlYWs7dGhpcy5fZGF0YUxlbmd0aCs9NjQsTy5fbWQ1Y3ljbGUoXHJcbnRoaXMuX3N0YXRlLG4pLGk9MH1yZXR1cm4gdGhpcy5fYnVmZmVyTGVuZ3RoPWksdGhpc31hcHBlbmRCeXRlQXJyYXkoZSl7bGV0IHQ9dGhpcy5cclxuX2J1ZmZlcjgsbj10aGlzLl9idWZmZXIzMixpPXRoaXMuX2J1ZmZlckxlbmd0aCxzLG89MDtmb3IoOzspe2ZvcihzPU1hdGgubWluKGUubGVuZ3RoLVxyXG5vLDY0LWkpO3MtLTspdFtpKytdPWVbbysrXTtpZihpPDY0KWJyZWFrO3RoaXMuX2RhdGFMZW5ndGgrPTY0LE8uX21kNWN5Y2xlKHRoaXMuX3N0YXRlLFxyXG5uKSxpPTB9cmV0dXJuIHRoaXMuX2J1ZmZlckxlbmd0aD1pLHRoaXN9Z2V0U3RhdGUoKXtsZXQgZT10aGlzLl9zdGF0ZTtyZXR1cm57YnVmZmVyOlN0cmluZy5cclxuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsQXJyYXkuZnJvbSh0aGlzLl9idWZmZXI4KSksYnVmbGVuOnRoaXMuX2J1ZmZlckxlbmd0aCxsZW5ndGg6dGhpcy5cclxuX2RhdGFMZW5ndGgsc3RhdGU6W2VbMF0sZVsxXSxlWzJdLGVbM11dfX1zZXRTdGF0ZShlKXtsZXQgdD1lLmJ1ZmZlcixuPWUuc3RhdGUsaT10aGlzLlxyXG5fc3RhdGUscztmb3IodGhpcy5fZGF0YUxlbmd0aD1lLmxlbmd0aCx0aGlzLl9idWZmZXJMZW5ndGg9ZS5idWZsZW4saVswXT1uWzBdLGlbMV09XHJcbm5bMV0saVsyXT1uWzJdLGlbM109blszXSxzPTA7czx0Lmxlbmd0aDtzKz0xKXRoaXMuX2J1ZmZlcjhbc109dC5jaGFyQ29kZUF0KHMpfWVuZChlPSExKXtcclxubGV0IHQ9dGhpcy5fYnVmZmVyTGVuZ3RoLG49dGhpcy5fYnVmZmVyOCxpPXRoaXMuX2J1ZmZlcjMyLHM9KHQ+PjIpKzE7dGhpcy5fZGF0YUxlbmd0aCs9XHJcbnQ7bGV0IG89dGhpcy5fZGF0YUxlbmd0aCo4O2lmKG5bdF09MTI4LG5bdCsxXT1uW3QrMl09blt0KzNdPTAsaS5zZXQoTy5idWZmZXIzMklkZW50aXR5LlxyXG5zdWJhcnJheShzKSxzKSx0PjU1JiYoTy5fbWQ1Y3ljbGUodGhpcy5fc3RhdGUsaSksaS5zZXQoTy5idWZmZXIzMklkZW50aXR5KSksbzw9NDI5NDk2NzI5NSlcclxuaVsxNF09bztlbHNle2xldCB1PW8udG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO2lmKHU9PT1udWxsKXJldHVybjtsZXQgYz1wYXJzZUludChcclxudVsyXSwxNiksaD1wYXJzZUludCh1WzFdLDE2KXx8MDtpWzE0XT1jLGlbMTVdPWh9cmV0dXJuIE8uX21kNWN5Y2xlKHRoaXMuX3N0YXRlLGkpLFxyXG5lP3RoaXMuX3N0YXRlOk8uX2hleCh0aGlzLl9zdGF0ZSl9fTthKE8sXCJNZDVcIiksVChPLFwic3RhdGVJZGVudGl0eVwiLG5ldyBJbnQzMkFycmF5KFxyXG5bMTczMjU4NDE5MywtMjcxNzMzODc5LC0xNzMyNTg0MTk0LDI3MTczMzg3OF0pKSxUKE8sXCJidWZmZXIzMklkZW50aXR5XCIsbmV3IEludDMyQXJyYXkoXHJcblswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSkpLFQoTyxcImhleENoYXJzXCIsXCIwMTIzNDU2Nzg5YWJjZGVmXCIpLFQoTyxcImhleE9cXFxyXG51dFwiLFtdKSxUKE8sXCJvbmVQYXNzSGFzaGVyXCIsbmV3IE8pO0tlPU99KTt2YXIgVXQ9e307WChVdCx7Y3JlYXRlSGFzaDooKT0+JG8sY3JlYXRlSG1hYzooKT0+S28scmFuZG9tQnl0ZXM6KCk9PkdvfSk7ZnVuY3Rpb24gR28ocil7XHJcbnJldHVybiB3LmdldFJhbmRvbVZhbHVlcyhkLmFsbG9jKHIpKX1mdW5jdGlvbiAkbyhyKXtpZihyPT09XCJzaGEyNTZcIilyZXR1cm57dXBkYXRlOmZ1bmN0aW9uKGUpe1xyXG5yZXR1cm57ZGlnZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuZnJvbSgkZShlKSl9fX19O2lmKHI9PT1cIm1kNVwiKXJldHVybnt1cGRhdGU6ZnVuY3Rpb24oZSl7XHJcbnJldHVybntkaWdlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIGU9PVwic3RyaW5nXCI/S2UuaGFzaFN0cihlKTpLZS5oYXNoQnl0ZUFycmF5KFxyXG5lKX19fX07dGhyb3cgbmV3IEVycm9yKGBIYXNoIHR5cGUgJyR7cn0nIG5vdCBzdXBwb3J0ZWRgKX1mdW5jdGlvbiBLbyhyLGUpe2lmKHIhPT1cclxuXCJzaGEyNTZcIil0aHJvdyBuZXcgRXJyb3IoYE9ubHkgc2hhMjU2IGlzIHN1cHBvcnRlZCAocmVxdWVzdGVkOiAnJHtyfScpYCk7cmV0dXJue1xyXG51cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJue2RpZ2VzdDpmdW5jdGlvbigpe3R5cGVvZiBlPT1cInN0cmluZ1wiJiYoZT1uZXcgVGV4dEVuY29kZXIoKS5cclxuZW5jb2RlKGUpKSx0eXBlb2YgdD09XCJzdHJpbmdcIiYmKHQ9bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpKTtsZXQgbj1lLmxlbmd0aDtpZihuPlxyXG42NCllPSRlKGUpO2Vsc2UgaWYobjw2NCl7bGV0IGM9bmV3IFVpbnQ4QXJyYXkoNjQpO2Muc2V0KGUpLGU9Y31sZXQgaT1uZXcgVWludDhBcnJheShcclxuNjQpLHM9bmV3IFVpbnQ4QXJyYXkoNjQpO2ZvcihsZXQgYz0wO2M8NjQ7YysrKWlbY109NTReZVtjXSxzW2NdPTkyXmVbY107bGV0IG89bmV3IFVpbnQ4QXJyYXkoXHJcbnQubGVuZ3RoKzY0KTtvLnNldChpLDApLG8uc2V0KHQsNjQpO2xldCB1PW5ldyBVaW50OEFycmF5KDk2KTtyZXR1cm4gdS5zZXQocywwKSx1LlxyXG5zZXQoJGUobyksNjQpLGQuZnJvbSgkZSh1KSl9fX19fXZhciBxdD1LKCgpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3JpKCk7bmkoKTthKEdvLFwiclxcXHJcbmFuZG9tQnl0ZXNcIik7YSgkbyxcImNyZWF0ZUhhc2hcIik7YShLbyxcImNyZWF0ZUhtYWNcIil9KTt2YXIgUXQ9SShpaT0+e1widXNlIHN0cmljdFwiO3AoKTtpaS5wYXJzZT1mdW5jdGlvbihyLGUpe3JldHVybiBuZXcgTnQocixlKS5wYXJzZSgpfTtcclxudmFyIGN0PWNsYXNzIGN0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zb3VyY2U9ZSx0aGlzLnRyYW5zZm9ybT10fHxWbyx0aGlzLnBvc2l0aW9uPVxyXG4wLHRoaXMuZW50cmllcz1bXSx0aGlzLnJlY29yZGVkPVtdLHRoaXMuZGltZW5zaW9uPTB9aXNFb2YoKXtyZXR1cm4gdGhpcy5wb3NpdGlvbj49XHJcbnRoaXMuc291cmNlLmxlbmd0aH1uZXh0Q2hhcmFjdGVyKCl7dmFyIGU9dGhpcy5zb3VyY2VbdGhpcy5wb3NpdGlvbisrXTtyZXR1cm4gZT09PVxyXG5cIlxcXFxcIj97dmFsdWU6dGhpcy5zb3VyY2VbdGhpcy5wb3NpdGlvbisrXSxlc2NhcGVkOiEwfTp7dmFsdWU6ZSxlc2NhcGVkOiExfX1yZWNvcmQoZSl7XHJcbnRoaXMucmVjb3JkZWQucHVzaChlKX1uZXdFbnRyeShlKXt2YXIgdDsodGhpcy5yZWNvcmRlZC5sZW5ndGg+MHx8ZSkmJih0PXRoaXMucmVjb3JkZWQuXHJcbmpvaW4oXCJcIiksdD09PVwiTlVMTFwiJiYhZSYmKHQ9bnVsbCksdCE9PW51bGwmJih0PXRoaXMudHJhbnNmb3JtKHQpKSx0aGlzLmVudHJpZXMucHVzaChcclxudCksdGhpcy5yZWNvcmRlZD1bXSl9Y29uc3VtZURpbWVuc2lvbnMoKXtpZih0aGlzLnNvdXJjZVswXT09PVwiW1wiKWZvcig7IXRoaXMuaXNFb2YoKTspe1xyXG52YXIgZT10aGlzLm5leHRDaGFyYWN0ZXIoKTtpZihlLnZhbHVlPT09XCI9XCIpYnJlYWt9fXBhcnNlKGUpe3ZhciB0LG4saTtmb3IodGhpcy5jb25zdW1lRGltZW5zaW9ucygpOyF0aGlzLlxyXG5pc0VvZigpOylpZih0PXRoaXMubmV4dENoYXJhY3RlcigpLHQudmFsdWU9PT1cIntcIiYmIWkpdGhpcy5kaW1lbnNpb24rKyx0aGlzLmRpbWVuc2lvbj5cclxuMSYmKG49bmV3IGN0KHRoaXMuc291cmNlLnN1YnN0cih0aGlzLnBvc2l0aW9uLTEpLHRoaXMudHJhbnNmb3JtKSx0aGlzLmVudHJpZXMucHVzaChcclxubi5wYXJzZSghMCkpLHRoaXMucG9zaXRpb24rPW4ucG9zaXRpb24tMik7ZWxzZSBpZih0LnZhbHVlPT09XCJ9XCImJiFpKXtpZih0aGlzLmRpbWVuc2lvbi0tLFxyXG4hdGhpcy5kaW1lbnNpb24mJih0aGlzLm5ld0VudHJ5KCksZSkpcmV0dXJuIHRoaXMuZW50cmllc31lbHNlIHQudmFsdWU9PT0nXCInJiYhdC5cclxuZXNjYXBlZD8oaSYmdGhpcy5uZXdFbnRyeSghMCksaT0haSk6dC52YWx1ZT09PVwiLFwiJiYhaT90aGlzLm5ld0VudHJ5KCk6dGhpcy5yZWNvcmQoXHJcbnQudmFsdWUpO2lmKHRoaXMuZGltZW5zaW9uIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBkaW1lbnNpb24gbm90IGJhbGFuY2VkXCIpO3JldHVybiB0aGlzLlxyXG5lbnRyaWVzfX07YShjdCxcIkFycmF5UGFyc2VyXCIpO3ZhciBOdD1jdDtmdW5jdGlvbiBWbyhyKXtyZXR1cm4gcn1hKFZvLFwiaWRlbnRpdHlcIil9KTt2YXIgV3Q9SSgoeWgsc2kpPT57cCgpO3ZhciB6bz1RdCgpO3NpLmV4cG9ydHM9e2NyZWF0ZTpmdW5jdGlvbihyLGUpe3JldHVybntwYXJzZTpmdW5jdGlvbigpe1xyXG5yZXR1cm4gem8ucGFyc2UocixlKX19fX19KTt2YXIgdWk9SSgoZ2gsYWkpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3ZhciBZbz0vKFxcZHsxLH0pLShcXGR7Mn0pLShcXGR7Mn0pIChcXGR7Mn0pOihcXGR7Mn0pOihcXGR7Mn0pKFxcLlxcZHsxLH0pPy4qPyggQkMpPyQvLFxyXG5abz0vXihcXGR7MSx9KS0oXFxkezJ9KS0oXFxkezJ9KSggQkMpPyQvLEpvPS8oW1orLV0pKFxcZHsyfSk/Oj8oXFxkezJ9KT86PyhcXGR7Mn0pPy8sWG89L14tP2luZmluaXR5JC87XHJcbmFpLmV4cG9ydHM9YShmdW5jdGlvbihlKXtpZihYby50ZXN0KGUpKXJldHVybiBOdW1iZXIoZS5yZXBsYWNlKFwiaVwiLFwiSVwiKSk7dmFyIHQ9WW8uXHJcbmV4ZWMoZSk7aWYoIXQpcmV0dXJuIGVhKGUpfHxudWxsO3ZhciBuPSEhdFs4XSxpPXBhcnNlSW50KHRbMV0sMTApO24mJihpPW9pKGkpKTt2YXIgcz1wYXJzZUludChcclxudFsyXSwxMCktMSxvPXRbM10sdT1wYXJzZUludCh0WzRdLDEwKSxjPXBhcnNlSW50KHRbNV0sMTApLGg9cGFyc2VJbnQodFs2XSwxMCksbD10WzddO1xyXG5sPWw/MWUzKnBhcnNlRmxvYXQobCk6MDt2YXIgeSxFPXRhKGUpO3JldHVybiBFIT1udWxsPyh5PW5ldyBEYXRlKERhdGUuVVRDKGkscyxvLFxyXG51LGMsaCxsKSksanQoaSkmJnkuc2V0VVRDRnVsbFllYXIoaSksRSE9PTAmJnkuc2V0VGltZSh5LmdldFRpbWUoKS1FKSk6KHk9bmV3IERhdGUoXHJcbmkscyxvLHUsYyxoLGwpLGp0KGkpJiZ5LnNldEZ1bGxZZWFyKGkpKSx5fSxcInBhcnNlRGF0ZVwiKTtmdW5jdGlvbiBlYShyKXt2YXIgZT1aby5cclxuZXhlYyhyKTtpZihlKXt2YXIgdD1wYXJzZUludChlWzFdLDEwKSxuPSEhZVs0XTtuJiYodD1vaSh0KSk7dmFyIGk9cGFyc2VJbnQoZVsyXSxcclxuMTApLTEscz1lWzNdLG89bmV3IERhdGUodCxpLHMpO3JldHVybiBqdCh0KSYmby5zZXRGdWxsWWVhcih0KSxvfX1hKGVhLFwiZ2V0RGF0ZVwiKTtcclxuZnVuY3Rpb24gdGEocil7aWYoci5lbmRzV2l0aChcIiswMFwiKSlyZXR1cm4gMDt2YXIgZT1Kby5leGVjKHIuc3BsaXQoXCIgXCIpWzFdKTtpZihlKXtcclxudmFyIHQ9ZVsxXTtpZih0PT09XCJaXCIpcmV0dXJuIDA7dmFyIG49dD09PVwiLVwiPy0xOjEsaT1wYXJzZUludChlWzJdLDEwKSozNjAwK3BhcnNlSW50KFxyXG5lWzNdfHwwLDEwKSo2MCtwYXJzZUludChlWzRdfHwwLDEwKTtyZXR1cm4gaSpuKjFlM319YSh0YSxcInRpbWVab25lT2Zmc2V0XCIpO2Z1bmN0aW9uIG9pKHIpe1xyXG5yZXR1cm4tKHItMSl9YShvaSxcImJjWWVhclRvTmVnYXRpdmVZZWFyXCIpO2Z1bmN0aW9uIGp0KHIpe3JldHVybiByPj0wJiZyPDEwMH1hKGp0LFxyXG5cImlzMFRvOTlcIil9KTt2YXIgaGk9SSgoU2gsY2kpPT57cCgpO2NpLmV4cG9ydHM9bmE7dmFyIHJhPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gbmEocil7XHJcbmZvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciB0PWFyZ3VtZW50c1tlXTtmb3IodmFyIG4gaW4gdClyYS5jYWxsKHQsXHJcbm4pJiYocltuXT10W25dKX1yZXR1cm4gcn1hKG5hLFwiZXh0ZW5kXCIpfSk7dmFyIHBpPUkoKHZoLGZpKT0+e1widXNlIHN0cmljdFwiO3AoKTt2YXIgaWE9aGkoKTtmaS5leHBvcnRzPUZlO2Z1bmN0aW9uIEZlKHIpe2lmKCEodGhpcyBpbnN0YW5jZW9mXHJcbkZlKSlyZXR1cm4gbmV3IEZlKHIpO2lhKHRoaXMsbWEocikpfWEoRmUsXCJQb3N0Z3Jlc0ludGVydmFsXCIpO3ZhciBzYT1bXCJzZWNvbmRzXCIsXCJcXFxyXG5taW51dGVzXCIsXCJob3Vyc1wiLFwiZGF5c1wiLFwibW9udGhzXCIsXCJ5ZWFyc1wiXTtGZS5wcm90b3R5cGUudG9Qb3N0Z3Jlcz1mdW5jdGlvbigpe3ZhciByPXNhLlxyXG5maWx0ZXIodGhpcy5oYXNPd25Qcm9wZXJ0eSx0aGlzKTtyZXR1cm4gdGhpcy5taWxsaXNlY29uZHMmJnIuaW5kZXhPZihcInNlY29uZHNcIik8XHJcbjAmJnIucHVzaChcInNlY29uZHNcIiksci5sZW5ndGg9PT0wP1wiMFwiOnIubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbZV18fDA7cmV0dXJuIGU9PT1cclxuXCJzZWNvbmRzXCImJnRoaXMubWlsbGlzZWNvbmRzJiYodD0odCt0aGlzLm1pbGxpc2Vjb25kcy8xZTMpLnRvRml4ZWQoNikucmVwbGFjZSgvXFwuPzArJC8sXHJcblwiXCIpKSx0K1wiIFwiK2V9LHRoaXMpLmpvaW4oXCIgXCIpfTt2YXIgb2E9e3llYXJzOlwiWVwiLG1vbnRoczpcIk1cIixkYXlzOlwiRFwiLGhvdXJzOlwiSFwiLG1pbnV0ZXM6XCJcXFxyXG5NXCIsc2Vjb25kczpcIlNcIn0sYWE9W1wieWVhcnNcIixcIm1vbnRoc1wiLFwiZGF5c1wiXSx1YT1bXCJob3Vyc1wiLFwibWludXRlc1wiLFwic2Vjb25kc1wiXTtGZS5cclxucHJvdG90eXBlLnRvSVNPU3RyaW5nPUZlLnByb3RvdHlwZS50b0lTTz1mdW5jdGlvbigpe3ZhciByPWFhLm1hcCh0LHRoaXMpLmpvaW4oXCJcIiksXHJcbmU9dWEubWFwKHQsdGhpcykuam9pbihcIlwiKTtyZXR1cm5cIlBcIityK1wiVFwiK2U7ZnVuY3Rpb24gdChuKXt2YXIgaT10aGlzW25dfHwwO3JldHVybiBuPT09XHJcblwic2Vjb25kc1wiJiZ0aGlzLm1pbGxpc2Vjb25kcyYmKGk9KGkrdGhpcy5taWxsaXNlY29uZHMvMWUzKS50b0ZpeGVkKDYpLnJlcGxhY2UoLzArJC8sXHJcblwiXCIpKSxpK29hW25dfX07dmFyIEh0PVwiKFsrLV0/XFxcXGQrKVwiLGNhPUh0K1wiXFxcXHMreWVhcnM/XCIsaGE9SHQrXCJcXFxccyttb25zP1wiLGxhPUh0K1wiXFxcclxuXFxcXHMrZGF5cz9cIixmYT1cIihbKy1dKT8oW1xcXFxkXSopOihcXFxcZFxcXFxkKTooXFxcXGRcXFxcZClcXFxcLj8oXFxcXGR7MSw2fSk/XCIscGE9bmV3IFJlZ0V4cChbXHJcbmNhLGhhLGxhLGZhXS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuXCIoXCIrcitcIik/XCJ9KS5qb2luKFwiXFxcXHMqXCIpKSxsaT17eWVhcnM6Mixtb250aHM6NCxcclxuZGF5czo2LGhvdXJzOjksbWludXRlczoxMCxzZWNvbmRzOjExLG1pbGxpc2Vjb25kczoxMn0sZGE9W1wiaG91cnNcIixcIm1pbnV0ZXNcIixcInNlY1xcXHJcbm9uZHNcIixcIm1pbGxpc2Vjb25kc1wiXTtmdW5jdGlvbiB5YShyKXt2YXIgZT1yK1wiMDAwMDAwXCIuc2xpY2Uoci5sZW5ndGgpO3JldHVybiBwYXJzZUludChcclxuZSwxMCkvMWUzfWEoeWEsXCJwYXJzZU1pbGxpc2Vjb25kc1wiKTtmdW5jdGlvbiBtYShyKXtpZighcilyZXR1cm57fTt2YXIgZT1wYS5leGVjKFxyXG5yKSx0PWVbOF09PT1cIi1cIjtyZXR1cm4gT2JqZWN0LmtleXMobGkpLnJlZHVjZShmdW5jdGlvbihuLGkpe3ZhciBzPWxpW2ldLG89ZVtzXTtyZXR1cm4hb3x8XHJcbihvPWk9PT1cIm1pbGxpc2Vjb25kc1wiP3lhKG8pOnBhcnNlSW50KG8sMTApLCFvKXx8KHQmJn5kYS5pbmRleE9mKGkpJiYobyo9LTEpLG5baV09XHJcbm8pLG59LHt9KX1hKG1hLFwicGFyc2VcIil9KTt2YXIgeWk9SSgoQ2gsZGkpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO2RpLmV4cG9ydHM9YShmdW5jdGlvbihlKXtpZigvXlxcXFx4Ly50ZXN0KGUpKXJldHVybiBuZXcgZChcclxuZS5zdWJzdHIoMiksXCJoZXhcIik7Zm9yKHZhciB0PVwiXCIsbj0wO248ZS5sZW5ndGg7KWlmKGVbbl0hPT1cIlxcXFxcIil0Kz1lW25dLCsrbjtlbHNlIGlmKC9bMC03XXszfS8uXHJcbnRlc3QoZS5zdWJzdHIobisxLDMpKSl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUuc3Vic3RyKG4rMSwzKSw4KSksbis9NDtlbHNle1xyXG5mb3IodmFyIGk9MTtuK2k8ZS5sZW5ndGgmJmVbbitpXT09PVwiXFxcXFwiOylpKys7Zm9yKHZhciBzPTA7czxNYXRoLmZsb29yKGkvMik7KytzKXQrPVxyXG5cIlxcXFxcIjtuKz1NYXRoLmZsb29yKGkvMikqMn1yZXR1cm4gbmV3IGQodCxcImJpbmFyeVwiKX0sXCJwYXJzZUJ5dGVhXCIpfSk7dmFyIEVpPUkoKFBoLHhpKT0+e3AoKTt2YXIgVmU9UXQoKSx6ZT1XdCgpLGh0PXVpKCksZ2k9cGkoKSx3aT15aSgpO2Z1bmN0aW9uIGx0KHIpe1xyXG5yZXR1cm4gYShmdW5jdGlvbih0KXtyZXR1cm4gdD09PW51bGw/dDpyKHQpfSxcIm51bGxBbGxvd2VkXCIpfWEobHQsXCJhbGxvd051bGxcIik7ZnVuY3Rpb24gYmkocil7XHJcbnJldHVybiByPT09bnVsbD9yOnI9PT1cIlRSVUVcInx8cj09PVwidFwifHxyPT09XCJ0cnVlXCJ8fHI9PT1cInlcInx8cj09PVwieWVzXCJ8fHI9PT1cIm9uXCJ8fFxyXG5yPT09XCIxXCJ9YShiaSxcInBhcnNlQm9vbFwiKTtmdW5jdGlvbiBnYShyKXtyZXR1cm4gcj9WZS5wYXJzZShyLGJpKTpudWxsfWEoZ2EsXCJwYXJzXFxcclxuZUJvb2xBcnJheVwiKTtmdW5jdGlvbiB3YShyKXtyZXR1cm4gcGFyc2VJbnQociwxMCl9YSh3YSxcInBhcnNlQmFzZVRlbkludFwiKTtmdW5jdGlvbiBHdChyKXtcclxucmV0dXJuIHI/VmUucGFyc2UocixsdCh3YSkpOm51bGx9YShHdCxcInBhcnNlSW50ZWdlckFycmF5XCIpO2Z1bmN0aW9uIGJhKHIpe3JldHVybiByP1xyXG5WZS5wYXJzZShyLGx0KGZ1bmN0aW9uKGUpe3JldHVybiBTaShlKS50cmltKCl9KSk6bnVsbH1hKGJhLFwicGFyc2VCaWdJbnRlZ2VyQXJyYXlcIik7XHJcbnZhciBTYT1hKGZ1bmN0aW9uKHIpe2lmKCFyKXJldHVybiBudWxsO3ZhciBlPXplLmNyZWF0ZShyLGZ1bmN0aW9uKHQpe3JldHVybiB0IT09XHJcbm51bGwmJih0PXp0KHQpKSx0fSk7cmV0dXJuIGUucGFyc2UoKX0sXCJwYXJzZVBvaW50QXJyYXlcIiksJHQ9YShmdW5jdGlvbihyKXtpZighcilcclxucmV0dXJuIG51bGw7dmFyIGU9emUuY3JlYXRlKHIsZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1udWxsJiYodD1wYXJzZUZsb2F0KHQpKSx0fSk7XHJcbnJldHVybiBlLnBhcnNlKCl9LFwicGFyc2VGbG9hdEFycmF5XCIpLHRlPWEoZnVuY3Rpb24ocil7aWYoIXIpcmV0dXJuIG51bGw7dmFyIGU9emUuXHJcbmNyZWF0ZShyKTtyZXR1cm4gZS5wYXJzZSgpfSxcInBhcnNlU3RyaW5nQXJyYXlcIiksS3Q9YShmdW5jdGlvbihyKXtpZighcilyZXR1cm4gbnVsbDtcclxudmFyIGU9emUuY3JlYXRlKHIsZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1udWxsJiYodD1odCh0KSksdH0pO3JldHVybiBlLnBhcnNlKCl9LFwiXFxcclxucGFyc2VEYXRlQXJyYXlcIikseGE9YShmdW5jdGlvbihyKXtpZighcilyZXR1cm4gbnVsbDt2YXIgZT16ZS5jcmVhdGUocixmdW5jdGlvbih0KXtcclxucmV0dXJuIHQhPT1udWxsJiYodD1naSh0KSksdH0pO3JldHVybiBlLnBhcnNlKCl9LFwicGFyc2VJbnRlcnZhbEFycmF5XCIpLEVhPWEoZnVuY3Rpb24ocil7XHJcbnJldHVybiByP1ZlLnBhcnNlKHIsbHQod2kpKTpudWxsfSxcInBhcnNlQnl0ZUFBcnJheVwiKSxWdD1hKGZ1bmN0aW9uKHIpe3JldHVybiBwYXJzZUludChcclxuciwxMCl9LFwicGFyc2VJbnRlZ2VyXCIpLFNpPWEoZnVuY3Rpb24ocil7dmFyIGU9U3RyaW5nKHIpO3JldHVybi9eXFxkKyQvLnRlc3QoZSk/ZTpcclxucn0sXCJwYXJzZUJpZ0ludGVnZXJcIiksbWk9YShmdW5jdGlvbihyKXtyZXR1cm4gcj9WZS5wYXJzZShyLGx0KEpTT04ucGFyc2UpKTpudWxsfSxcclxuXCJwYXJzZUpzb25BcnJheVwiKSx6dD1hKGZ1bmN0aW9uKHIpe3JldHVybiByWzBdIT09XCIoXCI/bnVsbDoocj1yLnN1YnN0cmluZygxLHIubGVuZ3RoLVxyXG4xKS5zcGxpdChcIixcIikse3g6cGFyc2VGbG9hdChyWzBdKSx5OnBhcnNlRmxvYXQoclsxXSl9KX0sXCJwYXJzZVBvaW50XCIpLHZhPWEoZnVuY3Rpb24ocil7XHJcbmlmKHJbMF0hPT1cIjxcIiYmclsxXSE9PVwiKFwiKXJldHVybiBudWxsO2Zvcih2YXIgZT1cIihcIix0PVwiXCIsbj0hMSxpPTI7aTxyLmxlbmd0aC0xO2krKyl7XHJcbmlmKG58fChlKz1yW2ldKSxyW2ldPT09XCIpXCIpe249ITA7Y29udGludWV9ZWxzZSBpZighbiljb250aW51ZTtyW2ldIT09XCIsXCImJih0Kz1yW2ldKX1cclxudmFyIHM9enQoZSk7cmV0dXJuIHMucmFkaXVzPXBhcnNlRmxvYXQodCksc30sXCJwYXJzZUNpcmNsZVwiKSxfYT1hKGZ1bmN0aW9uKHIpe3IoMjAsXHJcblNpKSxyKDIxLFZ0KSxyKDIzLFZ0KSxyKDI2LFZ0KSxyKDcwMCxwYXJzZUZsb2F0KSxyKDcwMSxwYXJzZUZsb2F0KSxyKDE2LGJpKSxyKDEwODIsXHJcbmh0KSxyKDExMTQsaHQpLHIoMTE4NCxodCkscig2MDAsenQpLHIoNjUxLHRlKSxyKDcxOCx2YSkscigxZTMsZ2EpLHIoMTAwMSxFYSkscigxMDA1LFxyXG5HdCkscigxMDA3LEd0KSxyKDEwMjgsR3QpLHIoMTAxNixiYSkscigxMDE3LFNhKSxyKDEwMjEsJHQpLHIoMTAyMiwkdCkscigxMjMxLCR0KSxcclxucigxMDE0LHRlKSxyKDEwMTUsdGUpLHIoMTAwOCx0ZSkscigxMDA5LHRlKSxyKDEwNDAsdGUpLHIoMTA0MSx0ZSkscigxMTE1LEt0KSxyKDExODIsXHJcbkt0KSxyKDExODUsS3QpLHIoMTE4NixnaSkscigxMTg3LHhhKSxyKDE3LHdpKSxyKDExNCxKU09OLnBhcnNlLmJpbmQoSlNPTikpLHIoMzgwMixcclxuSlNPTi5wYXJzZS5iaW5kKEpTT04pKSxyKDE5OSxtaSkscigzODA3LG1pKSxyKDM5MDcsdGUpLHIoMjk1MSx0ZSkscig3OTEsdGUpLHIoMTE4MyxcclxudGUpLHIoMTI3MCx0ZSl9LFwiaW5pdFwiKTt4aS5leHBvcnRzPXtpbml0Ol9hfX0pO3ZhciBfaT1JKChSaCx2aSk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIFk9MWU2O2Z1bmN0aW9uIEFhKHIpe3ZhciBlPXIucmVhZEludDMyQkUoXHJcbjApLHQ9ci5yZWFkVUludDMyQkUoNCksbj1cIlwiO2U8MCYmKGU9fmUrKHQ9PT0wKSx0PX50KzE+Pj4wLG49XCItXCIpO3ZhciBpPVwiXCIscyxvLHUsXHJcbmMsaCxsO3tpZihzPWUlWSxlPWUvWT4+PjAsbz00Mjk0OTY3Mjk2KnMrdCx0PW8vWT4+PjAsdT1cIlwiKyhvLVkqdCksdD09PTAmJmU9PT0wKXJldHVybiBuK1xyXG51K2k7Zm9yKGM9XCJcIixoPTYtdS5sZW5ndGgsbD0wO2w8aDtsKyspYys9XCIwXCI7aT1jK3UraX17aWYocz1lJVksZT1lL1k+Pj4wLG89NDI5NDk2NzI5Nipcclxucyt0LHQ9by9ZPj4+MCx1PVwiXCIrKG8tWSp0KSx0PT09MCYmZT09PTApcmV0dXJuIG4rdStpO2ZvcihjPVwiXCIsaD02LXUubGVuZ3RoLGw9MDtsPFxyXG5oO2wrKyljKz1cIjBcIjtpPWMrdStpfXtpZihzPWUlWSxlPWUvWT4+PjAsbz00Mjk0OTY3Mjk2KnMrdCx0PW8vWT4+PjAsdT1cIlwiKyhvLVkqdCksXHJcbnQ9PT0wJiZlPT09MClyZXR1cm4gbit1K2k7Zm9yKGM9XCJcIixoPTYtdS5sZW5ndGgsbD0wO2w8aDtsKyspYys9XCIwXCI7aT1jK3UraX1yZXR1cm4gcz1cclxuZSVZLG89NDI5NDk2NzI5NipzK3QsdT1cIlwiK28lWSxuK3UraX1hKEFhLFwicmVhZEludDhcIik7dmkuZXhwb3J0cz1BYX0pO3ZhciBQaT1JKChEaCxUaSk9PntwKCk7dmFyIENhPV9pKCksUj1hKGZ1bmN0aW9uKHIsZSx0LG4saSl7dD10fHwwLG49bnx8ITEsaT1pfHxmdW5jdGlvbihfLFAsTil7XHJcbnJldHVybiBfKk1hdGgucG93KDIsTikrUH07dmFyIHM9dD4+MyxvPWEoZnVuY3Rpb24oXyl7cmV0dXJuIG4/fl8mMjU1Ol99LFwiaW52XCIpLHU9MjU1LFxyXG5jPTgtdCU4O2U8YyYmKHU9MjU1PDw4LWUmMjU1LGM9ZSksdCYmKHU9dT4+dCU4KTt2YXIgaD0wO3QlOCtlPj04JiYoaD1pKDAsbyhyW3NdKSZcclxudSxjKSk7Zm9yKHZhciBsPWUrdD4+Myx5PXMrMTt5PGw7eSsrKWg9aShoLG8oclt5XSksOCk7dmFyIEU9KGUrdCklODtyZXR1cm4gRT4wJiZcclxuKGg9aShoLG8ocltsXSk+PjgtRSxFKSksaH0sXCJwYXJzZUJpdHNcIiksSWk9YShmdW5jdGlvbihyLGUsdCl7dmFyIG49TWF0aC5wb3coMix0LVxyXG4xKS0xLGk9UihyLDEpLHM9UihyLHQsMSk7aWYocz09PTApcmV0dXJuIDA7dmFyIG89MSx1PWEoZnVuY3Rpb24oaCxsLHkpe2g9PT0wJiYoaD1cclxuMSk7Zm9yKHZhciBFPTE7RTw9eTtFKyspby89MiwobCYxPDx5LUUpPjAmJihoKz1vKTtyZXR1cm4gaH0sXCJwYXJzZVByZWNpc2lvbkJpdHNcIiksXHJcbmM9UihyLGUsdCsxLCExLHUpO3JldHVybiBzPT1NYXRoLnBvdygyLHQrMSktMT9jPT09MD9pPT09MD8xLzA6LTEvMDpOYU46KGk9PT0wPzE6XHJcbi0xKSpNYXRoLnBvdygyLHMtbikqY30sXCJwYXJzZUZsb2F0RnJvbUJpdHNcIiksSWE9YShmdW5jdGlvbihyKXtyZXR1cm4gUihyLDEpPT0xPy0xKlxyXG4oUihyLDE1LDEsITApKzEpOlIociwxNSwxKX0sXCJwYXJzZUludDE2XCIpLEFpPWEoZnVuY3Rpb24ocil7cmV0dXJuIFIociwxKT09MT8tMSooUihcclxuciwzMSwxLCEwKSsxKTpSKHIsMzEsMSl9LFwicGFyc2VJbnQzMlwiKSxUYT1hKGZ1bmN0aW9uKHIpe3JldHVybiBJaShyLDIzLDgpfSxcInBhcnNcXFxyXG5lRmxvYXQzMlwiKSxQYT1hKGZ1bmN0aW9uKHIpe3JldHVybiBJaShyLDUyLDExKX0sXCJwYXJzZUZsb2F0NjRcIiksQmE9YShmdW5jdGlvbihyKXtcclxudmFyIGU9UihyLDE2LDMyKTtpZihlPT00OTE1MilyZXR1cm4gTmFOO2Zvcih2YXIgdD1NYXRoLnBvdygxZTQsUihyLDE2LDE2KSksbj0wLGk9W10sXHJcbnM9UihyLDE2KSxvPTA7bzxzO28rKyluKz1SKHIsMTYsNjQrMTYqbykqdCx0Lz0xZTQ7dmFyIHU9TWF0aC5wb3coMTAsUihyLDE2LDQ4KSk7XHJcbnJldHVybihlPT09MD8xOi0xKSpNYXRoLnJvdW5kKG4qdSkvdX0sXCJwYXJzZU51bWVyaWNcIiksQ2k9YShmdW5jdGlvbihyLGUpe3ZhciB0PVIoXHJcbmUsMSksbj1SKGUsNjMsMSksaT1uZXcgRGF0ZSgodD09PTA/MTotMSkqbi8xZTMrOTQ2Njg0OGU1KTtyZXR1cm4gcnx8aS5zZXRUaW1lKGkuXHJcbmdldFRpbWUoKStpLmdldFRpbWV6b25lT2Zmc2V0KCkqNmU0KSxpLnVzZWM9biUxZTMsaS5nZXRNaWNyb1NlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5cclxudXNlY30saS5zZXRNaWNyb1NlY29uZHM9ZnVuY3Rpb24ocyl7dGhpcy51c2VjPXN9LGkuZ2V0VVRDTWljcm9TZWNvbmRzPWZ1bmN0aW9uKCl7XHJcbnJldHVybiB0aGlzLnVzZWN9LGl9LFwicGFyc2VEYXRlXCIpLFllPWEoZnVuY3Rpb24ocil7Zm9yKHZhciBlPVIociwzMiksdD1SKHIsMzIsMzIpLFxyXG5uPVIociwzMiw2NCksaT05NixzPVtdLG89MDtvPGU7bysrKXNbb109UihyLDMyLGkpLGkrPTMyLGkrPTMyO3ZhciB1PWEoZnVuY3Rpb24oaCl7XHJcbnZhciBsPVIociwzMixpKTtpZihpKz0zMixsPT00Mjk0OTY3Mjk1KXJldHVybiBudWxsO3ZhciB5O2lmKGg9PTIzfHxoPT0yMClyZXR1cm4geT1cclxuUihyLGwqOCxpKSxpKz1sKjgseTtpZihoPT0yNSlyZXR1cm4geT1yLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsaT4+MywoaSs9bDw8Myk+PjMpLFxyXG55O2NvbnNvbGUubG9nKFwiRVJST1I6IEVsZW1lbnRUeXBlIG5vdCBpbXBsZW1lbnRlZDogXCIraCl9LFwicGFyc2VFbGVtZW50XCIpLGM9YShmdW5jdGlvbihoLGwpe1xyXG52YXIgeT1bXSxFO2lmKGgubGVuZ3RoPjEpe3ZhciBfPWguc2hpZnQoKTtmb3IoRT0wO0U8XztFKyspeVtFXT1jKGgsbCk7aC51bnNoaWZ0KFxyXG5fKX1lbHNlIGZvcihFPTA7RTxoWzBdO0UrKyl5W0VdPXUobCk7cmV0dXJuIHl9LFwicGFyc2VcIik7cmV0dXJuIGMocyxuKX0sXCJwYXJzZUFyclxcXHJcbmF5XCIpLExhPWEoZnVuY3Rpb24ocil7cmV0dXJuIHIudG9TdHJpbmcoXCJ1dGY4XCIpfSxcInBhcnNlVGV4dFwiKSxSYT1hKGZ1bmN0aW9uKHIpe3JldHVybiByPT09XHJcbm51bGw/bnVsbDpSKHIsOCk+MH0sXCJwYXJzZUJvb2xcIiksRmE9YShmdW5jdGlvbihyKXtyKDIwLENhKSxyKDIxLElhKSxyKDIzLEFpKSxyKDI2LFxyXG5BaSkscigxNzAwLEJhKSxyKDcwMCxUYSkscig3MDEsUGEpLHIoMTYsUmEpLHIoMTExNCxDaS5iaW5kKG51bGwsITEpKSxyKDExODQsQ2kuYmluZChcclxubnVsbCwhMCkpLHIoMWUzLFllKSxyKDEwMDcsWWUpLHIoMTAxNixZZSkscigxMDA4LFllKSxyKDEwMDksWWUpLHIoMjUsTGEpfSxcImluaXRcIik7XHJcblRpLmV4cG9ydHM9e2luaXQ6RmF9fSk7dmFyIExpPUkoKFVoLEJpKT0+e3AoKTtCaS5leHBvcnRzPXtCT09MOjE2LEJZVEVBOjE3LENIQVI6MTgsSU5UODoyMCxJTlQyOjIxLElOVDQ6MjMsXHJcblJFR1BST0M6MjQsVEVYVDoyNSxPSUQ6MjYsVElEOjI3LFhJRDoyOCxDSUQ6MjksSlNPTjoxMTQsWE1MOjE0MixQR19OT0RFX1RSRUU6MTk0LFxyXG5TTUdSOjIxMCxQQVRIOjYwMixQT0xZR09OOjYwNCxDSURSOjY1MCxGTE9BVDQ6NzAwLEZMT0FUODo3MDEsQUJTVElNRTo3MDIsUkVMVElNRTo3MDMsXHJcblRJTlRFUlZBTDo3MDQsQ0lSQ0xFOjcxOCxNQUNBRERSODo3NzQsTU9ORVk6NzkwLE1BQ0FERFI6ODI5LElORVQ6ODY5LEFDTElURU06MTAzMyxcclxuQlBDSEFSOjEwNDIsVkFSQ0hBUjoxMDQzLERBVEU6MTA4MixUSU1FOjEwODMsVElNRVNUQU1QOjExMTQsVElNRVNUQU1QVFo6MTE4NCxJTlRFUlZBTDoxMTg2LFxyXG5USU1FVFo6MTI2NixCSVQ6MTU2MCxWQVJCSVQ6MTU2MixOVU1FUklDOjE3MDAsUkVGQ1VSU09SOjE3OTAsUkVHUFJPQ0VEVVJFOjIyMDIsUkVHT1BFUjoyMjAzLFxyXG5SRUdPUEVSQVRPUjoyMjA0LFJFR0NMQVNTOjIyMDUsUkVHVFlQRToyMjA2LFVVSUQ6Mjk1MCxUWElEX1NOQVBTSE9UOjI5NzAsUEdfTFNOOjMyMjAsXHJcblBHX05ESVNUSU5DVDozMzYxLFBHX0RFUEVOREVOQ0lFUzozNDAyLFRTVkVDVE9SOjM2MTQsVFNRVUVSWTozNjE1LEdUU1ZFQ1RPUjozNjQyLFxyXG5SRUdDT05GSUc6MzczNCxSRUdESUNUSU9OQVJZOjM3NjksSlNPTkI6MzgwMixSRUdOQU1FU1BBQ0U6NDA4OSxSRUdST0xFOjQwOTZ9fSk7dmFyIFhlPUkoSmU9PntwKCk7dmFyIE1hPUVpKCksRGE9UGkoKSxPYT1XdCgpLGthPUxpKCk7SmUuZ2V0VHlwZVBhcnNlcj1VYTtKZS5zZXRUeXBlUGFyc2VyPVxyXG5xYTtKZS5hcnJheVBhcnNlcj1PYTtKZS5idWlsdGlucz1rYTt2YXIgWmU9e3RleHQ6e30sYmluYXJ5Ont9fTtmdW5jdGlvbiBSaShyKXtyZXR1cm4gU3RyaW5nKFxyXG5yKX1hKFJpLFwibm9QYXJzZVwiKTtmdW5jdGlvbiBVYShyLGUpe3JldHVybiBlPWV8fFwidGV4dFwiLFplW2VdJiZaZVtlXVtyXXx8Uml9YShVYSxcclxuXCJnZXRUeXBlUGFyc2VyXCIpO2Z1bmN0aW9uIHFhKHIsZSx0KXt0eXBlb2YgZT09XCJmdW5jdGlvblwiJiYodD1lLGU9XCJ0ZXh0XCIpLFplW2VdW3JdPVxyXG50fWEocWEsXCJzZXRUeXBlUGFyc2VyXCIpO01hLmluaXQoZnVuY3Rpb24ocixlKXtaZS50ZXh0W3JdPWV9KTtEYS5pbml0KGZ1bmN0aW9uKHIsZSl7XHJcblplLmJpbmFyeVtyXT1lfSl9KTt2YXIgZXQ9SSgoamgsWXQpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO1l0LmV4cG9ydHM9e2hvc3Q6XCJsb2NhbGhvc3RcIix1c2VyOm0ucGxhdGZvcm09PT1cclxuXCJ3aW4zMlwiP20uZW52LlVTRVJOQU1FOm0uZW52LlVTRVIsZGF0YWJhc2U6dm9pZCAwLHBhc3N3b3JkOm51bGwsY29ubmVjdGlvblN0cmluZzp2b2lkIDAsXHJcbnBvcnQ6NTQzMixyb3dzOjAsYmluYXJ5OiExLG1heDoxMCxpZGxlVGltZW91dE1pbGxpczozZTQsY2xpZW50X2VuY29kaW5nOlwiXCIsc3NsOiExLFxyXG5hcHBsaWNhdGlvbl9uYW1lOnZvaWQgMCxmYWxsYmFja19hcHBsaWNhdGlvbl9uYW1lOnZvaWQgMCxvcHRpb25zOnZvaWQgMCxwYXJzZUlucHV0RGF0ZXNBc1VUQzohMSxcclxuc3RhdGVtZW50X3RpbWVvdXQ6ITEsbG9ja190aW1lb3V0OiExLGlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0OiExLHF1ZXJ5X3RpbWVvdXQ6ITEsXHJcbmNvbm5lY3RfdGltZW91dDowLGtlZXBhbGl2ZXM6MSxrZWVwYWxpdmVzX2lkbGU6MH07dmFyIE1lPVhlKCksTmE9TWUuZ2V0VHlwZVBhcnNlcihcclxuMjAsXCJ0ZXh0XCIpLFFhPU1lLmdldFR5cGVQYXJzZXIoMTAxNixcInRleHRcIik7WXQuZXhwb3J0cy5fX2RlZmluZVNldHRlcl9fKFwicGFyc2VJblxcXHJcbnQ4XCIsZnVuY3Rpb24ocil7TWUuc2V0VHlwZVBhcnNlcigyMCxcInRleHRcIixyP01lLmdldFR5cGVQYXJzZXIoMjMsXCJ0ZXh0XCIpOk5hKSxNZS5cclxuc2V0VHlwZVBhcnNlcigxMDE2LFwidGV4dFwiLHI/TWUuZ2V0VHlwZVBhcnNlcigxMDA3LFwidGV4dFwiKTpRYSl9KX0pO3ZhciB0dD1JKChHaCxNaSk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIFdhPShxdCgpLGsoVXQpKSxqYT1ldCgpO2Z1bmN0aW9uIEhhKHIpe3ZhciBlPXIuXHJcbnJlcGxhY2UoL1xcXFwvZyxcIlxcXFxcXFxcXCIpLnJlcGxhY2UoL1wiL2csJ1xcXFxcIicpO3JldHVybidcIicrZSsnXCInfWEoSGEsXCJlc2NhcGVFbGVtZW50XCIpO1xyXG5mdW5jdGlvbiBGaShyKXtmb3IodmFyIGU9XCJ7XCIsdD0wO3Q8ci5sZW5ndGg7dCsrKXQ+MCYmKGU9ZStcIixcIiksclt0XT09PW51bGx8fHR5cGVvZiByW3RdPlxyXG5cInVcIj9lPWUrXCJOVUxMXCI6QXJyYXkuaXNBcnJheShyW3RdKT9lPWUrRmkoclt0XSk6clt0XWluc3RhbmNlb2YgZD9lKz1cIlxcXFxcXFxceFwiK3JbdF0uXHJcbnRvU3RyaW5nKFwiaGV4XCIpOmUrPUhhKGZ0KHJbdF0pKTtyZXR1cm4gZT1lK1wifVwiLGV9YShGaSxcImFycmF5U3RyaW5nXCIpO3ZhciBmdD1hKGZ1bmN0aW9uKHIsZSl7XHJcbmlmKHI9PW51bGwpcmV0dXJuIG51bGw7aWYociBpbnN0YW5jZW9mIGQpcmV0dXJuIHI7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHIpKXt2YXIgdD1kLlxyXG5mcm9tKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpO3JldHVybiB0Lmxlbmd0aD09PXIuYnl0ZUxlbmd0aD90OnQuc2xpY2UoXHJcbnIuYnl0ZU9mZnNldCxyLmJ5dGVPZmZzZXQrci5ieXRlTGVuZ3RoKX1yZXR1cm4gciBpbnN0YW5jZW9mIERhdGU/amEucGFyc2VJbnB1dERhdGVzQXNVVEM/XHJcbkthKHIpOiRhKHIpOkFycmF5LmlzQXJyYXkocik/Rmkocik6dHlwZW9mIHI9PVwib2JqZWN0XCI/R2EocixlKTpyLnRvU3RyaW5nKCl9LFwicHJlXFxcclxucGFyZVZhbHVlXCIpO2Z1bmN0aW9uIEdhKHIsZSl7aWYociYmdHlwZW9mIHIudG9Qb3N0Z3Jlcz09XCJmdW5jdGlvblwiKXtpZihlPWV8fFtdLGUuXHJcbmluZGV4T2YocikhPT0tMSl0aHJvdyBuZXcgRXJyb3IoJ2NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCB3aGlsZSBwcmVwYXJpbmcgXCInK1xyXG5yKydcIiBmb3IgcXVlcnknKTtyZXR1cm4gZS5wdXNoKHIpLGZ0KHIudG9Qb3N0Z3JlcyhmdCksZSl9cmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpfVxyXG5hKEdhLFwicHJlcGFyZU9iamVjdFwiKTtmdW5jdGlvbiBqKHIsZSl7Zm9yKHI9XCJcIityO3IubGVuZ3RoPGU7KXI9XCIwXCIrcjtyZXR1cm4gcn1hKFxyXG5qLFwicGFkXCIpO2Z1bmN0aW9uICRhKHIpe3ZhciBlPS1yLmdldFRpbWV6b25lT2Zmc2V0KCksdD1yLmdldEZ1bGxZZWFyKCksbj10PDE7biYmXHJcbih0PU1hdGguYWJzKHQpKzEpO3ZhciBpPWoodCw0KStcIi1cIitqKHIuZ2V0TW9udGgoKSsxLDIpK1wiLVwiK2ooci5nZXREYXRlKCksMikrXCJUXCIrXHJcbmooci5nZXRIb3VycygpLDIpK1wiOlwiK2ooci5nZXRNaW51dGVzKCksMikrXCI6XCIraihyLmdldFNlY29uZHMoKSwyKStcIi5cIitqKHIuZ2V0TWlsbGlzZWNvbmRzKCksXHJcbjMpO3JldHVybiBlPDA/KGkrPVwiLVwiLGUqPS0xKTppKz1cIitcIixpKz1qKE1hdGguZmxvb3IoZS82MCksMikrXCI6XCIraihlJTYwLDIpLG4mJihpKz1cclxuXCIgQkNcIiksaX1hKCRhLFwiZGF0ZVRvU3RyaW5nXCIpO2Z1bmN0aW9uIEthKHIpe3ZhciBlPXIuZ2V0VVRDRnVsbFllYXIoKSx0PWU8MTt0JiYoZT1cclxuTWF0aC5hYnMoZSkrMSk7dmFyIG49aihlLDQpK1wiLVwiK2ooci5nZXRVVENNb250aCgpKzEsMikrXCItXCIraihyLmdldFVUQ0RhdGUoKSwyKStcIlxcXHJcblRcIitqKHIuZ2V0VVRDSG91cnMoKSwyKStcIjpcIitqKHIuZ2V0VVRDTWludXRlcygpLDIpK1wiOlwiK2ooci5nZXRVVENTZWNvbmRzKCksMikrXCIuXCIrXHJcbmooci5nZXRVVENNaWxsaXNlY29uZHMoKSwzKTtyZXR1cm4gbis9XCIrMDA6MDBcIix0JiYobis9XCIgQkNcIiksbn1hKEthLFwiZGF0ZVRvU3RyaW5cXFxyXG5nVVRDXCIpO2Z1bmN0aW9uIFZhKHIsZSx0KXtyZXR1cm4gcj10eXBlb2Ygcj09XCJzdHJpbmdcIj97dGV4dDpyfTpyLGUmJih0eXBlb2YgZT09XCJcXFxyXG5mdW5jdGlvblwiP3IuY2FsbGJhY2s9ZTpyLnZhbHVlcz1lKSx0JiYoci5jYWxsYmFjaz10KSxyfWEoVmEsXCJub3JtYWxpemVRdWVyeUNvbmZpXFxcclxuZ1wiKTt2YXIgWnQ9YShmdW5jdGlvbihyKXtyZXR1cm4gV2EuY3JlYXRlSGFzaChcIm1kNVwiKS51cGRhdGUocixcInV0Zi04XCIpLmRpZ2VzdChcImhcXFxyXG5leFwiKX0sXCJtZDVcIiksemE9YShmdW5jdGlvbihyLGUsdCl7dmFyIG49WnQoZStyKSxpPVp0KGQuY29uY2F0KFtkLmZyb20obiksdF0pKTtyZXR1cm5cIlxcXHJcbm1kNVwiK2l9LFwicG9zdGdyZXNNZDVQYXNzd29yZEhhc2hcIik7TWkuZXhwb3J0cz17cHJlcGFyZVZhbHVlOmEoZnVuY3Rpb24oZSl7cmV0dXJuIGZ0KFxyXG5lKX0sXCJwcmVwYXJlVmFsdWVXcmFwcGVyXCIpLG5vcm1hbGl6ZVF1ZXJ5Q29uZmlnOlZhLHBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoOnphLG1kNTpadH19KTt2YXIgcWk9SSgoVmgsVWkpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3ZhciBKdD0ocXQoKSxrKFV0KSk7ZnVuY3Rpb24gWWEocil7aWYoci5pbmRleE9mKFxyXG5cIlNDUkFNLVNIQS0yNTZcIik9PT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJTQVNMOiBPbmx5IG1lY2hhbmlzbSBTQ1JBTS1TSEEtMjU2IGlzIGN1clxcXHJcbnJlbnRseSBzdXBwb3J0ZWRcIik7bGV0IGU9SnQucmFuZG9tQnl0ZXMoMTgpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO3JldHVybnttZWNoYW5pc206XCJcXFxyXG5TQ1JBTS1TSEEtMjU2XCIsY2xpZW50Tm9uY2U6ZSxyZXNwb25zZTpcIm4sLG49KixyPVwiK2UsbWVzc2FnZTpcIlNBU0xJbml0aWFsUmVzcG9uc2VcIn19XHJcbmEoWWEsXCJzdGFydFNlc3Npb25cIik7ZnVuY3Rpb24gWmEocixlLHQpe2lmKHIubWVzc2FnZSE9PVwiU0FTTEluaXRpYWxSZXNwb25zZVwiKXRocm93IG5ldyBFcnJvcihcclxuXCJTQVNMOiBMYXN0IG1lc3NhZ2Ugd2FzIG5vdCBTQVNMSW5pdGlhbFJlc3BvbnNlXCIpO2lmKHR5cGVvZiBlIT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcclxuXCJTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogY2xpZW50IHBhc3N3b3JkIG11c3QgYmUgYSBzdHJpbmdcIik7aWYodHlwZW9mIHQhPVxyXG5cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBzZXJ2ZXJEYXRhIG11c3QgYmUgYVxcXHJcbiBzdHJpbmdcIik7bGV0IG49ZXUodCk7aWYobi5ub25jZS5zdGFydHNXaXRoKHIuY2xpZW50Tm9uY2UpKXtpZihuLm5vbmNlLmxlbmd0aD09PVxyXG5yLmNsaWVudE5vbmNlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogc2VydmVyIG5cXFxyXG5vbmNlIGlzIHRvbyBzaG9ydFwiKX1lbHNlIHRocm93IG5ldyBFcnJvcihcIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBzZXJ2XFxcclxuZXIgbm9uY2UgZG9lcyBub3Qgc3RhcnQgd2l0aCBjbGllbnQgbm9uY2VcIik7dmFyIGk9ZC5mcm9tKG4uc2FsdCxcImJhc2U2NFwiKSxzPW51KGUsXHJcbmksbi5pdGVyYXRpb24pLG89RGUocyxcIkNsaWVudCBLZXlcIiksdT1ydShvKSxjPVwibj0qLHI9XCIrci5jbGllbnROb25jZSxoPVwicj1cIituLm5vbmNlK1xyXG5cIixzPVwiK24uc2FsdCtcIixpPVwiK24uaXRlcmF0aW9uLGw9XCJjPWJpd3Mscj1cIituLm5vbmNlLHk9YytcIixcIitoK1wiLFwiK2wsRT1EZSh1LHkpLF89a2koXHJcbm8sRSksUD1fLnRvU3RyaW5nKFwiYmFzZTY0XCIpLE49RGUocyxcIlNlcnZlciBLZXlcIiksSj1EZShOLHkpO3IubWVzc2FnZT1cIlNBU0xSZXNwb25cXFxyXG5zZVwiLHIuc2VydmVyU2lnbmF0dXJlPUoudG9TdHJpbmcoXCJiYXNlNjRcIiksci5yZXNwb25zZT1sK1wiLHA9XCIrUH1hKFphLFwiY29udGludWVTZVxcXHJcbnNzaW9uXCIpO2Z1bmN0aW9uIEphKHIsZSl7aWYoci5tZXNzYWdlIT09XCJTQVNMUmVzcG9uc2VcIil0aHJvdyBuZXcgRXJyb3IoXCJTQVNMOiBMYVxcXHJcbnN0IG1lc3NhZ2Ugd2FzIG5vdCBTQVNMUmVzcG9uc2VcIik7aWYodHlwZW9mIGUhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiU0FTTDogU1xcXHJcbkNSQU0tU0VSVkVSLUZJTkFMLU1FU1NBR0U6IHNlcnZlckRhdGEgbXVzdCBiZSBhIHN0cmluZ1wiKTtsZXR7c2VydmVyU2lnbmF0dXJlOnR9PXR1KFxyXG5lKTtpZih0IT09ci5zZXJ2ZXJTaWduYXR1cmUpdGhyb3cgbmV3IEVycm9yKFwiU0FTTDogU0NSQU0tU0VSVkVSLUZJTkFMLU1FU1NBR0U6IHNcXFxyXG5lcnZlciBzaWduYXR1cmUgZG9lcyBub3QgbWF0Y2hcIil9YShKYSxcImZpbmFsaXplU2Vzc2lvblwiKTtmdW5jdGlvbiBYYShyKXtpZih0eXBlb2YgciE9XHJcblwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlNBU0w6IHRleHQgbXVzdCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gci5zcGxpdChcIlwiKS5tYXAoXHJcbihlLHQpPT5yLmNoYXJDb2RlQXQodCkpLmV2ZXJ5KGU9PmU+PTMzJiZlPD00M3x8ZT49NDUmJmU8PTEyNil9YShYYSxcImlzUHJpbnRhYmxlQ1xcXHJcbmhhcnNcIik7ZnVuY3Rpb24gRGkocil7cmV0dXJuL14oPzpbYS16QS1aMC05Ky9dezR9KSooPzpbYS16QS1aMC05Ky9dezJ9PT18W2EtekEtWjAtOSsvXXszfT0pPyQvLlxyXG50ZXN0KHIpfWEoRGksXCJpc0Jhc2U2NFwiKTtmdW5jdGlvbiBPaShyKXtpZih0eXBlb2YgciE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG5cIlNBU0w6IGF0dHJpYnV0ZSBwYWlycyB0ZXh0IG11c3QgYmUgYSBzdHJpbmdcIik7cmV0dXJuIG5ldyBNYXAoci5zcGxpdChcIixcIikubWFwKGU9PntcclxuaWYoIS9eLj0vLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKFwiU0FTTDogSW52YWxpZCBhdHRyaWJ1dGUgcGFpciBlbnRyeVwiKTtsZXQgdD1lWzBdLFxyXG5uPWUuc3Vic3RyaW5nKDIpO3JldHVyblt0LG5dfSkpfWEoT2ksXCJwYXJzZUF0dHJpYnV0ZVBhaXJzXCIpO2Z1bmN0aW9uIGV1KHIpe2xldCBlPU9pKFxyXG5yKSx0PWUuZ2V0KFwiclwiKTtpZih0KXtpZighWGEodCkpdGhyb3cgbmV3IEVycm9yKFwiU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR1xcXHJcbkU6IG5vbmNlIG11c3Qgb25seSBjb250YWluIHByaW50YWJsZSBjaGFyYWN0ZXJzXCIpfWVsc2UgdGhyb3cgbmV3IEVycm9yKFwiU0FTTDogU0NcXFxyXG5SQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IG5vbmNlIG1pc3NpbmdcIik7bGV0IG49ZS5nZXQoXCJzXCIpO2lmKG4pe2lmKCFEaShuKSl0aHJvdyBuZXcgRXJyb3IoXHJcblwiU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNhbHQgbXVzdCBiZSBiYXNlNjRcIil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJTXFxcclxuQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogc2FsdCBtaXNzaW5nXCIpO2xldCBpPWUuZ2V0KFwiaVwiKTtpZihpKXtpZighL15bMS05XVswLTldKiQvLlxyXG50ZXN0KGkpKXRocm93IG5ldyBFcnJvcihcIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBpbnZhbGlkIGl0ZXJhdGlvbiBjb3VcXFxyXG5udFwiKX1lbHNlIHRocm93IG5ldyBFcnJvcihcIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBpdGVyYXRpb24gbWlzc2luZ1wiKTtcclxubGV0IHM9cGFyc2VJbnQoaSwxMCk7cmV0dXJue25vbmNlOnQsc2FsdDpuLGl0ZXJhdGlvbjpzfX1hKGV1LFwicGFyc2VTZXJ2ZXJGaXJzdE1lXFxcclxuc3NhZ2VcIik7ZnVuY3Rpb24gdHUocil7bGV0IHQ9T2kocikuZ2V0KFwidlwiKTtpZih0KXtpZighRGkodCkpdGhyb3cgbmV3IEVycm9yKFwiU0FTXFxcclxuTDogU0NSQU0tU0VSVkVSLUZJTkFMLU1FU1NBR0U6IHNlcnZlciBzaWduYXR1cmUgbXVzdCBiZSBiYXNlNjRcIil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXHJcblwiU0FTTDogU0NSQU0tU0VSVkVSLUZJTkFMLU1FU1NBR0U6IHNlcnZlciBzaWduYXR1cmUgaXMgbWlzc2luZ1wiKTtyZXR1cm57c2VydmVyU2lnbmF0dXJlOnR9fVxyXG5hKHR1LFwicGFyc2VTZXJ2ZXJGaW5hbE1lc3NhZ2VcIik7ZnVuY3Rpb24ga2kocixlKXtpZighZC5pc0J1ZmZlcihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG5cImZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7aWYoIWQuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcInNlY29uZFxcXHJcbiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO2lmKHIubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyIGxlbmdcXFxyXG50aHMgbXVzdCBtYXRjaFwiKTtpZihyLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVycyBjYW5ub3QgYmUgZW1wdHlcIik7cmV0dXJuIGQuXHJcbmZyb20oci5tYXAoKHQsbik9PnJbbl1eZVtuXSkpfWEoa2ksXCJ4b3JCdWZmZXJzXCIpO2Z1bmN0aW9uIHJ1KHIpe3JldHVybiBKdC5jcmVhdGVIYXNoKFxyXG5cInNoYTI1NlwiKS51cGRhdGUocikuZGlnZXN0KCl9YShydSxcInNoYTI1NlwiKTtmdW5jdGlvbiBEZShyLGUpe3JldHVybiBKdC5jcmVhdGVIbWFjKFxyXG5cInNoYTI1NlwiLHIpLnVwZGF0ZShlKS5kaWdlc3QoKX1hKERlLFwiaG1hY1NoYTI1NlwiKTtmdW5jdGlvbiBudShyLGUsdCl7Zm9yKHZhciBuPURlKFxyXG5yLGQuY29uY2F0KFtlLGQuZnJvbShbMCwwLDAsMV0pXSkpLGk9bixzPTA7czx0LTE7cysrKW49RGUocixuKSxpPWtpKGksbik7cmV0dXJuIGl9XHJcbmEobnUsXCJIaVwiKTtVaS5leHBvcnRzPXtzdGFydFNlc3Npb246WWEsY29udGludWVTZXNzaW9uOlphLGZpbmFsaXplU2Vzc2lvbjpKYX19KTt2YXIgWHQ9e307WChYdCx7am9pbjooKT0+aXV9KTtmdW5jdGlvbiBpdSguLi5yKXtyZXR1cm4gci5qb2luKFwiL1wiKX12YXIgZXI9SygoKT0+e1xyXG5cInVzZSBzdHJpY3RcIjtwKCk7YShpdSxcImpvaW5cIil9KTt2YXIgdHI9e307WCh0cix7c3RhdDooKT0+c3V9KTtmdW5jdGlvbiBzdShyLGUpe2UobmV3IEVycm9yKFwiTm8gZmlsZXN5c3RlbVwiKSl9dmFyIHJyPUsoXHJcbigpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO2Eoc3UsXCJzdGF0XCIpfSk7dmFyIG5yPXt9O1gobnIse2RlZmF1bHQ6KCk9Pm91fSk7dmFyIG91LGlyPUsoKCk9PntcInVzZSBzdHJpY3RcIjtwKCk7b3U9e319KTt2YXIgTmk9e307WChOaSx7U3RyaW5nRGVjb2RlcjooKT0+c3J9KTt2YXIgb3Isc3IsUWk9SygoKT0+e1widXNlIHN0cmljdFwiO3AoKTtvcj1jbGFzcyBvcntjb25zdHJ1Y3RvcihlKXtcclxuVCh0aGlzLFwidGRcIik7dGhpcy50ZD1uZXcgVGV4dERlY29kZXIoZSl9d3JpdGUoZSl7cmV0dXJuIHRoaXMudGQuZGVjb2RlKGUse3N0cmVhbTohMH0pfWVuZChlKXtcclxucmV0dXJuIHRoaXMudGQuZGVjb2RlKGUpfX07YShvcixcIlN0cmluZ0RlY29kZXJcIik7c3I9b3J9KTt2YXIgR2k9SSgoaWwsSGkpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3ZhcntUcmFuc2Zvcm06YXV9PShpcigpLGsobnIpKSx7U3RyaW5nRGVjb2Rlcjp1dX09KFFpKCksayhOaSkpLFxyXG53ZT1TeW1ib2woXCJsYXN0XCIpLHB0PVN5bWJvbChcImRlY29kZXJcIik7ZnVuY3Rpb24gY3UocixlLHQpe2xldCBuO2lmKHRoaXMub3ZlcmZsb3cpe1xyXG5pZihuPXRoaXNbcHRdLndyaXRlKHIpLnNwbGl0KHRoaXMubWF0Y2hlciksbi5sZW5ndGg9PT0xKXJldHVybiB0KCk7bi5zaGlmdCgpLHRoaXMuXHJcbm92ZXJmbG93PSExfWVsc2UgdGhpc1t3ZV0rPXRoaXNbcHRdLndyaXRlKHIpLG49dGhpc1t3ZV0uc3BsaXQodGhpcy5tYXRjaGVyKTt0aGlzW3dlXT1cclxubi5wb3AoKTtmb3IobGV0IGk9MDtpPG4ubGVuZ3RoO2krKyl0cnl7amkodGhpcyx0aGlzLm1hcHBlcihuW2ldKSl9Y2F0Y2gocyl7cmV0dXJuIHQoXHJcbnMpfWlmKHRoaXMub3ZlcmZsb3c9dGhpc1t3ZV0ubGVuZ3RoPnRoaXMubWF4TGVuZ3RoLHRoaXMub3ZlcmZsb3cmJiF0aGlzLnNraXBPdmVyZmxvdyl7XHJcbnQobmV3IEVycm9yKFwibWF4aW11bSBidWZmZXIgcmVhY2hlZFwiKSk7cmV0dXJufXQoKX1hKGN1LFwidHJhbnNmb3JtXCIpO2Z1bmN0aW9uIGh1KHIpe1xyXG5pZih0aGlzW3dlXSs9dGhpc1twdF0uZW5kKCksdGhpc1t3ZV0pdHJ5e2ppKHRoaXMsdGhpcy5tYXBwZXIodGhpc1t3ZV0pKX1jYXRjaChlKXtcclxucmV0dXJuIHIoZSl9cigpfWEoaHUsXCJmbHVzaFwiKTtmdW5jdGlvbiBqaShyLGUpe2UhPT12b2lkIDAmJnIucHVzaChlKX1hKGppLFwicHVzaFwiKTtcclxuZnVuY3Rpb24gV2kocil7cmV0dXJuIHJ9YShXaSxcIm5vb3BcIik7ZnVuY3Rpb24gbHUocixlLHQpe3N3aXRjaChyPXJ8fC9cXHI/XFxuLyxlPWV8fFxyXG5XaSx0PXR8fHt9LGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTp0eXBlb2Ygcj09XCJmdW5jdGlvblwiPyhlPXIscj0vXFxyP1xcbi8pOnR5cGVvZiByPT1cclxuXCJvYmplY3RcIiYmIShyIGluc3RhbmNlb2YgUmVnRXhwKSYmIXJbU3ltYm9sLnNwbGl0XSYmKHQ9cixyPS9cXHI/XFxuLyk7YnJlYWs7Y2FzZSAyOlxyXG50eXBlb2Ygcj09XCJmdW5jdGlvblwiPyh0PWUsZT1yLHI9L1xccj9cXG4vKTp0eXBlb2YgZT09XCJvYmplY3RcIiYmKHQ9ZSxlPVdpKX10PU9iamVjdC5cclxuYXNzaWduKHt9LHQpLHQuYXV0b0Rlc3Ryb3k9ITAsdC50cmFuc2Zvcm09Y3UsdC5mbHVzaD1odSx0LnJlYWRhYmxlT2JqZWN0TW9kZT0hMDtcclxubGV0IG49bmV3IGF1KHQpO3JldHVybiBuW3dlXT1cIlwiLG5bcHRdPW5ldyB1dShcInV0ZjhcIiksbi5tYXRjaGVyPXIsbi5tYXBwZXI9ZSxuLm1heExlbmd0aD1cclxudC5tYXhMZW5ndGgsbi5za2lwT3ZlcmZsb3c9dC5za2lwT3ZlcmZsb3d8fCExLG4ub3ZlcmZsb3c9ITEsbi5fZGVzdHJveT1mdW5jdGlvbihpLHMpe1xyXG50aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMSxzKGkpfSxufWEobHUsXCJzcGxpdFwiKTtIaS5leHBvcnRzPWx1fSk7dmFyIFZpPUkoKGFsLGZlKT0+e1widXNlIHN0cmljdFwiO3AoKTt2YXIgJGk9KGVyKCksayhYdCkpLGZ1PShpcigpLGsobnIpKS5TdHJlYW0scHU9R2koKSxcclxuS2k9KEdlKCksayhIZSkpLGR1PTU0MzIsZHQ9bS5wbGF0Zm9ybT09PVwid2luMzJcIixydD1tLnN0ZGVycix5dT01NixtdT03LGd1PTYxNDQwLFxyXG53dT0zMjc2ODtmdW5jdGlvbiBidShyKXtyZXR1cm4ociZndSk9PXd1fWEoYnUsXCJpc1JlZ0ZpbGVcIik7dmFyIE9lPVtcImhvc3RcIixcInBvcnRcIixcclxuXCJkYXRhYmFzZVwiLFwidXNlclwiLFwicGFzc3dvcmRcIl0sYXI9T2UubGVuZ3RoLFN1PU9lW2FyLTFdO2Z1bmN0aW9uIHVyKCl7dmFyIHI9cnQgaW5zdGFuY2VvZlxyXG5mdSYmcnQud3JpdGFibGU9PT0hMDtpZihyKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmNvbmNhdChgXHJcbmApO3J0LndyaXRlKEtpLmZvcm1hdC5hcHBseShLaSxlKSl9fWEodXIsXCJ3YXJuXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShmZS5leHBvcnRzLFxyXG5cImlzV2luXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkdH0sc2V0OmZ1bmN0aW9uKHIpe2R0PXJ9fSk7ZmUuZXhwb3J0cy53YXJuVG89ZnVuY3Rpb24ocil7XHJcbnZhciBlPXJ0O3JldHVybiBydD1yLGV9O2ZlLmV4cG9ydHMuZ2V0RmlsZU5hbWU9ZnVuY3Rpb24ocil7dmFyIGU9cnx8bS5lbnYsdD1lLlBHUEFTU0ZJTEV8fFxyXG4oZHQ/JGkuam9pbihlLkFQUERBVEF8fFwiLi9cIixcInBvc3RncmVzcWxcIixcInBncGFzcy5jb25mXCIpOiRpLmpvaW4oZS5IT01FfHxcIi4vXCIsXCIucFxcXHJcbmdwYXNzXCIpKTtyZXR1cm4gdH07ZmUuZXhwb3J0cy51c2VQZ1Bhc3M9ZnVuY3Rpb24ocixlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5cclxuY2FsbChtLmVudixcIlBHUEFTU1dPUkRcIik/ITE6ZHQ/ITA6KGU9ZXx8XCI8dW5rbj5cIixidShyLm1vZGUpP3IubW9kZSYoeXV8bXUpPyh1cignXFxcclxuV0FSTklORzogcGFzc3dvcmQgZmlsZSBcIiVzXCIgaGFzIGdyb3VwIG9yIHdvcmxkIGFjY2VzczsgcGVybWlzc2lvbnMgc2hvdWxkIGJlIHU9clxcXHJcbncgKDA2MDApIG9yIGxlc3MnLGUpLCExKTohMDoodXIoJ1dBUk5JTkc6IHBhc3N3b3JkIGZpbGUgXCIlc1wiIGlzIG5vdCBhIHBsYWluIGZpbGUnLFxyXG5lKSwhMSkpfTt2YXIgeHU9ZmUuZXhwb3J0cy5tYXRjaD1mdW5jdGlvbihyLGUpe3JldHVybiBPZS5zbGljZSgwLC0xKS5yZWR1Y2UoZnVuY3Rpb24odCxuLGkpe1xyXG5yZXR1cm4gaT09MSYmTnVtYmVyKHJbbl18fGR1KT09PU51bWJlcihlW25dKT90JiYhMDp0JiYoZVtuXT09PVwiKlwifHxlW25dPT09cltuXSl9LFxyXG4hMCl9O2ZlLmV4cG9ydHMuZ2V0UGFzc3dvcmQ9ZnVuY3Rpb24ocixlLHQpe3ZhciBuLGk9ZS5waXBlKHB1KCkpO2Z1bmN0aW9uIHMoYyl7dmFyIGg9RXUoXHJcbmMpO2gmJnZ1KGgpJiZ4dShyLGgpJiYobj1oW1N1XSxpLmVuZCgpKX1hKHMsXCJvbkxpbmVcIik7dmFyIG89YShmdW5jdGlvbigpe2UuZGVzdHJveSgpLFxyXG50KG4pfSxcIm9uRW5kXCIpLHU9YShmdW5jdGlvbihjKXtlLmRlc3Ryb3koKSx1cihcIldBUk5JTkc6IGVycm9yIG9uIHJlYWRpbmcgZmlsZTogJVxcXHJcbnNcIixjKSx0KHZvaWQgMCl9LFwib25FcnJcIik7ZS5vbihcImVycm9yXCIsdSksaS5vbihcImRhdGFcIixzKS5vbihcImVuZFwiLG8pLm9uKFwiZXJyb3JcIixcclxudSl9O3ZhciBFdT1mZS5leHBvcnRzLnBhcnNlTGluZT1mdW5jdGlvbihyKXtpZihyLmxlbmd0aDwxMXx8ci5tYXRjaCgvXlxccysjLykpcmV0dXJuIG51bGw7XHJcbmZvcih2YXIgZT1cIlwiLHQ9XCJcIixuPTAsaT0wLHM9MCxvPXt9LHU9ITEsYz1hKGZ1bmN0aW9uKGwseSxFKXt2YXIgXz1yLnN1YnN0cmluZyh5LFxyXG5FKTtPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtLmVudixcIlBHUEFTU19OT19ERUVTQ0FQRVwiKXx8KF89Xy5yZXBsYWNlKC9cXFxcKFs6XFxcXF0pL2csXHJcblwiJDFcIikpLG9bT2VbbF1dPV99LFwiYWRkVG9PYmpcIiksaD0wO2g8ci5sZW5ndGgtMTtoKz0xKXtpZihlPXIuY2hhckF0KGgrMSksdD1yLmNoYXJBdChcclxuaCksdT1uPT1hci0xLHUpe2MobixpKTticmVha31oPj0wJiZlPT1cIjpcIiYmdCE9PVwiXFxcXFwiJiYoYyhuLGksaCsxKSxpPWgrMixuKz0xKX1yZXR1cm4gbz1cclxuT2JqZWN0LmtleXMobykubGVuZ3RoPT09YXI/bzpudWxsLG99LHZ1PWZlLmV4cG9ydHMuaXNWYWxpZEVudHJ5PWZ1bmN0aW9uKHIpe2Zvcih2YXIgZT17XHJcbjA6ZnVuY3Rpb24obyl7cmV0dXJuIG8ubGVuZ3RoPjB9LDE6ZnVuY3Rpb24obyl7cmV0dXJuIG89PT1cIipcIj8hMDoobz1OdW1iZXIobyksaXNGaW5pdGUoXHJcbm8pJiZvPjAmJm88OTAwNzE5OTI1NDc0MDk5MiYmTWF0aC5mbG9vcihvKT09PW8pfSwyOmZ1bmN0aW9uKG8pe3JldHVybiBvLmxlbmd0aD4wfSxcclxuMzpmdW5jdGlvbihvKXtyZXR1cm4gby5sZW5ndGg+MH0sNDpmdW5jdGlvbihvKXtyZXR1cm4gby5sZW5ndGg+MH19LHQ9MDt0PE9lLmxlbmd0aDt0Kz1cclxuMSl7dmFyIG49ZVt0XSxpPXJbT2VbdF1dfHxcIlwiLHM9bihpKTtpZighcylyZXR1cm4hMX1yZXR1cm4hMH19KTt2YXIgWWk9SSgobGwsY3IpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3ZhciBobD0oZXIoKSxrKFh0KSksemk9KHJyKCksayh0cikpLHl0PVZpKCk7XHJcbmNyLmV4cG9ydHM9ZnVuY3Rpb24ocixlKXt2YXIgdD15dC5nZXRGaWxlTmFtZSgpO3ppLnN0YXQodCxmdW5jdGlvbihuLGkpe2lmKG58fCF5dC5cclxudXNlUGdQYXNzKGksdCkpcmV0dXJuIGUodm9pZCAwKTt2YXIgcz16aS5jcmVhdGVSZWFkU3RyZWFtKHQpO3l0LmdldFBhc3N3b3JkKHIscyxcclxuZSl9KX07Y3IuZXhwb3J0cy53YXJuVG89eXQud2FyblRvfSk7dmFyIGhyPUkoKHBsLFppKT0+e1widXNlIHN0cmljdFwiO3AoKTt2YXIgX3U9WGUoKTtmdW5jdGlvbiBtdChyKXt0aGlzLl90eXBlcz1yfHxfdSxcclxudGhpcy50ZXh0PXt9LHRoaXMuYmluYXJ5PXt9fWEobXQsXCJUeXBlT3ZlcnJpZGVzXCIpO210LnByb3RvdHlwZS5nZXRPdmVycmlkZXM9ZnVuY3Rpb24ocil7XHJcbnN3aXRjaChyKXtjYXNlXCJ0ZXh0XCI6cmV0dXJuIHRoaXMudGV4dDtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdGhpcy5iaW5hcnk7ZGVmYXVsdDpyZXR1cm57fX19O1xyXG5tdC5wcm90b3R5cGUuc2V0VHlwZVBhcnNlcj1mdW5jdGlvbihyLGUsdCl7dHlwZW9mIGU9PVwiZnVuY3Rpb25cIiYmKHQ9ZSxlPVwidGV4dFwiKSxcclxudGhpcy5nZXRPdmVycmlkZXMoZSlbcl09dH07bXQucHJvdG90eXBlLmdldFR5cGVQYXJzZXI9ZnVuY3Rpb24ocixlKXtyZXR1cm4gZT1lfHxcclxuXCJ0ZXh0XCIsdGhpcy5nZXRPdmVycmlkZXMoZSlbcl18fHRoaXMuX3R5cGVzLmdldFR5cGVQYXJzZXIocixlKX07WmkuZXhwb3J0cz1tdH0pO3ZhciBKaT17fTtYKEppLHtkZWZhdWx0OigpPT5BdX0pO3ZhciBBdSxYaT1LKCgpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO0F1PXt9fSk7dmFyIGVzPXt9O1goZXMse3BhcnNlOigpPT5scn0pO2Z1bmN0aW9uIGxyKHIsZT0hMSl7bGV0e3Byb3RvY29sOnR9PW5ldyBVUkwociksbj1cIlxcXHJcbmh0dHA6XCIrci5zdWJzdHJpbmcodC5sZW5ndGgpLHt1c2VybmFtZTppLHBhc3N3b3JkOnMsaG9zdDpvLGhvc3RuYW1lOnUscG9ydDpjLHBhdGhuYW1lOmgsXHJcbnNlYXJjaDpsLHNlYXJjaFBhcmFtczp5LGhhc2g6RX09bmV3IFVSTChuKTtzPWRlY29kZVVSSUNvbXBvbmVudChzKTtsZXQgXz1pK1wiOlwiK3MsXHJcblA9ZT9PYmplY3QuZnJvbUVudHJpZXMoeS5lbnRyaWVzKCkpOmw7cmV0dXJue2hyZWY6cixwcm90b2NvbDp0LGF1dGg6Xyx1c2VybmFtZTppLFxyXG5wYXNzd29yZDpzLGhvc3Q6byxob3N0bmFtZTp1LHBvcnQ6YyxwYXRobmFtZTpoLHNlYXJjaDpsLHF1ZXJ5OlAsaGFzaDpFfX12YXIgZnI9SyhcclxuKCk9PntcInVzZSBzdHJpY3RcIjtwKCk7YShscixcInBhcnNlXCIpfSk7dmFyIHJzPUkoKGJsLHRzKT0+e1widXNlIHN0cmljdFwiO3AoKTt2YXIgQ3U9KGZyKCksayhlcykpLHByPShycigpLGsodHIpKTtmdW5jdGlvbiBkcihyKXtcclxuaWYoci5jaGFyQXQoMCk9PT1cIi9cIil7dmFyIHQ9ci5zcGxpdChcIiBcIik7cmV0dXJue2hvc3Q6dFswXSxkYXRhYmFzZTp0WzFdfX12YXIgZT1DdS5cclxucGFyc2UoLyB8JVteYS1mMC05XXwlW2EtZjAtOV1bXmEtZjAtOV0vaS50ZXN0KHIpP2VuY29kZVVSSShyKS5yZXBsYWNlKC9cXCUyNShcXGRcXGQpL2csXHJcblwiJSQxXCIpOnIsITApLHQ9ZS5xdWVyeTtmb3IodmFyIG4gaW4gdClBcnJheS5pc0FycmF5KHRbbl0pJiYodFtuXT10W25dW3Rbbl0ubGVuZ3RoLVxyXG4xXSk7dmFyIGk9KGUuYXV0aHx8XCI6XCIpLnNwbGl0KFwiOlwiKTtpZih0LnVzZXI9aVswXSx0LnBhc3N3b3JkPWkuc3BsaWNlKDEpLmpvaW4oXCI6XCIpLFxyXG50LnBvcnQ9ZS5wb3J0LGUucHJvdG9jb2w9PVwic29ja2V0OlwiKXJldHVybiB0Lmhvc3Q9ZGVjb2RlVVJJKGUucGF0aG5hbWUpLHQuZGF0YWJhc2U9XHJcbmUucXVlcnkuZGIsdC5jbGllbnRfZW5jb2Rpbmc9ZS5xdWVyeS5lbmNvZGluZyx0O3QuaG9zdHx8KHQuaG9zdD1lLmhvc3RuYW1lKTt2YXIgcz1lLlxyXG5wYXRobmFtZTtpZighdC5ob3N0JiZzJiYvXiUyZi9pLnRlc3Qocykpe3ZhciBvPXMuc3BsaXQoXCIvXCIpO3QuaG9zdD1kZWNvZGVVUklDb21wb25lbnQoXHJcbm9bMF0pLHM9by5zcGxpY2UoMSkuam9pbihcIi9cIil9c3dpdGNoKHMmJnMuY2hhckF0KDApPT09XCIvXCImJihzPXMuc2xpY2UoMSl8fG51bGwpLFxyXG50LmRhdGFiYXNlPXMmJmRlY29kZVVSSShzKSwodC5zc2w9PT1cInRydWVcInx8dC5zc2w9PT1cIjFcIikmJih0LnNzbD0hMCksdC5zc2w9PT1cIjBcIiYmXHJcbih0LnNzbD0hMSksKHQuc3NsY2VydHx8dC5zc2xrZXl8fHQuc3Nscm9vdGNlcnR8fHQuc3NsbW9kZSkmJih0LnNzbD17fSksdC5zc2xjZXJ0JiZcclxuKHQuc3NsLmNlcnQ9cHIucmVhZEZpbGVTeW5jKHQuc3NsY2VydCkudG9TdHJpbmcoKSksdC5zc2xrZXkmJih0LnNzbC5rZXk9cHIucmVhZEZpbGVTeW5jKFxyXG50LnNzbGtleSkudG9TdHJpbmcoKSksdC5zc2xyb290Y2VydCYmKHQuc3NsLmNhPXByLnJlYWRGaWxlU3luYyh0LnNzbHJvb3RjZXJ0KS50b1N0cmluZygpKSxcclxudC5zc2xtb2RlKXtjYXNlXCJkaXNhYmxlXCI6e3Quc3NsPSExO2JyZWFrfWNhc2VcInByZWZlclwiOmNhc2VcInJlcXVpcmVcIjpjYXNlXCJ2ZXJpZnktXFxcclxuY2FcIjpjYXNlXCJ2ZXJpZnktZnVsbFwiOmJyZWFrO2Nhc2VcIm5vLXZlcmlmeVwiOnt0LnNzbC5yZWplY3RVbmF1dGhvcml6ZWQ9ITE7YnJlYWt9fVxyXG5yZXR1cm4gdH1hKGRyLFwicGFyc2VcIik7dHMuZXhwb3J0cz1kcjtkci5wYXJzZT1kcn0pO3ZhciBndD1JKChFbCxzcyk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIEl1PShYaSgpLGsoSmkpKSxpcz1ldCgpLG5zPXJzKCkucGFyc2UsVj1hKFxyXG5mdW5jdGlvbihyLGUsdCl7cmV0dXJuIHQ9PT12b2lkIDA/dD1tLmVudltcIlBHXCIrci50b1VwcGVyQ2FzZSgpXTp0PT09ITF8fCh0PW0uZW52W3RdKSxcclxuZVtyXXx8dHx8aXNbcl19LFwidmFsXCIpLFR1PWEoZnVuY3Rpb24oKXtzd2l0Y2gobS5lbnYuUEdTU0xNT0RFKXtjYXNlXCJkaXNhYmxlXCI6cmV0dXJuITE7Y2FzZVwiXFxcclxucHJlZmVyXCI6Y2FzZVwicmVxdWlyZVwiOmNhc2VcInZlcmlmeS1jYVwiOmNhc2VcInZlcmlmeS1mdWxsXCI6cmV0dXJuITA7Y2FzZVwibm8tdmVyaWZ5XCI6XHJcbnJldHVybntyZWplY3RVbmF1dGhvcml6ZWQ6ITF9fXJldHVybiBpcy5zc2x9LFwicmVhZFNTTENvbmZpZ0Zyb21FbnZpcm9ubWVudFwiKSxrZT1hKFxyXG5mdW5jdGlvbihyKXtyZXR1cm5cIidcIisoXCJcIityKS5yZXBsYWNlKC9cXFxcL2csXCJcXFxcXFxcXFwiKS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKStcIidcIn0sXCJxdW9cXFxyXG50ZVBhcmFtVmFsdWVcIikscmU9YShmdW5jdGlvbihyLGUsdCl7dmFyIG49ZVt0XTtuIT1udWxsJiZyLnB1c2godCtcIj1cIitrZShuKSl9LFwiYWRcXFxyXG5kXCIpLG1yPWNsYXNzIG1ye2NvbnN0cnVjdG9yKGUpe2U9dHlwZW9mIGU9PVwic3RyaW5nXCI/bnMoZSk6ZXx8e30sZS5jb25uZWN0aW9uU3RyaW5nJiZcclxuKGU9T2JqZWN0LmFzc2lnbih7fSxlLG5zKGUuY29ubmVjdGlvblN0cmluZykpKSx0aGlzLnVzZXI9VihcInVzZXJcIixlKSx0aGlzLmRhdGFiYXNlPVxyXG5WKFwiZGF0YWJhc2VcIixlKSx0aGlzLmRhdGFiYXNlPT09dm9pZCAwJiYodGhpcy5kYXRhYmFzZT10aGlzLnVzZXIpLHRoaXMucG9ydD1wYXJzZUludChcclxuVihcInBvcnRcIixlKSwxMCksdGhpcy5ob3N0PVYoXCJob3N0XCIsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwYXNzd29yZFwiLHtjb25maWd1cmFibGU6ITAsXHJcbmVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6VihcInBhc3N3b3JkXCIsZSl9KSx0aGlzLmJpbmFyeT1WKFwiYmluYXJ5XCIsZSksdGhpcy5cclxub3B0aW9ucz1WKFwib3B0aW9uc1wiLGUpLHRoaXMuc3NsPXR5cGVvZiBlLnNzbD5cInVcIj9UdSgpOmUuc3NsLHR5cGVvZiB0aGlzLnNzbD09XCJzdFxcXHJcbnJpbmdcIiYmdGhpcy5zc2w9PT1cInRydWVcIiYmKHRoaXMuc3NsPSEwKSx0aGlzLnNzbD09PVwibm8tdmVyaWZ5XCImJih0aGlzLnNzbD17cmVqZWN0VW5hdXRob3JpemVkOiExfSksXHJcbnRoaXMuc3NsJiZ0aGlzLnNzbC5rZXkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnNzbCxcImtleVwiLHtlbnVtZXJhYmxlOiExfSksdGhpcy5cclxuY2xpZW50X2VuY29kaW5nPVYoXCJjbGllbnRfZW5jb2RpbmdcIixlKSx0aGlzLnJlcGxpY2F0aW9uPVYoXCJyZXBsaWNhdGlvblwiLGUpLHRoaXMuXHJcbmlzRG9tYWluU29ja2V0PSEodGhpcy5ob3N0fHxcIlwiKS5pbmRleE9mKFwiL1wiKSx0aGlzLmFwcGxpY2F0aW9uX25hbWU9VihcImFwcGxpY2F0aW9cXFxyXG5uX25hbWVcIixlLFwiUEdBUFBOQU1FXCIpLHRoaXMuZmFsbGJhY2tfYXBwbGljYXRpb25fbmFtZT1WKFwiZmFsbGJhY2tfYXBwbGljYXRpb25fbmFcXFxyXG5tZVwiLGUsITEpLHRoaXMuc3RhdGVtZW50X3RpbWVvdXQ9VihcInN0YXRlbWVudF90aW1lb3V0XCIsZSwhMSksdGhpcy5sb2NrX3RpbWVvdXQ9VihcclxuXCJsb2NrX3RpbWVvdXRcIixlLCExKSx0aGlzLmlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0PVYoXCJpZGxlX2luX3RyYW5zYWNcXFxyXG50aW9uX3Nlc3Npb25fdGltZW91dFwiLGUsITEpLHRoaXMucXVlcnlfdGltZW91dD1WKFwicXVlcnlfdGltZW91dFwiLGUsITEpLGUuY29ubmVjdGlvblRpbWVvdXRNaWxsaXM9PT1cclxudm9pZCAwP3RoaXMuY29ubmVjdF90aW1lb3V0PW0uZW52LlBHQ09OTkVDVF9USU1FT1VUfHwwOnRoaXMuY29ubmVjdF90aW1lb3V0PU1hdGguXHJcbmZsb29yKGUuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMvMWUzKSxlLmtlZXBBbGl2ZT09PSExP3RoaXMua2VlcGFsaXZlcz0wOmUua2VlcEFsaXZlPT09XHJcbiEwJiYodGhpcy5rZWVwYWxpdmVzPTEpLHR5cGVvZiBlLmtlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpcz09XCJudW1iZXJcIiYmKHRoaXMua2VlcGFsaXZlc19pZGxlPVxyXG5NYXRoLmZsb29yKGUua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzLzFlMykpfWdldExpYnBxQ29ubmVjdGlvblN0cmluZyhlKXt2YXIgdD1bXTtcclxucmUodCx0aGlzLFwidXNlclwiKSxyZSh0LHRoaXMsXCJwYXNzd29yZFwiKSxyZSh0LHRoaXMsXCJwb3J0XCIpLHJlKHQsdGhpcyxcImFwcGxpY2F0aW9uXFxcclxuX25hbWVcIikscmUodCx0aGlzLFwiZmFsbGJhY2tfYXBwbGljYXRpb25fbmFtZVwiKSxyZSh0LHRoaXMsXCJjb25uZWN0X3RpbWVvdXRcIikscmUodCxcclxudGhpcyxcIm9wdGlvbnNcIik7dmFyIG49dHlwZW9mIHRoaXMuc3NsPT1cIm9iamVjdFwiP3RoaXMuc3NsOnRoaXMuc3NsP3tzc2xtb2RlOnRoaXMuXHJcbnNzbH06e307aWYocmUodCxuLFwic3NsbW9kZVwiKSxyZSh0LG4sXCJzc2xjYVwiKSxyZSh0LG4sXCJzc2xrZXlcIikscmUodCxuLFwic3NsY2VydFwiKSxcclxucmUodCxuLFwic3Nscm9vdGNlcnRcIiksdGhpcy5kYXRhYmFzZSYmdC5wdXNoKFwiZGJuYW1lPVwiK2tlKHRoaXMuZGF0YWJhc2UpKSx0aGlzLnJlcGxpY2F0aW9uJiZcclxudC5wdXNoKFwicmVwbGljYXRpb249XCIra2UodGhpcy5yZXBsaWNhdGlvbikpLHRoaXMuaG9zdCYmdC5wdXNoKFwiaG9zdD1cIitrZSh0aGlzLmhvc3QpKSxcclxudGhpcy5pc0RvbWFpblNvY2tldClyZXR1cm4gZShudWxsLHQuam9pbihcIiBcIikpO3RoaXMuY2xpZW50X2VuY29kaW5nJiZ0LnB1c2goXCJjbGlcXFxyXG5lbnRfZW5jb2Rpbmc9XCIra2UodGhpcy5jbGllbnRfZW5jb2RpbmcpKSxJdS5sb29rdXAodGhpcy5ob3N0LGZ1bmN0aW9uKGkscyl7cmV0dXJuIGk/XHJcbmUoaSxudWxsKToodC5wdXNoKFwiaG9zdGFkZHI9XCIra2UocykpLGUobnVsbCx0LmpvaW4oXCIgXCIpKSl9KX19O2EobXIsXCJDb25uZWN0aW9uUGFcXFxyXG5yYW1ldGVyc1wiKTt2YXIgeXI9bXI7c3MuZXhwb3J0cz15cn0pO3ZhciB1cz1JKChBbCxhcyk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIFB1PVhlKCksb3M9L14oW0EtWmEtel0rKSg/OiAoXFxkKykpPyg/OiAoXFxkKykpPy8sXHJcbndyPWNsYXNzIHdye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb21tYW5kPW51bGwsdGhpcy5yb3dDb3VudD1udWxsLHRoaXMub2lkPW51bGwsXHJcbnRoaXMucm93cz1bXSx0aGlzLmZpZWxkcz1bXSx0aGlzLl9wYXJzZXJzPXZvaWQgMCx0aGlzLl90eXBlcz10LHRoaXMuUm93Q3Rvcj1udWxsLFxyXG50aGlzLnJvd0FzQXJyYXk9ZT09PVwiYXJyYXlcIix0aGlzLnJvd0FzQXJyYXkmJih0aGlzLnBhcnNlUm93PXRoaXMuX3BhcnNlUm93QXNBcnJheSl9YWRkQ29tbWFuZENvbXBsZXRlKGUpe1xyXG52YXIgdDtlLnRleHQ/dD1vcy5leGVjKGUudGV4dCk6dD1vcy5leGVjKGUuY29tbWFuZCksdCYmKHRoaXMuY29tbWFuZD10WzFdLHRbM10/KHRoaXMuXHJcbm9pZD1wYXJzZUludCh0WzJdLDEwKSx0aGlzLnJvd0NvdW50PXBhcnNlSW50KHRbM10sMTApKTp0WzJdJiYodGhpcy5yb3dDb3VudD1wYXJzZUludChcclxudFsyXSwxMCkpKX1fcGFyc2VSb3dBc0FycmF5KGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLG49MCxpPWUubGVuZ3RoO248aTtuKyspe1xyXG52YXIgcz1lW25dO3MhPT1udWxsP3Rbbl09dGhpcy5fcGFyc2Vyc1tuXShzKTp0W25dPW51bGx9cmV0dXJuIHR9cGFyc2VSb3coZSl7Zm9yKHZhciB0PXt9LFxyXG5uPTAsaT1lLmxlbmd0aDtuPGk7bisrKXt2YXIgcz1lW25dLG89dGhpcy5maWVsZHNbbl0ubmFtZTtzIT09bnVsbD90W29dPXRoaXMuX3BhcnNlcnNbbl0oXHJcbnMpOnRbb109bnVsbH1yZXR1cm4gdH1hZGRSb3coZSl7dGhpcy5yb3dzLnB1c2goZSl9YWRkRmllbGRzKGUpe3RoaXMuZmllbGRzPWUsdGhpcy5cclxuZmllbGRzLmxlbmd0aCYmKHRoaXMuX3BhcnNlcnM9bmV3IEFycmF5KGUubGVuZ3RoKSk7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07XHJcbnRoaXMuX3R5cGVzP3RoaXMuX3BhcnNlcnNbdF09dGhpcy5fdHlwZXMuZ2V0VHlwZVBhcnNlcihuLmRhdGFUeXBlSUQsbi5mb3JtYXR8fFwidFxcXHJcbmV4dFwiKTp0aGlzLl9wYXJzZXJzW3RdPVB1LmdldFR5cGVQYXJzZXIobi5kYXRhVHlwZUlELG4uZm9ybWF0fHxcInRleHRcIil9fX07YSh3cixcIlxcXHJcblJlc3VsdFwiKTt2YXIgZ3I9d3I7YXMuZXhwb3J0cz1ncn0pO3ZhciBmcz1JKChUbCxscyk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFye0V2ZW50RW1pdHRlcjpCdX09Z2UoKSxjcz11cygpLGhzPXR0KCksU3I9Y2xhc3MgU3IgZXh0ZW5kcyBCdXtjb25zdHJ1Y3RvcihlLHQsbil7XHJcbnN1cGVyKCksZT1ocy5ub3JtYWxpemVRdWVyeUNvbmZpZyhlLHQsbiksdGhpcy50ZXh0PWUudGV4dCx0aGlzLnZhbHVlcz1lLnZhbHVlcyx0aGlzLlxyXG5yb3dzPWUucm93cyx0aGlzLnR5cGVzPWUudHlwZXMsdGhpcy5uYW1lPWUubmFtZSx0aGlzLmJpbmFyeT1lLmJpbmFyeSx0aGlzLnBvcnRhbD1cclxuZS5wb3J0YWx8fFwiXCIsdGhpcy5jYWxsYmFjaz1lLmNhbGxiYWNrLHRoaXMuX3Jvd01vZGU9ZS5yb3dNb2RlLG0uZG9tYWluJiZlLmNhbGxiYWNrJiZcclxuKHRoaXMuY2FsbGJhY2s9bS5kb21haW4uYmluZChlLmNhbGxiYWNrKSksdGhpcy5fcmVzdWx0PW5ldyBjcyh0aGlzLl9yb3dNb2RlLHRoaXMuXHJcbnR5cGVzKSx0aGlzLl9yZXN1bHRzPXRoaXMuX3Jlc3VsdCx0aGlzLmlzUHJlcGFyZWRTdGF0ZW1lbnQ9ITEsdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yPVxyXG4hMSx0aGlzLl9wcm9taXNlPW51bGx9cmVxdWlyZXNQcmVwYXJhdGlvbigpe3JldHVybiB0aGlzLm5hbWV8fHRoaXMucm93cz8hMDohdGhpcy5cclxudGV4dHx8IXRoaXMudmFsdWVzPyExOnRoaXMudmFsdWVzLmxlbmd0aD4wfV9jaGVja0Zvck11bHRpcm93KCl7dGhpcy5fcmVzdWx0LmNvbW1hbmQmJlxyXG4oQXJyYXkuaXNBcnJheSh0aGlzLl9yZXN1bHRzKXx8KHRoaXMuX3Jlc3VsdHM9W3RoaXMuX3Jlc3VsdF0pLHRoaXMuX3Jlc3VsdD1uZXcgY3MoXHJcbnRoaXMuX3Jvd01vZGUsdGhpcy50eXBlcyksdGhpcy5fcmVzdWx0cy5wdXNoKHRoaXMuX3Jlc3VsdCkpfWhhbmRsZVJvd0Rlc2NyaXB0aW9uKGUpe1xyXG50aGlzLl9jaGVja0Zvck11bHRpcm93KCksdGhpcy5fcmVzdWx0LmFkZEZpZWxkcyhlLmZpZWxkcyksdGhpcy5fYWNjdW11bGF0ZVJvd3M9dGhpcy5cclxuY2FsbGJhY2t8fCF0aGlzLmxpc3RlbmVycyhcInJvd1wiKS5sZW5ndGh9aGFuZGxlRGF0YVJvdyhlKXtsZXQgdDtpZighdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yKXtcclxudHJ5e3Q9dGhpcy5fcmVzdWx0LnBhcnNlUm93KGUuZmllbGRzKX1jYXRjaChuKXt0aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3I9bjtyZXR1cm59XHJcbnRoaXMuZW1pdChcInJvd1wiLHQsdGhpcy5fcmVzdWx0KSx0aGlzLl9hY2N1bXVsYXRlUm93cyYmdGhpcy5fcmVzdWx0LmFkZFJvdyh0KX19aGFuZGxlQ29tbWFuZENvbXBsZXRlKGUsdCl7XHJcbnRoaXMuX2NoZWNrRm9yTXVsdGlyb3coKSx0aGlzLl9yZXN1bHQuYWRkQ29tbWFuZENvbXBsZXRlKGUpLHRoaXMucm93cyYmdC5zeW5jKCl9aGFuZGxlRW1wdHlRdWVyeShlKXtcclxudGhpcy5yb3dzJiZlLnN5bmMoKX1oYW5kbGVFcnJvcihlLHQpe2lmKHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvciYmKGU9dGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yLFxyXG50aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3I9ITEpLHRoaXMuY2FsbGJhY2spcmV0dXJuIHRoaXMuY2FsbGJhY2soZSk7dGhpcy5lbWl0KFwiZXJcXFxyXG5yb3JcIixlKX1oYW5kbGVSZWFkeUZvclF1ZXJ5KGUpe2lmKHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvcilyZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihcclxudGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yLGUpO2lmKHRoaXMuY2FsbGJhY2spdHJ5e3RoaXMuY2FsbGJhY2sobnVsbCx0aGlzLl9yZXN1bHRzKX1jYXRjaCh0KXtcclxubS5uZXh0VGljaygoKT0+e3Rocm93IHR9KX10aGlzLmVtaXQoXCJlbmRcIix0aGlzLl9yZXN1bHRzKX1zdWJtaXQoZSl7aWYodHlwZW9mIHRoaXMuXHJcbnRleHQhPVwic3RyaW5nXCImJnR5cGVvZiB0aGlzLm5hbWUhPVwic3RyaW5nXCIpcmV0dXJuIG5ldyBFcnJvcihcIkEgcXVlcnkgbXVzdCBoYXZlIGVcXFxyXG5pdGhlciB0ZXh0IG9yIGEgbmFtZS4gU3VwcGx5aW5nIG5laXRoZXIgaXMgdW5zdXBwb3J0ZWQuXCIpO2xldCB0PWUucGFyc2VkU3RhdGVtZW50c1t0aGlzLlxyXG5uYW1lXTtyZXR1cm4gdGhpcy50ZXh0JiZ0JiZ0aGlzLnRleHQhPT10P25ldyBFcnJvcihgUHJlcGFyZWQgc3RhdGVtZW50cyBtdXN0IGJlIFxcXHJcbnVuaXF1ZSAtICcke3RoaXMubmFtZX0nIHdhcyB1c2VkIGZvciBhIGRpZmZlcmVudCBzdGF0ZW1lbnRgKTp0aGlzLnZhbHVlcyYmIUFycmF5LlxyXG5pc0FycmF5KHRoaXMudmFsdWVzKT9uZXcgRXJyb3IoXCJRdWVyeSB2YWx1ZXMgbXVzdCBiZSBhbiBhcnJheVwiKToodGhpcy5yZXF1aXJlc1ByZXBhcmF0aW9uKCk/XHJcbnRoaXMucHJlcGFyZShlKTplLnF1ZXJ5KHRoaXMudGV4dCksbnVsbCl9aGFzQmVlblBhcnNlZChlKXtyZXR1cm4gdGhpcy5uYW1lJiZlLnBhcnNlZFN0YXRlbWVudHNbdGhpcy5cclxubmFtZV19aGFuZGxlUG9ydGFsU3VzcGVuZGVkKGUpe3RoaXMuX2dldFJvd3MoZSx0aGlzLnJvd3MpfV9nZXRSb3dzKGUsdCl7ZS5leGVjdXRlKFxyXG57cG9ydGFsOnRoaXMucG9ydGFsLHJvd3M6dH0pLHQ/ZS5mbHVzaCgpOmUuc3luYygpfXByZXBhcmUoZSl7dGhpcy5pc1ByZXBhcmVkU3RhdGVtZW50PVxyXG4hMCx0aGlzLmhhc0JlZW5QYXJzZWQoZSl8fGUucGFyc2Uoe3RleHQ6dGhpcy50ZXh0LG5hbWU6dGhpcy5uYW1lLHR5cGVzOnRoaXMudHlwZXN9KTtcclxudHJ5e2UuYmluZCh7cG9ydGFsOnRoaXMucG9ydGFsLHN0YXRlbWVudDp0aGlzLm5hbWUsdmFsdWVzOnRoaXMudmFsdWVzLGJpbmFyeTp0aGlzLlxyXG5iaW5hcnksdmFsdWVNYXBwZXI6aHMucHJlcGFyZVZhbHVlfSl9Y2F0Y2godCl7dGhpcy5oYW5kbGVFcnJvcih0LGUpO3JldHVybn1lLmRlc2NyaWJlKFxyXG57dHlwZTpcIlBcIixuYW1lOnRoaXMucG9ydGFsfHxcIlwifSksdGhpcy5fZ2V0Um93cyhlLHRoaXMucm93cyl9aGFuZGxlQ29weUluUmVzcG9uc2UoZSl7XHJcbmUuc2VuZENvcHlGYWlsKFwiTm8gc291cmNlIHN0cmVhbSBkZWZpbmVkXCIpfWhhbmRsZUNvcHlEYXRhKGUsdCl7fX07YShTcixcIlF1ZXJ5XCIpO1xyXG52YXIgYnI9U3I7bHMuZXhwb3J0cz1icn0pO3ZhciBkcz17fTtYKGRzLHtTb2NrZXQ6KCk9Pl9lLGlzSVA6KCk9Pkx1fSk7ZnVuY3Rpb24gTHUocil7cmV0dXJuIDB9dmFyIHBzLHgsX2UsXHJcbnd0PUsoKCk9PntcInVzZSBzdHJpY3RcIjtwKCk7cHM9V2UoZ2UoKSwxKTthKEx1LFwiaXNJUFwiKTt4PWNsYXNzIHggZXh0ZW5kcyBwcy5FdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IoKXtcclxuc3VwZXIoLi4uYXJndW1lbnRzKTtUKHRoaXMsXCJvcHRzXCIse30pO1QodGhpcyxcImNvbm5lY3RpbmdcIiwhMSk7VCh0aGlzLFwicGVuZGluZ1wiLCEwKTtcclxuVCh0aGlzLFwid3JpdGFibGVcIiwhMCk7VCh0aGlzLFwiZW5jcnlwdGVkXCIsITEpO1QodGhpcyxcImF1dGhvcml6ZWRcIiwhMSk7VCh0aGlzLFwiZGVzXFxcclxudHJveWVkXCIsITEpO1QodGhpcyxcIndzXCIsbnVsbCk7VCh0aGlzLFwid3JpdGVCdWZmZXJcIik7VCh0aGlzLFwidGxzU3RhdGVcIiwwKTtUKHRoaXMsXHJcblwidGxzUmVhZFwiKTtUKHRoaXMsXCJ0bHNXcml0ZVwiKX1zdGF0aWMgZ2V0IHBvb2xRdWVyeVZpYUZldGNoKCl7cmV0dXJuIHgub3B0cy5wb29sUXVlcnlWaWFGZXRjaD8/XHJcbnguZGVmYXVsdHMucG9vbFF1ZXJ5VmlhRmV0Y2h9c3RhdGljIHNldCBwb29sUXVlcnlWaWFGZXRjaCh0KXt4Lm9wdHMucG9vbFF1ZXJ5VmlhRmV0Y2g9XHJcbnR9c3RhdGljIGdldCBmZXRjaEVuZHBvaW50KCl7cmV0dXJuIHgub3B0cy5mZXRjaEVuZHBvaW50Pz94LmRlZmF1bHRzLmZldGNoRW5kcG9pbnR9c3RhdGljIHNldCBmZXRjaEVuZHBvaW50KHQpe1xyXG54Lm9wdHMuZmV0Y2hFbmRwb2ludD10fXN0YXRpYyBnZXQgZmV0Y2hDb25uZWN0aW9uQ2FjaGUoKXtyZXR1cm4geC5vcHRzLmZldGNoQ29ubmVjdGlvbkNhY2hlPz9cclxueC5kZWZhdWx0cy5mZXRjaENvbm5lY3Rpb25DYWNoZX1zdGF0aWMgc2V0IGZldGNoQ29ubmVjdGlvbkNhY2hlKHQpe3gub3B0cy5mZXRjaENvbm5lY3Rpb25DYWNoZT1cclxudH1zdGF0aWMgZ2V0IGZldGNoRnVuY3Rpb24oKXtyZXR1cm4geC5vcHRzLmZldGNoRnVuY3Rpb24/P3guZGVmYXVsdHMuZmV0Y2hGdW5jdGlvbn1zdGF0aWMgc2V0IGZldGNoRnVuY3Rpb24odCl7XHJcbngub3B0cy5mZXRjaEZ1bmN0aW9uPXR9c3RhdGljIGdldCB3ZWJTb2NrZXRDb25zdHJ1Y3Rvcigpe3JldHVybiB4Lm9wdHMud2ViU29ja2V0Q29uc3RydWN0b3I/P1xyXG54LmRlZmF1bHRzLndlYlNvY2tldENvbnN0cnVjdG9yfXN0YXRpYyBzZXQgd2ViU29ja2V0Q29uc3RydWN0b3IodCl7eC5vcHRzLndlYlNvY2tldENvbnN0cnVjdG9yPVxyXG50fWdldCB3ZWJTb2NrZXRDb25zdHJ1Y3Rvcigpe3JldHVybiB0aGlzLm9wdHMud2ViU29ja2V0Q29uc3RydWN0b3I/P3gud2ViU29ja2V0Q29uc3RydWN0b3J9c2V0IHdlYlNvY2tldENvbnN0cnVjdG9yKHQpe1xyXG50aGlzLm9wdHMud2ViU29ja2V0Q29uc3RydWN0b3I9dH1zdGF0aWMgZ2V0IHdzUHJveHkoKXtyZXR1cm4geC5vcHRzLndzUHJveHk/P3guZGVmYXVsdHMuXHJcbndzUHJveHl9c3RhdGljIHNldCB3c1Byb3h5KHQpe3gub3B0cy53c1Byb3h5PXR9Z2V0IHdzUHJveHkoKXtyZXR1cm4gdGhpcy5vcHRzLndzUHJveHk/P1xyXG54LndzUHJveHl9c2V0IHdzUHJveHkodCl7dGhpcy5vcHRzLndzUHJveHk9dH1zdGF0aWMgZ2V0IGNvYWxlc2NlV3JpdGVzKCl7cmV0dXJuIHguXHJcbm9wdHMuY29hbGVzY2VXcml0ZXM/P3guZGVmYXVsdHMuY29hbGVzY2VXcml0ZXN9c3RhdGljIHNldCBjb2FsZXNjZVdyaXRlcyh0KXt4Lm9wdHMuXHJcbmNvYWxlc2NlV3JpdGVzPXR9Z2V0IGNvYWxlc2NlV3JpdGVzKCl7cmV0dXJuIHRoaXMub3B0cy5jb2FsZXNjZVdyaXRlcz8/eC5jb2FsZXNjZVdyaXRlc31zZXQgY29hbGVzY2VXcml0ZXModCl7XHJcbnRoaXMub3B0cy5jb2FsZXNjZVdyaXRlcz10fXN0YXRpYyBnZXQgdXNlU2VjdXJlV2ViU29ja2V0KCl7cmV0dXJuIHgub3B0cy51c2VTZWN1cmVXZWJTb2NrZXQ/P1xyXG54LmRlZmF1bHRzLnVzZVNlY3VyZVdlYlNvY2tldH1zdGF0aWMgc2V0IHVzZVNlY3VyZVdlYlNvY2tldCh0KXt4Lm9wdHMudXNlU2VjdXJlV2ViU29ja2V0PVxyXG50fWdldCB1c2VTZWN1cmVXZWJTb2NrZXQoKXtyZXR1cm4gdGhpcy5vcHRzLnVzZVNlY3VyZVdlYlNvY2tldD8/eC51c2VTZWN1cmVXZWJTb2NrZXR9c2V0IHVzZVNlY3VyZVdlYlNvY2tldCh0KXtcclxudGhpcy5vcHRzLnVzZVNlY3VyZVdlYlNvY2tldD10fXN0YXRpYyBnZXQgZm9yY2VEaXNhYmxlUGdTU0woKXtyZXR1cm4geC5vcHRzLmZvcmNlRGlzYWJsZVBnU1NMPz9cclxueC5kZWZhdWx0cy5mb3JjZURpc2FibGVQZ1NTTH1zdGF0aWMgc2V0IGZvcmNlRGlzYWJsZVBnU1NMKHQpe3gub3B0cy5mb3JjZURpc2FibGVQZ1NTTD1cclxudH1nZXQgZm9yY2VEaXNhYmxlUGdTU0woKXtyZXR1cm4gdGhpcy5vcHRzLmZvcmNlRGlzYWJsZVBnU1NMPz94LmZvcmNlRGlzYWJsZVBnU1NMfXNldCBmb3JjZURpc2FibGVQZ1NTTCh0KXtcclxudGhpcy5vcHRzLmZvcmNlRGlzYWJsZVBnU1NMPXR9c3RhdGljIGdldCBkaXNhYmxlU05JKCl7cmV0dXJuIHgub3B0cy5kaXNhYmxlU05JPz9cclxueC5kZWZhdWx0cy5kaXNhYmxlU05JfXN0YXRpYyBzZXQgZGlzYWJsZVNOSSh0KXt4Lm9wdHMuZGlzYWJsZVNOST10fWdldCBkaXNhYmxlU05JKCl7XHJcbnJldHVybiB0aGlzLm9wdHMuZGlzYWJsZVNOST8/eC5kaXNhYmxlU05JfXNldCBkaXNhYmxlU05JKHQpe3RoaXMub3B0cy5kaXNhYmxlU05JPVxyXG50fXN0YXRpYyBnZXQgcGlwZWxpbmVDb25uZWN0KCl7cmV0dXJuIHgub3B0cy5waXBlbGluZUNvbm5lY3Q/P3guZGVmYXVsdHMucGlwZWxpbmVDb25uZWN0fXN0YXRpYyBzZXQgcGlwZWxpbmVDb25uZWN0KHQpe1xyXG54Lm9wdHMucGlwZWxpbmVDb25uZWN0PXR9Z2V0IHBpcGVsaW5lQ29ubmVjdCgpe3JldHVybiB0aGlzLm9wdHMucGlwZWxpbmVDb25uZWN0Pz9cclxueC5waXBlbGluZUNvbm5lY3R9c2V0IHBpcGVsaW5lQ29ubmVjdCh0KXt0aGlzLm9wdHMucGlwZWxpbmVDb25uZWN0PXR9c3RhdGljIGdldCBzdWJ0bHMoKXtcclxucmV0dXJuIHgub3B0cy5zdWJ0bHM/P3guZGVmYXVsdHMuc3VidGxzfXN0YXRpYyBzZXQgc3VidGxzKHQpe3gub3B0cy5zdWJ0bHM9dH1nZXQgc3VidGxzKCl7XHJcbnJldHVybiB0aGlzLm9wdHMuc3VidGxzPz94LnN1YnRsc31zZXQgc3VidGxzKHQpe3RoaXMub3B0cy5zdWJ0bHM9dH1zdGF0aWMgZ2V0IHBpcGVsaW5lVExTKCl7XHJcbnJldHVybiB4Lm9wdHMucGlwZWxpbmVUTFM/P3guZGVmYXVsdHMucGlwZWxpbmVUTFN9c3RhdGljIHNldCBwaXBlbGluZVRMUyh0KXt4Lm9wdHMuXHJcbnBpcGVsaW5lVExTPXR9Z2V0IHBpcGVsaW5lVExTKCl7cmV0dXJuIHRoaXMub3B0cy5waXBlbGluZVRMUz8/eC5waXBlbGluZVRMU31zZXQgcGlwZWxpbmVUTFModCl7XHJcbnRoaXMub3B0cy5waXBlbGluZVRMUz10fXN0YXRpYyBnZXQgcm9vdENlcnRzKCl7cmV0dXJuIHgub3B0cy5yb290Q2VydHM/P3guZGVmYXVsdHMuXHJcbnJvb3RDZXJ0c31zdGF0aWMgc2V0IHJvb3RDZXJ0cyh0KXt4Lm9wdHMucm9vdENlcnRzPXR9Z2V0IHJvb3RDZXJ0cygpe3JldHVybiB0aGlzLlxyXG5vcHRzLnJvb3RDZXJ0cz8/eC5yb290Q2VydHN9c2V0IHJvb3RDZXJ0cyh0KXt0aGlzLm9wdHMucm9vdENlcnRzPXR9d3NQcm94eUFkZHJGb3JIb3N0KHQsbil7XHJcbmxldCBpPXRoaXMud3NQcm94eTtpZihpPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIk5vIFdlYlNvY2tldCBwcm94eSBpcyBjb25maWd1clxcXHJcbmVkLiBQbGVhc2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9uZW9uZGF0YWJhc2Uvc2VydmVybGVzcy9ibG9iL21haW4vQ09ORklHLm1kI3dzXFxcclxucHJveHktc3RyaW5nLS1ob3N0LXN0cmluZy1wb3J0LW51bWJlci0tc3RyaW5nLS1zdHJpbmdcIik7cmV0dXJuIHR5cGVvZiBpPT1cImZ1bmN0aVxcXHJcbm9uXCI/aSh0LG4pOmAke2l9P2FkZHJlc3M9JHt0fToke259YH1zZXROb0RlbGF5KCl7cmV0dXJuIHRoaXN9c2V0S2VlcEFsaXZlKCl7cmV0dXJuIHRoaXN9cmVmKCl7XHJcbnJldHVybiB0aGlzfXVucmVmKCl7cmV0dXJuIHRoaXN9Y29ubmVjdCh0LG4saSl7dGhpcy5jb25uZWN0aW5nPSEwLGkmJnRoaXMub25jZShcIlxcXHJcbmNvbm5lY3RcIixpKTtsZXQgcz1hKCgpPT57dGhpcy5jb25uZWN0aW5nPSExLHRoaXMucGVuZGluZz0hMSx0aGlzLmVtaXQoXCJjb25uZWN0XCIpLFxyXG50aGlzLmVtaXQoXCJyZWFkeVwiKX0sXCJoYW5kbGVXZWJTb2NrZXRPcGVuXCIpLG89YSgoYyxoPSExKT0+e2MuYmluYXJ5VHlwZT1cImFycmF5YnVmXFxcclxuZmVyXCIsYy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixsPT57dGhpcy5lbWl0KFwiZXJyb3JcIixsKSx0aGlzLmVtaXQoXCJjbG9zZVwiKX0pLGMuXHJcbmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbD0+e2lmKHRoaXMudGxzU3RhdGU9PT0wKXtsZXQgeT1kLmZyb20obC5kYXRhKTt0aGlzLmVtaXQoXHJcblwiZGF0YVwiLHkpfX0pLGMuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsKCk9Pnt0aGlzLmVtaXQoXCJjbG9zZVwiKX0pLGg/cygpOmMuYWRkRXZlbnRMaXN0ZW5lcihcclxuXCJvcGVuXCIscyl9LFwiY29uZmlndXJlV2ViU29ja2V0XCIpLHU7dHJ5e3U9dGhpcy53c1Byb3h5QWRkckZvckhvc3Qobix0eXBlb2YgdD09XCJzdFxcXHJcbnJpbmdcIj9wYXJzZUludCh0LDEwKTp0KX1jYXRjaChjKXt0aGlzLmVtaXQoXCJlcnJvclwiLGMpLHRoaXMuZW1pdChcImNsb3NlXCIpO3JldHVybn1cclxudHJ5e2xldCBoPSh0aGlzLnVzZVNlY3VyZVdlYlNvY2tldD9cIndzczpcIjpcIndzOlwiKStcIi8vXCIrdTtpZih0aGlzLndlYlNvY2tldENvbnN0cnVjdG9yIT09XHJcbnZvaWQgMCl0aGlzLndzPW5ldyB0aGlzLndlYlNvY2tldENvbnN0cnVjdG9yKGgpLG8odGhpcy53cyk7ZWxzZSB0cnl7dGhpcy53cz1uZXcgV2ViU29ja2V0KFxyXG5oKSxvKHRoaXMud3MpfWNhdGNoe3RoaXMud3M9bmV3IF9fdW5zdGFibGVfV2ViU29ja2V0KGgpLG8odGhpcy53cyl9fWNhdGNoKGMpe2xldCBsPSh0aGlzLlxyXG51c2VTZWN1cmVXZWJTb2NrZXQ/XCJodHRwczpcIjpcImh0dHA6XCIpK1wiLy9cIit1O2ZldGNoKGwse2hlYWRlcnM6e1VwZ3JhZGU6XCJ3ZWJzb2NrZXRcIn19KS5cclxudGhlbih5PT57aWYodGhpcy53cz15LndlYlNvY2tldCx0aGlzLndzPT1udWxsKXRocm93IGM7dGhpcy53cy5hY2NlcHQoKSxvKHRoaXMud3MsXHJcbiEwKX0pLmNhdGNoKHk9Pnt0aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgQWxsIGF0dGVtcHRzIHRvIG9wZW4gYSBXZWJTb2NrZXQgdG9cXFxyXG4gY29ubmVjdCB0byB0aGUgZGF0YWJhc2UgZmFpbGVkLiBQbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL25lb25kYXRhYmFzZVxcXHJcbi9zZXJ2ZXJsZXNzL2Jsb2IvbWFpbi9DT05GSUcubWQjd2Vic29ja2V0Y29uc3RydWN0b3ItdHlwZW9mLXdlYnNvY2tldC0tdW5kZWZpbmVkXFxcclxuLiBEZXRhaWxzOiAke3kubWVzc2FnZX1gKSksdGhpcy5lbWl0KFwiY2xvc2VcIil9KX19YXN5bmMgc3RhcnRUbHModCl7aWYodGhpcy5zdWJ0bHM9PT1cclxudm9pZCAwKXRocm93IG5ldyBFcnJvcihcIkZvciBQb3N0Z3JlcyBTU0wgY29ubmVjdGlvbnMsIHlvdSBtdXN0IHNldCBgbmVvbkNvbmZpZy5zXFxcclxudWJ0bHNgIHRvIHRoZSBzdWJ0bHMgbGlicmFyeS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9uZW9uZGF0YWJhc2Uvc2VydmVybGVzcy9ibG9cXFxyXG5iL21haW4vQ09ORklHLm1kIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKTt0aGlzLnRsc1N0YXRlPTE7bGV0IG49dGhpcy5zdWJ0bHMuVHJ1c3RlZENlcnQuXHJcbmZyb21QRU0odGhpcy5yb290Q2VydHMpLGk9bmV3IHRoaXMuc3VidGxzLldlYlNvY2tldFJlYWRRdWV1ZSh0aGlzLndzKSxzPWkucmVhZC5iaW5kKFxyXG5pKSxvPXRoaXMucmF3V3JpdGUuYmluZCh0aGlzKSxbdSxjXT1hd2FpdCB0aGlzLnN1YnRscy5zdGFydFRscyh0LG4scyxvLHt1c2VTTkk6IXRoaXMuXHJcbmRpc2FibGVTTkksZXhwZWN0UHJlRGF0YTp0aGlzLnBpcGVsaW5lVExTP25ldyBVaW50OEFycmF5KFs4M10pOnZvaWQgMH0pO3RoaXMudGxzUmVhZD1cclxudSx0aGlzLnRsc1dyaXRlPWMsdGhpcy50bHNTdGF0ZT0yLHRoaXMuZW5jcnlwdGVkPSEwLHRoaXMuYXV0aG9yaXplZD0hMCx0aGlzLmVtaXQoXHJcblwic2VjdXJlQ29ubmVjdGlvblwiLHRoaXMpLHRoaXMudGxzUmVhZExvb3AoKX1hc3luYyB0bHNSZWFkTG9vcCgpe2Zvcig7Oyl7bGV0IHQ9YXdhaXQgdGhpcy5cclxudGxzUmVhZCgpO2lmKHQ9PT12b2lkIDApYnJlYWs7e2xldCBuPWQuZnJvbSh0KTt0aGlzLmVtaXQoXCJkYXRhXCIsbil9fX1yYXdXcml0ZSh0KXtcclxuaWYoIXRoaXMuY29hbGVzY2VXcml0ZXMpe3RoaXMud3Muc2VuZCh0KTtyZXR1cm59aWYodGhpcy53cml0ZUJ1ZmZlcj09PXZvaWQgMCl0aGlzLlxyXG53cml0ZUJ1ZmZlcj10LHNldFRpbWVvdXQoKCk9Pnt0aGlzLndzLnNlbmQodGhpcy53cml0ZUJ1ZmZlciksdGhpcy53cml0ZUJ1ZmZlcj12b2lkIDB9LFxyXG4wKTtlbHNle2xldCBuPW5ldyBVaW50OEFycmF5KHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoK3QubGVuZ3RoKTtuLnNldCh0aGlzLndyaXRlQnVmZmVyKSxcclxubi5zZXQodCx0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCksdGhpcy53cml0ZUJ1ZmZlcj1ufX13cml0ZSh0LG49XCJ1dGY4XCIsaT1zPT57fSl7cmV0dXJuIHQuXHJcbmxlbmd0aD09PTA/KGkoKSwhMCk6KHR5cGVvZiB0PT1cInN0cmluZ1wiJiYodD1kLmZyb20odCxuKSksdGhpcy50bHNTdGF0ZT09PTA/KHRoaXMuXHJcbnJhd1dyaXRlKHQpLGkoKSk6dGhpcy50bHNTdGF0ZT09PTE/dGhpcy5vbmNlKFwic2VjdXJlQ29ubmVjdGlvblwiLCgpPT57dGhpcy53cml0ZShcclxudCxuLGkpfSk6KHRoaXMudGxzV3JpdGUodCksaSgpKSwhMCl9ZW5kKHQ9ZC5hbGxvYygwKSxuPVwidXRmOFwiLGk9KCk9Pnt9KXtyZXR1cm4gdGhpcy5cclxud3JpdGUodCxuLCgpPT57dGhpcy53cy5jbG9zZSgpLGkoKX0pLHRoaXN9ZGVzdHJveSgpe3JldHVybiB0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLlxyXG5lbmQoKX19O2EoeCxcIlNvY2tldFwiKSxUKHgsXCJkZWZhdWx0c1wiLHtwb29sUXVlcnlWaWFGZXRjaDohMSxmZXRjaEVuZHBvaW50OnQ9PlwiaHR0XFxcclxucHM6Ly9cIit0K1wiL3NxbFwiLGZldGNoQ29ubmVjdGlvbkNhY2hlOiExLGZldGNoRnVuY3Rpb246dm9pZCAwLHdlYlNvY2tldENvbnN0cnVjdG9yOnZvaWQgMCxcclxud3NQcm94eTp0PT50K1wiL3YyXCIsdXNlU2VjdXJlV2ViU29ja2V0OiEwLGZvcmNlRGlzYWJsZVBnU1NMOiEwLGNvYWxlc2NlV3JpdGVzOiEwLFxyXG5waXBlbGluZUNvbm5lY3Q6XCJwYXNzd29yZFwiLHN1YnRsczp2b2lkIDAscm9vdENlcnRzOlwiXCIscGlwZWxpbmVUTFM6ITEsZGlzYWJsZVNOSTohMX0pLFxyXG5UKHgsXCJvcHRzXCIse30pO19lPXh9KTt2YXIgenI9SShDPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShDLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO0MuXHJcbk5vdGljZU1lc3NhZ2U9Qy5EYXRhUm93TWVzc2FnZT1DLkNvbW1hbmRDb21wbGV0ZU1lc3NhZ2U9Qy5SZWFkeUZvclF1ZXJ5TWVzc2FnZT1DLlxyXG5Ob3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2U9Qy5CYWNrZW5kS2V5RGF0YU1lc3NhZ2U9Qy5BdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkPVxyXG5DLlBhcmFtZXRlclN0YXR1c01lc3NhZ2U9Qy5QYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2U9Qy5Sb3dEZXNjcmlwdGlvbk1lc3NhZ2U9Qy5cclxuRmllbGQ9Qy5Db3B5UmVzcG9uc2U9Qy5Db3B5RGF0YU1lc3NhZ2U9Qy5EYXRhYmFzZUVycm9yPUMuY29weURvbmU9Qy5lbXB0eVF1ZXJ5PUMuXHJcbnJlcGxpY2F0aW9uU3RhcnQ9Qy5wb3J0YWxTdXNwZW5kZWQ9Qy5ub0RhdGE9Qy5jbG9zZUNvbXBsZXRlPUMuYmluZENvbXBsZXRlPUMucGFyc2VDb21wbGV0ZT1cclxudm9pZCAwO0MucGFyc2VDb21wbGV0ZT17bmFtZTpcInBhcnNlQ29tcGxldGVcIixsZW5ndGg6NX07Qy5iaW5kQ29tcGxldGU9e25hbWU6XCJiaW5cXFxyXG5kQ29tcGxldGVcIixsZW5ndGg6NX07Qy5jbG9zZUNvbXBsZXRlPXtuYW1lOlwiY2xvc2VDb21wbGV0ZVwiLGxlbmd0aDo1fTtDLm5vRGF0YT17bmFtZTpcIlxcXHJcbm5vRGF0YVwiLGxlbmd0aDo1fTtDLnBvcnRhbFN1c3BlbmRlZD17bmFtZTpcInBvcnRhbFN1c3BlbmRlZFwiLGxlbmd0aDo1fTtDLnJlcGxpY2F0aW9uU3RhcnQ9XHJcbntuYW1lOlwicmVwbGljYXRpb25TdGFydFwiLGxlbmd0aDo0fTtDLmVtcHR5UXVlcnk9e25hbWU6XCJlbXB0eVF1ZXJ5XCIsbGVuZ3RoOjR9O0MuY29weURvbmU9XHJcbntuYW1lOlwiY29weURvbmVcIixsZW5ndGg6NH07dmFyIERyPWNsYXNzIERyIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKFxyXG5lKSx0aGlzLmxlbmd0aD10LHRoaXMubmFtZT1ufX07YShEcixcIkRhdGFiYXNlRXJyb3JcIik7dmFyIHhyPURyO0MuRGF0YWJhc2VFcnJvcj14cjtcclxudmFyIE9yPWNsYXNzIE9ye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5sZW5ndGg9ZSx0aGlzLmNodW5rPXQsdGhpcy5uYW1lPVwiY29weURhdGFcIn19O1xyXG5hKE9yLFwiQ29weURhdGFNZXNzYWdlXCIpO3ZhciBFcj1PcjtDLkNvcHlEYXRhTWVzc2FnZT1Fcjt2YXIga3I9Y2xhc3Mga3J7Y29uc3RydWN0b3IoZSx0LG4saSl7XHJcbnRoaXMubGVuZ3RoPWUsdGhpcy5uYW1lPXQsdGhpcy5iaW5hcnk9bix0aGlzLmNvbHVtblR5cGVzPW5ldyBBcnJheShpKX19O2Eoa3IsXCJDb1xcXHJcbnB5UmVzcG9uc2VcIik7dmFyIHZyPWtyO0MuQ29weVJlc3BvbnNlPXZyO3ZhciBVcj1jbGFzcyBVcntjb25zdHJ1Y3RvcihlLHQsbixpLHMsbyx1KXtcclxudGhpcy5uYW1lPWUsdGhpcy50YWJsZUlEPXQsdGhpcy5jb2x1bW5JRD1uLHRoaXMuZGF0YVR5cGVJRD1pLHRoaXMuZGF0YVR5cGVTaXplPXMsXHJcbnRoaXMuZGF0YVR5cGVNb2RpZmllcj1vLHRoaXMuZm9ybWF0PXV9fTthKFVyLFwiRmllbGRcIik7dmFyIF9yPVVyO0MuRmllbGQ9X3I7dmFyIHFyPWNsYXNzIHFye2NvbnN0cnVjdG9yKGUsdCl7XHJcbnRoaXMubGVuZ3RoPWUsdGhpcy5maWVsZENvdW50PXQsdGhpcy5uYW1lPVwicm93RGVzY3JpcHRpb25cIix0aGlzLmZpZWxkcz1uZXcgQXJyYXkoXHJcbnRoaXMuZmllbGRDb3VudCl9fTthKHFyLFwiUm93RGVzY3JpcHRpb25NZXNzYWdlXCIpO3ZhciBBcj1xcjtDLlJvd0Rlc2NyaXB0aW9uTWVzc2FnZT1cclxuQXI7dmFyIE5yPWNsYXNzIE5ye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5sZW5ndGg9ZSx0aGlzLnBhcmFtZXRlckNvdW50PXQsdGhpcy5uYW1lPVxyXG5cInBhcmFtZXRlckRlc2NyaXB0aW9uXCIsdGhpcy5kYXRhVHlwZUlEcz1uZXcgQXJyYXkodGhpcy5wYXJhbWV0ZXJDb3VudCl9fTthKE5yLFwiUFxcXHJcbmFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlXCIpO3ZhciBDcj1OcjtDLlBhcmFtZXRlckRlc2NyaXB0aW9uTWVzc2FnZT1Dcjt2YXIgUXI9Y2xhc3MgUXJ7Y29uc3RydWN0b3IoZSx0LG4pe1xyXG50aGlzLmxlbmd0aD1lLHRoaXMucGFyYW1ldGVyTmFtZT10LHRoaXMucGFyYW1ldGVyVmFsdWU9bix0aGlzLm5hbWU9XCJwYXJhbWV0ZXJTdGFcXFxyXG50dXNcIn19O2EoUXIsXCJQYXJhbWV0ZXJTdGF0dXNNZXNzYWdlXCIpO3ZhciBJcj1RcjtDLlBhcmFtZXRlclN0YXR1c01lc3NhZ2U9SXI7dmFyIFdyPWNsYXNzIFdye2NvbnN0cnVjdG9yKGUsdCl7XHJcbnRoaXMubGVuZ3RoPWUsdGhpcy5zYWx0PXQsdGhpcy5uYW1lPVwiYXV0aGVudGljYXRpb25NRDVQYXNzd29yZFwifX07YShXcixcIkF1dGhlbnRpXFxcclxuY2F0aW9uTUQ1UGFzc3dvcmRcIik7dmFyIFRyPVdyO0MuQXV0aGVudGljYXRpb25NRDVQYXNzd29yZD1Ucjt2YXIganI9Y2xhc3MganJ7Y29uc3RydWN0b3IoZSx0LG4pe1xyXG50aGlzLmxlbmd0aD1lLHRoaXMucHJvY2Vzc0lEPXQsdGhpcy5zZWNyZXRLZXk9bix0aGlzLm5hbWU9XCJiYWNrZW5kS2V5RGF0YVwifX07YShqcixcclxuXCJCYWNrZW5kS2V5RGF0YU1lc3NhZ2VcIik7dmFyIFByPWpyO0MuQmFja2VuZEtleURhdGFNZXNzYWdlPVByO3ZhciBIcj1jbGFzcyBIcntjb25zdHJ1Y3RvcihlLHQsbixpKXtcclxudGhpcy5sZW5ndGg9ZSx0aGlzLnByb2Nlc3NJZD10LHRoaXMuY2hhbm5lbD1uLHRoaXMucGF5bG9hZD1pLHRoaXMubmFtZT1cIm5vdGlmaWNhXFxcclxudGlvblwifX07YShIcixcIk5vdGlmaWNhdGlvblJlc3BvbnNlTWVzc2FnZVwiKTt2YXIgQnI9SHI7Qy5Ob3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2U9XHJcbkJyO3ZhciBHcj1jbGFzcyBHcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMubGVuZ3RoPWUsdGhpcy5zdGF0dXM9dCx0aGlzLm5hbWU9XCJyZWFkeVxcXHJcbkZvclF1ZXJ5XCJ9fTthKEdyLFwiUmVhZHlGb3JRdWVyeU1lc3NhZ2VcIik7dmFyIExyPUdyO0MuUmVhZHlGb3JRdWVyeU1lc3NhZ2U9THI7dmFyICRyPWNsYXNzICRye2NvbnN0cnVjdG9yKGUsdCl7XHJcbnRoaXMubGVuZ3RoPWUsdGhpcy50ZXh0PXQsdGhpcy5uYW1lPVwiY29tbWFuZENvbXBsZXRlXCJ9fTthKCRyLFwiQ29tbWFuZENvbXBsZXRlTWVzXFxcclxuc2FnZVwiKTt2YXIgUnI9JHI7Qy5Db21tYW5kQ29tcGxldGVNZXNzYWdlPVJyO3ZhciBLcj1jbGFzcyBLcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuXHJcbmxlbmd0aD1lLHRoaXMuZmllbGRzPXQsdGhpcy5uYW1lPVwiZGF0YVJvd1wiLHRoaXMuZmllbGRDb3VudD10Lmxlbmd0aH19O2EoS3IsXCJEYXRhXFxcclxuUm93TWVzc2FnZVwiKTt2YXIgRnI9S3I7Qy5EYXRhUm93TWVzc2FnZT1Gcjt2YXIgVnI9Y2xhc3MgVnJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLlxyXG5sZW5ndGg9ZSx0aGlzLm1lc3NhZ2U9dCx0aGlzLm5hbWU9XCJub3RpY2VcIn19O2EoVnIsXCJOb3RpY2VNZXNzYWdlXCIpO3ZhciBNcj1WcjtDLk5vdGljZU1lc3NhZ2U9XHJcbk1yfSk7dmFyIHlzPUkoYnQ9PntcInVzZSBzdHJpY3RcIjtwKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1xyXG5idC5Xcml0ZXI9dm9pZCAwO3ZhciBacj1jbGFzcyBacntjb25zdHJ1Y3RvcihlPTI1Nil7dGhpcy5zaXplPWUsdGhpcy5vZmZzZXQ9NSx0aGlzLlxyXG5oZWFkZXJQb3NpdGlvbj0wLHRoaXMuYnVmZmVyPWQuYWxsb2NVbnNhZmUoZSl9ZW5zdXJlKGUpe3ZhciB0PXRoaXMuYnVmZmVyLmxlbmd0aC1cclxudGhpcy5vZmZzZXQ7aWYodDxlKXt2YXIgbj10aGlzLmJ1ZmZlcixpPW4ubGVuZ3RoKyhuLmxlbmd0aD4+MSkrZTt0aGlzLmJ1ZmZlcj1kLmFsbG9jVW5zYWZlKFxyXG5pKSxuLmNvcHkodGhpcy5idWZmZXIpfX1hZGRJbnQzMihlKXtyZXR1cm4gdGhpcy5lbnN1cmUoNCksdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK109XHJcbmU+Pj4yNCYyNTUsdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK109ZT4+PjE2JjI1NSx0aGlzLmJ1ZmZlclt0aGlzLm9mZnNldCsrXT1lPj4+XHJcbjgmMjU1LHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdPWU+Pj4wJjI1NSx0aGlzfWFkZEludDE2KGUpe3JldHVybiB0aGlzLmVuc3VyZSgyKSxcclxudGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK109ZT4+PjgmMjU1LHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdPWU+Pj4wJjI1NSx0aGlzfWFkZENTdHJpbmcoZSl7XHJcbmlmKCFlKXRoaXMuZW5zdXJlKDEpO2Vsc2V7dmFyIHQ9ZC5ieXRlTGVuZ3RoKGUpO3RoaXMuZW5zdXJlKHQrMSksdGhpcy5idWZmZXIud3JpdGUoXHJcbmUsdGhpcy5vZmZzZXQsXCJ1dGYtOFwiKSx0aGlzLm9mZnNldCs9dH1yZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK109MCx0aGlzfWFkZFN0cmluZyhlPVwiXCIpe1xyXG52YXIgdD1kLmJ5dGVMZW5ndGgoZSk7cmV0dXJuIHRoaXMuZW5zdXJlKHQpLHRoaXMuYnVmZmVyLndyaXRlKGUsdGhpcy5vZmZzZXQpLHRoaXMuXHJcbm9mZnNldCs9dCx0aGlzfWFkZChlKXtyZXR1cm4gdGhpcy5lbnN1cmUoZS5sZW5ndGgpLGUuY29weSh0aGlzLmJ1ZmZlcix0aGlzLm9mZnNldCksXHJcbnRoaXMub2Zmc2V0Kz1lLmxlbmd0aCx0aGlzfWpvaW4oZSl7aWYoZSl7dGhpcy5idWZmZXJbdGhpcy5oZWFkZXJQb3NpdGlvbl09ZTtsZXQgdD10aGlzLlxyXG5vZmZzZXQtKHRoaXMuaGVhZGVyUG9zaXRpb24rMSk7dGhpcy5idWZmZXIud3JpdGVJbnQzMkJFKHQsdGhpcy5oZWFkZXJQb3NpdGlvbisxKX1cclxucmV0dXJuIHRoaXMuYnVmZmVyLnNsaWNlKGU/MDo1LHRoaXMub2Zmc2V0KX1mbHVzaChlKXt2YXIgdD10aGlzLmpvaW4oZSk7cmV0dXJuIHRoaXMuXHJcbm9mZnNldD01LHRoaXMuaGVhZGVyUG9zaXRpb249MCx0aGlzLmJ1ZmZlcj1kLmFsbG9jVW5zYWZlKHRoaXMuc2l6ZSksdH19O2EoWnIsXCJXclxcXHJcbml0ZXJcIik7dmFyIFlyPVpyO2J0LldyaXRlcj1Zcn0pO3ZhciBncz1JKHh0PT57XCJ1c2Ugc3RyaWN0XCI7cCgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh4dCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtcclxueHQuc2VyaWFsaXplPXZvaWQgMDt2YXIgSnI9eXMoKSxGPW5ldyBKci5Xcml0ZXIsUnU9YShyPT57Ri5hZGRJbnQxNigzKS5hZGRJbnQxNihcclxuMCk7Zm9yKGxldCBuIG9mIE9iamVjdC5rZXlzKHIpKUYuYWRkQ1N0cmluZyhuKS5hZGRDU3RyaW5nKHJbbl0pO0YuYWRkQ1N0cmluZyhcImNsXFxcclxuaWVudF9lbmNvZGluZ1wiKS5hZGRDU3RyaW5nKFwiVVRGOFwiKTt2YXIgZT1GLmFkZENTdHJpbmcoXCJcIikuZmx1c2goKSx0PWUubGVuZ3RoKzQ7cmV0dXJuIG5ldyBKci5cclxuV3JpdGVyKCkuYWRkSW50MzIodCkuYWRkKGUpLmZsdXNoKCl9LFwic3RhcnR1cFwiKSxGdT1hKCgpPT57bGV0IHI9ZC5hbGxvY1Vuc2FmZSg4KTtcclxucmV0dXJuIHIud3JpdGVJbnQzMkJFKDgsMCksci53cml0ZUludDMyQkUoODA4NzcxMDMsNCkscn0sXCJyZXF1ZXN0U3NsXCIpLE11PWEocj0+Ri5cclxuYWRkQ1N0cmluZyhyKS5mbHVzaCgxMTIpLFwicGFzc3dvcmRcIiksRHU9YShmdW5jdGlvbihyLGUpe3JldHVybiBGLmFkZENTdHJpbmcocikuYWRkSW50MzIoXHJcbmQuYnl0ZUxlbmd0aChlKSkuYWRkU3RyaW5nKGUpLEYuZmx1c2goMTEyKX0sXCJzZW5kU0FTTEluaXRpYWxSZXNwb25zZU1lc3NhZ2VcIiksT3U9YShcclxuZnVuY3Rpb24ocil7cmV0dXJuIEYuYWRkU3RyaW5nKHIpLmZsdXNoKDExMil9LFwic2VuZFNDUkFNQ2xpZW50RmluYWxNZXNzYWdlXCIpLGt1PWEoXHJcbnI9PkYuYWRkQ1N0cmluZyhyKS5mbHVzaCg4MSksXCJxdWVyeVwiKSxtcz1bXSxVdT1hKHI9PntsZXQgZT1yLm5hbWV8fFwiXCI7ZS5sZW5ndGg+NjMmJlxyXG4oY29uc29sZS5lcnJvcihcIldhcm5pbmchIFBvc3RncmVzIG9ubHkgc3VwcG9ydHMgNjMgY2hhcmFjdGVycyBmb3IgcXVlcnkgbmFtZXMuXCIpLFxyXG5jb25zb2xlLmVycm9yKFwiWW91IHN1cHBsaWVkICVzICglcylcIixlLGUubGVuZ3RoKSxjb25zb2xlLmVycm9yKFwiVGhpcyBjYW4gY2F1c2UgY1xcXHJcbm9uZmxpY3RzIGFuZCBzaWxlbnQgZXJyb3JzIGV4ZWN1dGluZyBxdWVyaWVzXCIpKTtsZXQgdD1yLnR5cGVzfHxtcztmb3IodmFyIG49dC5sZW5ndGgsXHJcbmk9Ri5hZGRDU3RyaW5nKGUpLmFkZENTdHJpbmcoci50ZXh0KS5hZGRJbnQxNihuKSxzPTA7czxuO3MrKylpLmFkZEludDMyKHRbc10pO3JldHVybiBGLlxyXG5mbHVzaCg4MCl9LFwicGFyc2VcIiksVWU9bmV3IEpyLldyaXRlcixxdT1hKGZ1bmN0aW9uKHIsZSl7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kyspe1xyXG5sZXQgbj1lP2Uoclt0XSx0KTpyW3RdO249PW51bGw/KEYuYWRkSW50MTYoMCksVWUuYWRkSW50MzIoLTEpKTpuIGluc3RhbmNlb2YgZD8oRi5cclxuYWRkSW50MTYoMSksVWUuYWRkSW50MzIobi5sZW5ndGgpLFVlLmFkZChuKSk6KEYuYWRkSW50MTYoMCksVWUuYWRkSW50MzIoZC5ieXRlTGVuZ3RoKFxyXG5uKSksVWUuYWRkU3RyaW5nKG4pKX19LFwid3JpdGVWYWx1ZXNcIiksTnU9YSgocj17fSk9PntsZXQgZT1yLnBvcnRhbHx8XCJcIix0PXIuc3RhdGVtZW50fHxcclxuXCJcIixuPXIuYmluYXJ5fHwhMSxpPXIudmFsdWVzfHxtcyxzPWkubGVuZ3RoO3JldHVybiBGLmFkZENTdHJpbmcoZSkuYWRkQ1N0cmluZyh0KSxcclxuRi5hZGRJbnQxNihzKSxxdShpLHIudmFsdWVNYXBwZXIpLEYuYWRkSW50MTYocyksRi5hZGQoVWUuZmx1c2goKSksRi5hZGRJbnQxNihuPzE6XHJcbjApLEYuZmx1c2goNjYpfSxcImJpbmRcIiksUXU9ZC5mcm9tKFs2OSwwLDAsMCw5LDAsMCwwLDAsMF0pLFd1PWEocj0+e2lmKCFyfHwhci5wb3J0YWwmJlxyXG4hci5yb3dzKXJldHVybiBRdTtsZXQgZT1yLnBvcnRhbHx8XCJcIix0PXIucm93c3x8MCxuPWQuYnl0ZUxlbmd0aChlKSxpPTQrbisxKzQscz1kLlxyXG5hbGxvY1Vuc2FmZSgxK2kpO3JldHVybiBzWzBdPTY5LHMud3JpdGVJbnQzMkJFKGksMSkscy53cml0ZShlLDUsXCJ1dGYtOFwiKSxzW24rNV09XHJcbjAscy53cml0ZVVJbnQzMkJFKHQscy5sZW5ndGgtNCksc30sXCJleGVjdXRlXCIpLGp1PWEoKHIsZSk9PntsZXQgdD1kLmFsbG9jVW5zYWZlKDE2KTtcclxucmV0dXJuIHQud3JpdGVJbnQzMkJFKDE2LDApLHQud3JpdGVJbnQxNkJFKDEyMzQsNCksdC53cml0ZUludDE2QkUoNTY3OCw2KSx0LndyaXRlSW50MzJCRShcclxuciw4KSx0LndyaXRlSW50MzJCRShlLDEyKSx0fSxcImNhbmNlbFwiKSxYcj1hKChyLGUpPT57bGV0IG49NCtkLmJ5dGVMZW5ndGgoZSkrMSxpPWQuXHJcbmFsbG9jVW5zYWZlKDErbik7cmV0dXJuIGlbMF09cixpLndyaXRlSW50MzJCRShuLDEpLGkud3JpdGUoZSw1LFwidXRmLThcIiksaVtuXT0wLGl9LFxyXG5cImNzdHJpbmdNZXNzYWdlXCIpLEh1PUYuYWRkQ1N0cmluZyhcIlBcIikuZmx1c2goNjgpLEd1PUYuYWRkQ1N0cmluZyhcIlNcIikuZmx1c2goNjgpLFxyXG4kdT1hKHI9PnIubmFtZT9Ycig2OCxgJHtyLnR5cGV9JHtyLm5hbWV8fFwiXCJ9YCk6ci50eXBlPT09XCJQXCI/SHU6R3UsXCJkZXNjcmliZVwiKSxLdT1hKFxyXG5yPT57bGV0IGU9YCR7ci50eXBlfSR7ci5uYW1lfHxcIlwifWA7cmV0dXJuIFhyKDY3LGUpfSxcImNsb3NlXCIpLFZ1PWEocj0+Ri5hZGQocikuZmx1c2goXHJcbjEwMCksXCJjb3B5RGF0YVwiKSx6dT1hKHI9PlhyKDEwMixyKSxcImNvcHlGYWlsXCIpLFN0PWEocj0+ZC5mcm9tKFtyLDAsMCwwLDRdKSxcImNvZGVcXFxyXG5Pbmx5QnVmZmVyXCIpLFl1PVN0KDcyKSxadT1TdCg4MyksSnU9U3QoODgpLFh1PVN0KDk5KSxlYz17c3RhcnR1cDpSdSxwYXNzd29yZDpNdSxcclxucmVxdWVzdFNzbDpGdSxzZW5kU0FTTEluaXRpYWxSZXNwb25zZU1lc3NhZ2U6RHUsc2VuZFNDUkFNQ2xpZW50RmluYWxNZXNzYWdlOk91LHF1ZXJ5Omt1LFxyXG5wYXJzZTpVdSxiaW5kOk51LGV4ZWN1dGU6V3UsZGVzY3JpYmU6JHUsY2xvc2U6S3UsZmx1c2g6KCk9Pll1LHN5bmM6KCk9Plp1LGVuZDooKT0+SnUsXHJcbmNvcHlEYXRhOlZ1LGNvcHlEb25lOigpPT5YdSxjb3B5RmFpbDp6dSxjYW5jZWw6anV9O3h0LnNlcmlhbGl6ZT1lY30pO3ZhciB3cz1JKEV0PT57XCJ1c2Ugc3RyaWN0XCI7cCgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShFdCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtcclxuRXQuQnVmZmVyUmVhZGVyPXZvaWQgMDt2YXIgdGM9ZC5hbGxvY1Vuc2FmZSgwKSx0bj1jbGFzcyB0bntjb25zdHJ1Y3RvcihlPTApe3RoaXMuXHJcbm9mZnNldD1lLHRoaXMuYnVmZmVyPXRjLHRoaXMuZW5jb2Rpbmc9XCJ1dGYtOFwifXNldEJ1ZmZlcihlLHQpe3RoaXMub2Zmc2V0PWUsdGhpcy5cclxuYnVmZmVyPXR9aW50MTYoKXtsZXQgZT10aGlzLmJ1ZmZlci5yZWFkSW50MTZCRSh0aGlzLm9mZnNldCk7cmV0dXJuIHRoaXMub2Zmc2V0Kz1cclxuMixlfWJ5dGUoKXtsZXQgZT10aGlzLmJ1ZmZlclt0aGlzLm9mZnNldF07cmV0dXJuIHRoaXMub2Zmc2V0KyssZX1pbnQzMigpe2xldCBlPXRoaXMuXHJcbmJ1ZmZlci5yZWFkSW50MzJCRSh0aGlzLm9mZnNldCk7cmV0dXJuIHRoaXMub2Zmc2V0Kz00LGV9c3RyaW5nKGUpe2xldCB0PXRoaXMuYnVmZmVyLlxyXG50b1N0cmluZyh0aGlzLmVuY29kaW5nLHRoaXMub2Zmc2V0LHRoaXMub2Zmc2V0K2UpO3JldHVybiB0aGlzLm9mZnNldCs9ZSx0fWNzdHJpbmcoKXtcclxubGV0IGU9dGhpcy5vZmZzZXQsdD1lO2Zvcig7dGhpcy5idWZmZXJbdCsrXSE9PTA7KTtyZXR1cm4gdGhpcy5vZmZzZXQ9dCx0aGlzLmJ1ZmZlci5cclxudG9TdHJpbmcodGhpcy5lbmNvZGluZyxlLHQtMSl9Ynl0ZXMoZSl7bGV0IHQ9dGhpcy5idWZmZXIuc2xpY2UodGhpcy5vZmZzZXQsdGhpcy5cclxub2Zmc2V0K2UpO3JldHVybiB0aGlzLm9mZnNldCs9ZSx0fX07YSh0bixcIkJ1ZmZlclJlYWRlclwiKTt2YXIgZW49dG47RXQuQnVmZmVyUmVhZGVyPVxyXG5lbn0pO3ZhciBicz17fTtYKGJzLHtkZWZhdWx0OigpPT5yY30pO3ZhciByYyxTcz1LKCgpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3JjPXt9fSk7dmFyIHZzPUkocWU9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIG5jPXFlJiZxZS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHIpe3JldHVybiByJiZcclxuci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShxZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtxZS5cclxuUGFyc2VyPXZvaWQgMDt2YXIgTT16cigpLGljPXdzKCksc2M9bmMoKFNzKCksayhicykpKSxybj0xLG9jPTQseHM9cm4rb2MsRXM9ZC5hbGxvY1Vuc2FmZShcclxuMCksc249Y2xhc3Mgc257Y29uc3RydWN0b3IoZSl7aWYodGhpcy5idWZmZXI9RXMsdGhpcy5idWZmZXJMZW5ndGg9MCx0aGlzLmJ1ZmZlck9mZnNldD1cclxuMCx0aGlzLnJlYWRlcj1uZXcgaWMuQnVmZmVyUmVhZGVyLGU/Lm1vZGU9PT1cImJpbmFyeVwiKXRocm93IG5ldyBFcnJvcihcIkJpbmFyeSBtb2RcXFxyXG5lIG5vdCBzdXBwb3J0ZWQgeWV0XCIpO3RoaXMubW9kZT1lPy5tb2RlfHxcInRleHRcIn1wYXJzZShlLHQpe3RoaXMubWVyZ2VCdWZmZXIoZSk7bGV0IG49dGhpcy5cclxuYnVmZmVyT2Zmc2V0K3RoaXMuYnVmZmVyTGVuZ3RoLGk9dGhpcy5idWZmZXJPZmZzZXQ7Zm9yKDtpK3hzPD1uOyl7bGV0IHM9dGhpcy5idWZmZXJbaV0sXHJcbm89dGhpcy5idWZmZXIucmVhZFVJbnQzMkJFKGkrcm4pLHU9cm4rbztpZih1K2k8PW4pe2xldCBjPXRoaXMuaGFuZGxlUGFja2V0KGkreHMsXHJcbnMsbyx0aGlzLmJ1ZmZlcik7dChjKSxpKz11fWVsc2UgYnJlYWt9aT09PW4/KHRoaXMuYnVmZmVyPUVzLHRoaXMuYnVmZmVyTGVuZ3RoPTAsXHJcbnRoaXMuYnVmZmVyT2Zmc2V0PTApOih0aGlzLmJ1ZmZlckxlbmd0aD1uLWksdGhpcy5idWZmZXJPZmZzZXQ9aSl9bWVyZ2VCdWZmZXIoZSl7XHJcbmlmKHRoaXMuYnVmZmVyTGVuZ3RoPjApe2xldCB0PXRoaXMuYnVmZmVyTGVuZ3RoK2UuYnl0ZUxlbmd0aDtpZih0K3RoaXMuYnVmZmVyT2Zmc2V0PlxyXG50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXtsZXQgaTtpZih0PD10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoJiZ0aGlzLmJ1ZmZlck9mZnNldD49dGhpcy5cclxuYnVmZmVyTGVuZ3RoKWk9dGhpcy5idWZmZXI7ZWxzZXtsZXQgcz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKjI7Zm9yKDt0Pj1zOylzKj0yO2k9XHJcbmQuYWxsb2NVbnNhZmUocyl9dGhpcy5idWZmZXIuY29weShpLDAsdGhpcy5idWZmZXJPZmZzZXQsdGhpcy5idWZmZXJPZmZzZXQrdGhpcy5idWZmZXJMZW5ndGgpLFxyXG50aGlzLmJ1ZmZlcj1pLHRoaXMuYnVmZmVyT2Zmc2V0PTB9ZS5jb3B5KHRoaXMuYnVmZmVyLHRoaXMuYnVmZmVyT2Zmc2V0K3RoaXMuYnVmZmVyTGVuZ3RoKSxcclxudGhpcy5idWZmZXJMZW5ndGg9dH1lbHNlIHRoaXMuYnVmZmVyPWUsdGhpcy5idWZmZXJPZmZzZXQ9MCx0aGlzLmJ1ZmZlckxlbmd0aD1lLmJ5dGVMZW5ndGh9aGFuZGxlUGFja2V0KGUsdCxuLGkpe1xyXG5zd2l0Y2godCl7Y2FzZSA1MDpyZXR1cm4gTS5iaW5kQ29tcGxldGU7Y2FzZSA0OTpyZXR1cm4gTS5wYXJzZUNvbXBsZXRlO2Nhc2UgNTE6cmV0dXJuIE0uXHJcbmNsb3NlQ29tcGxldGU7Y2FzZSAxMTA6cmV0dXJuIE0ubm9EYXRhO2Nhc2UgMTE1OnJldHVybiBNLnBvcnRhbFN1c3BlbmRlZDtjYXNlIDk5OlxyXG5yZXR1cm4gTS5jb3B5RG9uZTtjYXNlIDg3OnJldHVybiBNLnJlcGxpY2F0aW9uU3RhcnQ7Y2FzZSA3MzpyZXR1cm4gTS5lbXB0eVF1ZXJ5O2Nhc2UgNjg6XHJcbnJldHVybiB0aGlzLnBhcnNlRGF0YVJvd01lc3NhZ2UoZSxuLGkpO2Nhc2UgNjc6cmV0dXJuIHRoaXMucGFyc2VDb21tYW5kQ29tcGxldGVNZXNzYWdlKFxyXG5lLG4saSk7Y2FzZSA5MDpyZXR1cm4gdGhpcy5wYXJzZVJlYWR5Rm9yUXVlcnlNZXNzYWdlKGUsbixpKTtjYXNlIDY1OnJldHVybiB0aGlzLlxyXG5wYXJzZU5vdGlmaWNhdGlvbk1lc3NhZ2UoZSxuLGkpO2Nhc2UgODI6cmV0dXJuIHRoaXMucGFyc2VBdXRoZW50aWNhdGlvblJlc3BvbnNlKFxyXG5lLG4saSk7Y2FzZSA4MzpyZXR1cm4gdGhpcy5wYXJzZVBhcmFtZXRlclN0YXR1c01lc3NhZ2UoZSxuLGkpO2Nhc2UgNzU6cmV0dXJuIHRoaXMuXHJcbnBhcnNlQmFja2VuZEtleURhdGEoZSxuLGkpO2Nhc2UgNjk6cmV0dXJuIHRoaXMucGFyc2VFcnJvck1lc3NhZ2UoZSxuLGksXCJlcnJvclwiKTtjYXNlIDc4OlxyXG5yZXR1cm4gdGhpcy5wYXJzZUVycm9yTWVzc2FnZShlLG4saSxcIm5vdGljZVwiKTtjYXNlIDg0OnJldHVybiB0aGlzLnBhcnNlUm93RGVzY3JpcHRpb25NZXNzYWdlKFxyXG5lLG4saSk7Y2FzZSAxMTY6cmV0dXJuIHRoaXMucGFyc2VQYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2UoZSxuLGkpO2Nhc2UgNzE6cmV0dXJuIHRoaXMuXHJcbnBhcnNlQ29weUluTWVzc2FnZShlLG4saSk7Y2FzZSA3MjpyZXR1cm4gdGhpcy5wYXJzZUNvcHlPdXRNZXNzYWdlKGUsbixpKTtjYXNlIDEwMDpcclxucmV0dXJuIHRoaXMucGFyc2VDb3B5RGF0YShlLG4saSk7ZGVmYXVsdDpzYy5kZWZhdWx0LmZhaWwoYHVua25vd24gbWVzc2FnZSBjb2RlOiAke3QuXHJcbnRvU3RyaW5nKDE2KX1gKX19cGFyc2VSZWFkeUZvclF1ZXJ5TWVzc2FnZShlLHQsbil7dGhpcy5yZWFkZXIuc2V0QnVmZmVyKGUsbik7bGV0IGk9dGhpcy5cclxucmVhZGVyLnN0cmluZygxKTtyZXR1cm4gbmV3IE0uUmVhZHlGb3JRdWVyeU1lc3NhZ2UodCxpKX1wYXJzZUNvbW1hbmRDb21wbGV0ZU1lc3NhZ2UoZSx0LG4pe1xyXG50aGlzLnJlYWRlci5zZXRCdWZmZXIoZSxuKTtsZXQgaT10aGlzLnJlYWRlci5jc3RyaW5nKCk7cmV0dXJuIG5ldyBNLkNvbW1hbmRDb21wbGV0ZU1lc3NhZ2UoXHJcbnQsaSl9cGFyc2VDb3B5RGF0YShlLHQsbil7bGV0IGk9bi5zbGljZShlLGUrKHQtNCkpO3JldHVybiBuZXcgTS5Db3B5RGF0YU1lc3NhZ2UoXHJcbnQsaSl9cGFyc2VDb3B5SW5NZXNzYWdlKGUsdCxuKXtyZXR1cm4gdGhpcy5wYXJzZUNvcHlNZXNzYWdlKGUsdCxuLFwiY29weUluUmVzcG9uc1xcXHJcbmVcIil9cGFyc2VDb3B5T3V0TWVzc2FnZShlLHQsbil7cmV0dXJuIHRoaXMucGFyc2VDb3B5TWVzc2FnZShlLHQsbixcImNvcHlPdXRSZXNwb25cXFxyXG5zZVwiKX1wYXJzZUNvcHlNZXNzYWdlKGUsdCxuLGkpe3RoaXMucmVhZGVyLnNldEJ1ZmZlcihlLG4pO2xldCBzPXRoaXMucmVhZGVyLmJ5dGUoKSE9PVxyXG4wLG89dGhpcy5yZWFkZXIuaW50MTYoKSx1PW5ldyBNLkNvcHlSZXNwb25zZSh0LGkscyxvKTtmb3IobGV0IGM9MDtjPG87YysrKXUuY29sdW1uVHlwZXNbY109XHJcbnRoaXMucmVhZGVyLmludDE2KCk7cmV0dXJuIHV9cGFyc2VOb3RpZmljYXRpb25NZXNzYWdlKGUsdCxuKXt0aGlzLnJlYWRlci5zZXRCdWZmZXIoXHJcbmUsbik7bGV0IGk9dGhpcy5yZWFkZXIuaW50MzIoKSxzPXRoaXMucmVhZGVyLmNzdHJpbmcoKSxvPXRoaXMucmVhZGVyLmNzdHJpbmcoKTtyZXR1cm4gbmV3IE0uXHJcbk5vdGlmaWNhdGlvblJlc3BvbnNlTWVzc2FnZSh0LGkscyxvKX1wYXJzZVJvd0Rlc2NyaXB0aW9uTWVzc2FnZShlLHQsbil7dGhpcy5yZWFkZXIuXHJcbnNldEJ1ZmZlcihlLG4pO2xldCBpPXRoaXMucmVhZGVyLmludDE2KCkscz1uZXcgTS5Sb3dEZXNjcmlwdGlvbk1lc3NhZ2UodCxpKTtmb3IobGV0IG89MDtvPFxyXG5pO28rKylzLmZpZWxkc1tvXT10aGlzLnBhcnNlRmllbGQoKTtyZXR1cm4gc31wYXJzZUZpZWxkKCl7bGV0IGU9dGhpcy5yZWFkZXIuY3N0cmluZygpLFxyXG50PXRoaXMucmVhZGVyLmludDMyKCksbj10aGlzLnJlYWRlci5pbnQxNigpLGk9dGhpcy5yZWFkZXIuaW50MzIoKSxzPXRoaXMucmVhZGVyLlxyXG5pbnQxNigpLG89dGhpcy5yZWFkZXIuaW50MzIoKSx1PXRoaXMucmVhZGVyLmludDE2KCk9PT0wP1widGV4dFwiOlwiYmluYXJ5XCI7cmV0dXJuIG5ldyBNLlxyXG5GaWVsZChlLHQsbixpLHMsbyx1KX1wYXJzZVBhcmFtZXRlckRlc2NyaXB0aW9uTWVzc2FnZShlLHQsbil7dGhpcy5yZWFkZXIuc2V0QnVmZmVyKFxyXG5lLG4pO2xldCBpPXRoaXMucmVhZGVyLmludDE2KCkscz1uZXcgTS5QYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2UodCxpKTtmb3IobGV0IG89MDtvPFxyXG5pO28rKylzLmRhdGFUeXBlSURzW29dPXRoaXMucmVhZGVyLmludDMyKCk7cmV0dXJuIHN9cGFyc2VEYXRhUm93TWVzc2FnZShlLHQsbil7dGhpcy5cclxucmVhZGVyLnNldEJ1ZmZlcihlLG4pO2xldCBpPXRoaXMucmVhZGVyLmludDE2KCkscz1uZXcgQXJyYXkoaSk7Zm9yKGxldCBvPTA7bzxpO28rKyl7XHJcbmxldCB1PXRoaXMucmVhZGVyLmludDMyKCk7c1tvXT11PT09LTE/bnVsbDp0aGlzLnJlYWRlci5zdHJpbmcodSl9cmV0dXJuIG5ldyBNLkRhdGFSb3dNZXNzYWdlKFxyXG50LHMpfXBhcnNlUGFyYW1ldGVyU3RhdHVzTWVzc2FnZShlLHQsbil7dGhpcy5yZWFkZXIuc2V0QnVmZmVyKGUsbik7bGV0IGk9dGhpcy5yZWFkZXIuXHJcbmNzdHJpbmcoKSxzPXRoaXMucmVhZGVyLmNzdHJpbmcoKTtyZXR1cm4gbmV3IE0uUGFyYW1ldGVyU3RhdHVzTWVzc2FnZSh0LGkscyl9cGFyc2VCYWNrZW5kS2V5RGF0YShlLHQsbil7XHJcbnRoaXMucmVhZGVyLnNldEJ1ZmZlcihlLG4pO2xldCBpPXRoaXMucmVhZGVyLmludDMyKCkscz10aGlzLnJlYWRlci5pbnQzMigpO3JldHVybiBuZXcgTS5cclxuQmFja2VuZEtleURhdGFNZXNzYWdlKHQsaSxzKX1wYXJzZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2UoZSx0LG4pe3RoaXMucmVhZGVyLnNldEJ1ZmZlcihcclxuZSxuKTtsZXQgaT10aGlzLnJlYWRlci5pbnQzMigpLHM9e25hbWU6XCJhdXRoZW50aWNhdGlvbk9rXCIsbGVuZ3RoOnR9O3N3aXRjaChpKXtjYXNlIDA6XHJcbmJyZWFrO2Nhc2UgMzpzLmxlbmd0aD09PTgmJihzLm5hbWU9XCJhdXRoZW50aWNhdGlvbkNsZWFydGV4dFBhc3N3b3JkXCIpO2JyZWFrO2Nhc2UgNTpcclxuaWYocy5sZW5ndGg9PT0xMil7cy5uYW1lPVwiYXV0aGVudGljYXRpb25NRDVQYXNzd29yZFwiO2xldCB1PXRoaXMucmVhZGVyLmJ5dGVzKDQpO1xyXG5yZXR1cm4gbmV3IE0uQXV0aGVudGljYXRpb25NRDVQYXNzd29yZCh0LHUpfWJyZWFrO2Nhc2UgMTA6cy5uYW1lPVwiYXV0aGVudGljYXRpb25cXFxyXG5TQVNMXCIscy5tZWNoYW5pc21zPVtdO2xldCBvO2RvIG89dGhpcy5yZWFkZXIuY3N0cmluZygpLG8mJnMubWVjaGFuaXNtcy5wdXNoKG8pO3doaWxlKG8pO1xyXG5icmVhaztjYXNlIDExOnMubmFtZT1cImF1dGhlbnRpY2F0aW9uU0FTTENvbnRpbnVlXCIscy5kYXRhPXRoaXMucmVhZGVyLnN0cmluZyh0LTgpO1xyXG5icmVhaztjYXNlIDEyOnMubmFtZT1cImF1dGhlbnRpY2F0aW9uU0FTTEZpbmFsXCIscy5kYXRhPXRoaXMucmVhZGVyLnN0cmluZyh0LTgpO2JyZWFrO2RlZmF1bHQ6XHJcbnRocm93IG5ldyBFcnJvcihcIlVua25vd24gYXV0aGVudGljYXRpb25PayBtZXNzYWdlIHR5cGUgXCIraSl9cmV0dXJuIHN9cGFyc2VFcnJvck1lc3NhZ2UoZSx0LG4saSl7XHJcbnRoaXMucmVhZGVyLnNldEJ1ZmZlcihlLG4pO2xldCBzPXt9LG89dGhpcy5yZWFkZXIuc3RyaW5nKDEpO2Zvcig7byE9PVwiXFwwXCI7KXNbb109XHJcbnRoaXMucmVhZGVyLmNzdHJpbmcoKSxvPXRoaXMucmVhZGVyLnN0cmluZygxKTtsZXQgdT1zLk0sYz1pPT09XCJub3RpY2VcIj9uZXcgTS5Ob3RpY2VNZXNzYWdlKFxyXG50LHUpOm5ldyBNLkRhdGFiYXNlRXJyb3IodSx0LGkpO3JldHVybiBjLnNldmVyaXR5PXMuUyxjLmNvZGU9cy5DLGMuZGV0YWlsPXMuRCxjLlxyXG5oaW50PXMuSCxjLnBvc2l0aW9uPXMuUCxjLmludGVybmFsUG9zaXRpb249cy5wLGMuaW50ZXJuYWxRdWVyeT1zLnEsYy53aGVyZT1zLlcsYy5cclxuc2NoZW1hPXMucyxjLnRhYmxlPXMudCxjLmNvbHVtbj1zLmMsYy5kYXRhVHlwZT1zLmQsYy5jb25zdHJhaW50PXMubixjLmZpbGU9cy5GLGMuXHJcbmxpbmU9cy5MLGMucm91dGluZT1zLlIsY319O2Eoc24sXCJQYXJzZXJcIik7dmFyIG5uPXNuO3FlLlBhcnNlcj1ubn0pO3ZhciBvbj1JKGJlPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtcclxuYmUuRGF0YWJhc2VFcnJvcj1iZS5zZXJpYWxpemU9YmUucGFyc2U9dm9pZCAwO3ZhciBhYz16cigpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuYmUsXCJEYXRhYmFzZUVycm9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFjLkRhdGFiYXNlRXJyb3J9fSk7dmFyIHVjPWdzKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShiZSxcInNlcmlhbGl6ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1Yy5zZXJpYWxpemV9fSk7XHJcbnZhciBjYz12cygpO2Z1bmN0aW9uIGhjKHIsZSl7bGV0IHQ9bmV3IGNjLlBhcnNlcjtyZXR1cm4gci5vbihcImRhdGFcIixuPT50LnBhcnNlKG4sXHJcbmUpKSxuZXcgUHJvbWlzZShuPT5yLm9uKFwiZW5kXCIsKCk9Pm4oKSkpfWEoaGMsXCJwYXJzZVwiKTtiZS5wYXJzZT1oY30pO3ZhciBfcz17fTtYKF9zLHtjb25uZWN0OigpPT5sY30pO2Z1bmN0aW9uIGxjKHtzb2NrZXQ6cixzZXJ2ZXJuYW1lOmV9KXtyZXR1cm4gci5zdGFydFRscyhcclxuZSkscn12YXIgQXM9SygoKT0+e1widXNlIHN0cmljdFwiO3AoKTthKGxjLFwiY29ubmVjdFwiKX0pO3ZhciBjbj1JKChlZixUcyk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIENzPSh3dCgpLGsoZHMpKSxmYz1nZSgpLkV2ZW50RW1pdHRlcix7cGFyc2U6cGMsXHJcbnNlcmlhbGl6ZTpxfT1vbigpLElzPXEuZmx1c2goKSxkYz1xLnN5bmMoKSx5Yz1xLmVuZCgpLHVuPWNsYXNzIHVuIGV4dGVuZHMgZmN7Y29uc3RydWN0b3IoZSl7XHJcbnN1cGVyKCksZT1lfHx7fSx0aGlzLnN0cmVhbT1lLnN0cmVhbXx8bmV3IENzLlNvY2tldCx0aGlzLl9rZWVwQWxpdmU9ZS5rZWVwQWxpdmUsXHJcbnRoaXMuX2tlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpcz1lLmtlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpcyx0aGlzLmxhc3RCdWZmZXI9XHJcbiExLHRoaXMucGFyc2VkU3RhdGVtZW50cz17fSx0aGlzLnNzbD1lLnNzbHx8ITEsdGhpcy5fZW5kaW5nPSExLHRoaXMuX2VtaXRNZXNzYWdlPVxyXG4hMTt2YXIgdD10aGlzO3RoaXMub24oXCJuZXdMaXN0ZW5lclwiLGZ1bmN0aW9uKG4pe249PT1cIm1lc3NhZ2VcIiYmKHQuX2VtaXRNZXNzYWdlPSEwKX0pfWNvbm5lY3QoZSx0KXtcclxudmFyIG49dGhpczt0aGlzLl9jb25uZWN0aW5nPSEwLHRoaXMuc3RyZWFtLnNldE5vRGVsYXkoITApLHRoaXMuc3RyZWFtLmNvbm5lY3QoZSxcclxudCksdGhpcy5zdHJlYW0ub25jZShcImNvbm5lY3RcIixmdW5jdGlvbigpe24uX2tlZXBBbGl2ZSYmbi5zdHJlYW0uc2V0S2VlcEFsaXZlKCEwLFxyXG5uLl9rZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXMpLG4uZW1pdChcImNvbm5lY3RcIil9KTtsZXQgaT1hKGZ1bmN0aW9uKHMpe24uX2VuZGluZyYmXHJcbihzLmNvZGU9PT1cIkVDT05OUkVTRVRcInx8cy5jb2RlPT09XCJFUElQRVwiKXx8bi5lbWl0KFwiZXJyb3JcIixzKX0sXCJyZXBvcnRTdHJlYW1FcnJvclwiKTtcclxuaWYodGhpcy5zdHJlYW0ub24oXCJlcnJvclwiLGkpLHRoaXMuc3RyZWFtLm9uKFwiY2xvc2VcIixmdW5jdGlvbigpe24uZW1pdChcImVuZFwiKX0pLCF0aGlzLlxyXG5zc2wpcmV0dXJuIHRoaXMuYXR0YWNoTGlzdGVuZXJzKHRoaXMuc3RyZWFtKTt0aGlzLnN0cmVhbS5vbmNlKFwiZGF0YVwiLGZ1bmN0aW9uKHMpe1xyXG52YXIgbz1zLnRvU3RyaW5nKFwidXRmOFwiKTtzd2l0Y2gobyl7Y2FzZVwiU1wiOmJyZWFrO2Nhc2VcIk5cIjpyZXR1cm4gbi5zdHJlYW0uZW5kKCksbi5cclxuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiVGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IFNTTCBjb25uZWN0aW9uc1wiKSk7ZGVmYXVsdDpyZXR1cm4gbi5cclxuc3RyZWFtLmVuZCgpLG4uZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGVzdGFibGlzaGluZyBhbiBTU0wgY29cXFxyXG5ubmVjdGlvblwiKSl9dmFyIHU9KEFzKCksayhfcykpO2xldCBjPXtzb2NrZXQ6bi5zdHJlYW19O24uc3NsIT09ITAmJihPYmplY3QuYXNzaWduKFxyXG5jLG4uc3NsKSxcImtleVwiaW4gbi5zc2wmJihjLmtleT1uLnNzbC5rZXkpKSxDcy5pc0lQKHQpPT09MCYmKGMuc2VydmVybmFtZT10KTt0cnl7XHJcbm4uc3RyZWFtPXUuY29ubmVjdChjKX1jYXRjaChoKXtyZXR1cm4gbi5lbWl0KFwiZXJyb3JcIixoKX1uLmF0dGFjaExpc3RlbmVycyhuLnN0cmVhbSksXHJcbm4uc3RyZWFtLm9uKFwiZXJyb3JcIixpKSxuLmVtaXQoXCJzc2xjb25uZWN0XCIpfSl9YXR0YWNoTGlzdGVuZXJzKGUpe2Uub24oXCJlbmRcIiwoKT0+e1xyXG50aGlzLmVtaXQoXCJlbmRcIil9KSxwYyhlLHQ9Pnt2YXIgbj10Lm5hbWU9PT1cImVycm9yXCI/XCJlcnJvck1lc3NhZ2VcIjp0Lm5hbWU7dGhpcy5fZW1pdE1lc3NhZ2UmJlxyXG50aGlzLmVtaXQoXCJtZXNzYWdlXCIsdCksdGhpcy5lbWl0KG4sdCl9KX1yZXF1ZXN0U3NsKCl7dGhpcy5zdHJlYW0ud3JpdGUocS5yZXF1ZXN0U3NsKCkpfXN0YXJ0dXAoZSl7XHJcbnRoaXMuc3RyZWFtLndyaXRlKHEuc3RhcnR1cChlKSl9Y2FuY2VsKGUsdCl7dGhpcy5fc2VuZChxLmNhbmNlbChlLHQpKX1wYXNzd29yZChlKXtcclxudGhpcy5fc2VuZChxLnBhc3N3b3JkKGUpKX1zZW5kU0FTTEluaXRpYWxSZXNwb25zZU1lc3NhZ2UoZSx0KXt0aGlzLl9zZW5kKHEuc2VuZFNBU0xJbml0aWFsUmVzcG9uc2VNZXNzYWdlKFxyXG5lLHQpKX1zZW5kU0NSQU1DbGllbnRGaW5hbE1lc3NhZ2UoZSl7dGhpcy5fc2VuZChxLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZShlKSl9X3NlbmQoZSl7XHJcbnJldHVybiB0aGlzLnN0cmVhbS53cml0YWJsZT90aGlzLnN0cmVhbS53cml0ZShlKTohMX1xdWVyeShlKXt0aGlzLl9zZW5kKHEucXVlcnkoXHJcbmUpKX1wYXJzZShlKXt0aGlzLl9zZW5kKHEucGFyc2UoZSkpfWJpbmQoZSl7dGhpcy5fc2VuZChxLmJpbmQoZSkpfWV4ZWN1dGUoZSl7dGhpcy5cclxuX3NlbmQocS5leGVjdXRlKGUpKX1mbHVzaCgpe3RoaXMuc3RyZWFtLndyaXRhYmxlJiZ0aGlzLnN0cmVhbS53cml0ZShJcyl9c3luYygpe3RoaXMuXHJcbl9lbmRpbmc9ITAsdGhpcy5fc2VuZChJcyksdGhpcy5fc2VuZChkYyl9cmVmKCl7dGhpcy5zdHJlYW0ucmVmKCl9dW5yZWYoKXt0aGlzLnN0cmVhbS5cclxudW5yZWYoKX1lbmQoKXtpZih0aGlzLl9lbmRpbmc9ITAsIXRoaXMuX2Nvbm5lY3Rpbmd8fCF0aGlzLnN0cmVhbS53cml0YWJsZSl7dGhpcy5cclxuc3RyZWFtLmVuZCgpO3JldHVybn1yZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoeWMsKCk9Pnt0aGlzLnN0cmVhbS5lbmQoKX0pfWNsb3NlKGUpe1xyXG50aGlzLl9zZW5kKHEuY2xvc2UoZSkpfWRlc2NyaWJlKGUpe3RoaXMuX3NlbmQocS5kZXNjcmliZShlKSl9c2VuZENvcHlGcm9tQ2h1bmsoZSl7XHJcbnRoaXMuX3NlbmQocS5jb3B5RGF0YShlKSl9ZW5kQ29weUZyb20oKXt0aGlzLl9zZW5kKHEuY29weURvbmUoKSl9c2VuZENvcHlGYWlsKGUpe1xyXG50aGlzLl9zZW5kKHEuY29weUZhaWwoZSkpfX07YSh1bixcIkNvbm5lY3Rpb25cIik7dmFyIGFuPXVuO1RzLmV4cG9ydHM9YW59KTt2YXIgTHM9SSgoc2YsQnMpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3ZhciBtYz1nZSgpLkV2ZW50RW1pdHRlcixuZj0oR2UoKSxrKEhlKSksZ2M9dHQoKSxcclxuaG49cWkoKSx3Yz1ZaSgpLGJjPWhyKCksU2M9Z3QoKSxQcz1mcygpLHhjPWV0KCksRWM9Y24oKSxsbj1jbGFzcyBsbiBleHRlbmRzIG1je2NvbnN0cnVjdG9yKGUpe1xyXG5zdXBlcigpLHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnM9bmV3IFNjKGUpLHRoaXMudXNlcj10aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLlxyXG51c2VyLHRoaXMuZGF0YWJhc2U9dGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5kYXRhYmFzZSx0aGlzLnBvcnQ9dGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5cclxucG9ydCx0aGlzLmhvc3Q9dGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5ob3N0LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFzc3dvXFxcclxucmRcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6dGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5wYXNzd29yZH0pLFxyXG50aGlzLnJlcGxpY2F0aW9uPXRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucmVwbGljYXRpb247dmFyIHQ9ZXx8e307dGhpcy5fUHJvbWlzZT1cclxudC5Qcm9taXNlfHxiLlByb21pc2UsdGhpcy5fdHlwZXM9bmV3IGJjKHQudHlwZXMpLHRoaXMuX2VuZGluZz0hMSx0aGlzLl9jb25uZWN0aW5nPVxyXG4hMSx0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpcy5fY29ubmVjdGlvbkVycm9yPSExLHRoaXMuX3F1ZXJ5YWJsZT0hMCx0aGlzLmNvbm5lY3Rpb249XHJcbnQuY29ubmVjdGlvbnx8bmV3IEVjKHtzdHJlYW06dC5zdHJlYW0sc3NsOnRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuc3NsLGtlZXBBbGl2ZTp0LlxyXG5rZWVwQWxpdmV8fCExLGtlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpczp0LmtlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpc3x8MCxlbmNvZGluZzp0aGlzLlxyXG5jb25uZWN0aW9uUGFyYW1ldGVycy5jbGllbnRfZW5jb2Rpbmd8fFwidXRmOFwifSksdGhpcy5xdWVyeVF1ZXVlPVtdLHRoaXMuYmluYXJ5PXQuXHJcbmJpbmFyeXx8eGMuYmluYXJ5LHRoaXMucHJvY2Vzc0lEPW51bGwsdGhpcy5zZWNyZXRLZXk9bnVsbCx0aGlzLnNzbD10aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLlxyXG5zc2x8fCExLHRoaXMuc3NsJiZ0aGlzLnNzbC5rZXkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnNzbCxcImtleVwiLHtlbnVtZXJhYmxlOiExfSksXHJcbnRoaXMuX2Nvbm5lY3Rpb25UaW1lb3V0TWlsbGlzPXQuY29ubmVjdGlvblRpbWVvdXRNaWxsaXN8fDB9X2Vycm9yQWxsUXVlcmllcyhlKXtsZXQgdD1hKFxyXG5uPT57bS5uZXh0VGljaygoKT0+e24uaGFuZGxlRXJyb3IoZSx0aGlzLmNvbm5lY3Rpb24pfSl9LFwiZW5xdWV1ZUVycm9yXCIpO3RoaXMuYWN0aXZlUXVlcnkmJlxyXG4odCh0aGlzLmFjdGl2ZVF1ZXJ5KSx0aGlzLmFjdGl2ZVF1ZXJ5PW51bGwpLHRoaXMucXVlcnlRdWV1ZS5mb3JFYWNoKHQpLHRoaXMucXVlcnlRdWV1ZS5cclxubGVuZ3RoPTB9X2Nvbm5lY3QoZSl7dmFyIHQ9dGhpcyxuPXRoaXMuY29ubmVjdGlvbjtpZih0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2s9ZSxcclxudGhpcy5fY29ubmVjdGluZ3x8dGhpcy5fY29ubmVjdGVkKXtsZXQgaT1uZXcgRXJyb3IoXCJDbGllbnQgaGFzIGFscmVhZHkgYmVlbiBjb25uXFxcclxuZWN0ZWQuIFlvdSBjYW5ub3QgcmV1c2UgYSBjbGllbnQuXCIpO20ubmV4dFRpY2soKCk9PntlKGkpfSk7cmV0dXJufXRoaXMuX2Nvbm5lY3Rpbmc9XHJcbiEwLHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUsdGhpcy5fY29ubmVjdGlvblRpbWVvdXRNaWxsaXM+MCYmKHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGU9XHJcbnNldFRpbWVvdXQoKCk9PntuLl9lbmRpbmc9ITAsbi5zdHJlYW0uZGVzdHJveShuZXcgRXJyb3IoXCJ0aW1lb3V0IGV4cGlyZWRcIikpfSx0aGlzLlxyXG5fY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpKSx0aGlzLmhvc3QmJnRoaXMuaG9zdC5pbmRleE9mKFwiL1wiKT09PTA/bi5jb25uZWN0KHRoaXMuXHJcbmhvc3QrXCIvLnMuUEdTUUwuXCIrdGhpcy5wb3J0KTpuLmNvbm5lY3QodGhpcy5wb3J0LHRoaXMuaG9zdCksbi5vbihcImNvbm5lY3RcIixmdW5jdGlvbigpe1xyXG50LnNzbD9uLnJlcXVlc3RTc2woKTpuLnN0YXJ0dXAodC5nZXRTdGFydHVwQ29uZigpKX0pLG4ub24oXCJzc2xjb25uZWN0XCIsZnVuY3Rpb24oKXtcclxubi5zdGFydHVwKHQuZ2V0U3RhcnR1cENvbmYoKSl9KSx0aGlzLl9hdHRhY2hMaXN0ZW5lcnMobiksbi5vbmNlKFwiZW5kXCIsKCk9PntsZXQgaT10aGlzLlxyXG5fZW5kaW5nP25ldyBFcnJvcihcIkNvbm5lY3Rpb24gdGVybWluYXRlZFwiKTpuZXcgRXJyb3IoXCJDb25uZWN0aW9uIHRlcm1pbmF0ZWQgdW5leFxcXHJcbnBlY3RlZGx5XCIpO2NsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0SGFuZGxlKSx0aGlzLl9lcnJvckFsbFF1ZXJpZXMoaSksdGhpcy5cclxuX2VuZGluZ3x8KHRoaXMuX2Nvbm5lY3RpbmcmJiF0aGlzLl9jb25uZWN0aW9uRXJyb3I/dGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrP3RoaXMuXHJcbl9jb25uZWN0aW9uQ2FsbGJhY2soaSk6dGhpcy5faGFuZGxlRXJyb3JFdmVudChpKTp0aGlzLl9jb25uZWN0aW9uRXJyb3J8fHRoaXMuX2hhbmRsZUVycm9yRXZlbnQoXHJcbmkpKSxtLm5leHRUaWNrKCgpPT57dGhpcy5lbWl0KFwiZW5kXCIpfSl9KX1jb25uZWN0KGUpe2lmKGUpe3RoaXMuX2Nvbm5lY3QoZSk7cmV0dXJufVxyXG5yZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHQsbik9Pnt0aGlzLl9jb25uZWN0KGk9PntpP24oaSk6dCgpfSl9KX1fYXR0YWNoTGlzdGVuZXJzKGUpe1xyXG5lLm9uKFwiYXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZFwiLHRoaXMuX2hhbmRsZUF1dGhDbGVhcnRleHRQYXNzd29yZC5iaW5kKHRoaXMpKSxcclxuZS5vbihcImF1dGhlbnRpY2F0aW9uTUQ1UGFzc3dvcmRcIix0aGlzLl9oYW5kbGVBdXRoTUQ1UGFzc3dvcmQuYmluZCh0aGlzKSksZS5vbihcImFcXFxyXG51dGhlbnRpY2F0aW9uU0FTTFwiLHRoaXMuX2hhbmRsZUF1dGhTQVNMLmJpbmQodGhpcykpLGUub24oXCJhdXRoZW50aWNhdGlvblNBU0xDb250XFxcclxuaW51ZVwiLHRoaXMuX2hhbmRsZUF1dGhTQVNMQ29udGludWUuYmluZCh0aGlzKSksZS5vbihcImF1dGhlbnRpY2F0aW9uU0FTTEZpbmFsXCIsdGhpcy5cclxuX2hhbmRsZUF1dGhTQVNMRmluYWwuYmluZCh0aGlzKSksZS5vbihcImJhY2tlbmRLZXlEYXRhXCIsdGhpcy5faGFuZGxlQmFja2VuZEtleURhdGEuXHJcbmJpbmQodGhpcykpLGUub24oXCJlcnJvclwiLHRoaXMuX2hhbmRsZUVycm9yRXZlbnQuYmluZCh0aGlzKSksZS5vbihcImVycm9yTWVzc2FnZVwiLFxyXG50aGlzLl9oYW5kbGVFcnJvck1lc3NhZ2UuYmluZCh0aGlzKSksZS5vbihcInJlYWR5Rm9yUXVlcnlcIix0aGlzLl9oYW5kbGVSZWFkeUZvclF1ZXJ5LlxyXG5iaW5kKHRoaXMpKSxlLm9uKFwibm90aWNlXCIsdGhpcy5faGFuZGxlTm90aWNlLmJpbmQodGhpcykpLGUub24oXCJyb3dEZXNjcmlwdGlvblwiLHRoaXMuXHJcbl9oYW5kbGVSb3dEZXNjcmlwdGlvbi5iaW5kKHRoaXMpKSxlLm9uKFwiZGF0YVJvd1wiLHRoaXMuX2hhbmRsZURhdGFSb3cuYmluZCh0aGlzKSksXHJcbmUub24oXCJwb3J0YWxTdXNwZW5kZWRcIix0aGlzLl9oYW5kbGVQb3J0YWxTdXNwZW5kZWQuYmluZCh0aGlzKSksZS5vbihcImVtcHR5UXVlcnlcIixcclxudGhpcy5faGFuZGxlRW1wdHlRdWVyeS5iaW5kKHRoaXMpKSxlLm9uKFwiY29tbWFuZENvbXBsZXRlXCIsdGhpcy5faGFuZGxlQ29tbWFuZENvbXBsZXRlLlxyXG5iaW5kKHRoaXMpKSxlLm9uKFwicGFyc2VDb21wbGV0ZVwiLHRoaXMuX2hhbmRsZVBhcnNlQ29tcGxldGUuYmluZCh0aGlzKSksZS5vbihcImNvcFxcXHJcbnlJblJlc3BvbnNlXCIsdGhpcy5faGFuZGxlQ29weUluUmVzcG9uc2UuYmluZCh0aGlzKSksZS5vbihcImNvcHlEYXRhXCIsdGhpcy5faGFuZGxlQ29weURhdGEuXHJcbmJpbmQodGhpcykpLGUub24oXCJub3RpZmljYXRpb25cIix0aGlzLl9oYW5kbGVOb3RpZmljYXRpb24uYmluZCh0aGlzKSl9X2NoZWNrUGdQYXNzKGUpe1xyXG5sZXQgdD10aGlzLmNvbm5lY3Rpb247dHlwZW9mIHRoaXMucGFzc3dvcmQ9PVwiZnVuY3Rpb25cIj90aGlzLl9Qcm9taXNlLnJlc29sdmUoKS50aGVuKFxyXG4oKT0+dGhpcy5wYXNzd29yZCgpKS50aGVuKG49PntpZihuIT09dm9pZCAwKXtpZih0eXBlb2YgbiE9XCJzdHJpbmdcIil7dC5lbWl0KFwiZXJyb1xcXHJcbnJcIixuZXcgVHlwZUVycm9yKFwiUGFzc3dvcmQgbXVzdCBiZSBhIHN0cmluZ1wiKSk7cmV0dXJufXRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuXHJcbnBhc3N3b3JkPXRoaXMucGFzc3dvcmQ9bn1lbHNlIHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucGFzc3dvcmQ9dGhpcy5wYXNzd29yZD1udWxsO1xyXG5lKCl9KS5jYXRjaChuPT57dC5lbWl0KFwiZXJyb3JcIixuKX0pOnRoaXMucGFzc3dvcmQhPT1udWxsP2UoKTp3Yyh0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLFxyXG5uPT57biE9PXZvaWQgMCYmKHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucGFzc3dvcmQ9dGhpcy5wYXNzd29yZD1uKSxlKCl9KX1faGFuZGxlQXV0aENsZWFydGV4dFBhc3N3b3JkKGUpe1xyXG50aGlzLl9jaGVja1BnUGFzcygoKT0+e3RoaXMuY29ubmVjdGlvbi5wYXNzd29yZCh0aGlzLnBhc3N3b3JkKX0pfV9oYW5kbGVBdXRoTUQ1UGFzc3dvcmQoZSl7XHJcbnRoaXMuX2NoZWNrUGdQYXNzKCgpPT57bGV0IHQ9Z2MucG9zdGdyZXNNZDVQYXNzd29yZEhhc2godGhpcy51c2VyLHRoaXMucGFzc3dvcmQsXHJcbmUuc2FsdCk7dGhpcy5jb25uZWN0aW9uLnBhc3N3b3JkKHQpfSl9X2hhbmRsZUF1dGhTQVNMKGUpe3RoaXMuX2NoZWNrUGdQYXNzKCgpPT57XHJcbnRoaXMuc2FzbFNlc3Npb249aG4uc3RhcnRTZXNzaW9uKGUubWVjaGFuaXNtcyksdGhpcy5jb25uZWN0aW9uLnNlbmRTQVNMSW5pdGlhbFJlc3BvbnNlTWVzc2FnZShcclxudGhpcy5zYXNsU2Vzc2lvbi5tZWNoYW5pc20sdGhpcy5zYXNsU2Vzc2lvbi5yZXNwb25zZSl9KX1faGFuZGxlQXV0aFNBU0xDb250aW51ZShlKXtcclxuaG4uY29udGludWVTZXNzaW9uKHRoaXMuc2FzbFNlc3Npb24sdGhpcy5wYXNzd29yZCxlLmRhdGEpLHRoaXMuY29ubmVjdGlvbi5zZW5kU0NSQU1DbGllbnRGaW5hbE1lc3NhZ2UoXHJcbnRoaXMuc2FzbFNlc3Npb24ucmVzcG9uc2UpfV9oYW5kbGVBdXRoU0FTTEZpbmFsKGUpe2huLmZpbmFsaXplU2Vzc2lvbih0aGlzLnNhc2xTZXNzaW9uLFxyXG5lLmRhdGEpLHRoaXMuc2FzbFNlc3Npb249bnVsbH1faGFuZGxlQmFja2VuZEtleURhdGEoZSl7dGhpcy5wcm9jZXNzSUQ9ZS5wcm9jZXNzSUQsXHJcbnRoaXMuc2VjcmV0S2V5PWUuc2VjcmV0S2V5fV9oYW5kbGVSZWFkeUZvclF1ZXJ5KGUpe3RoaXMuX2Nvbm5lY3RpbmcmJih0aGlzLl9jb25uZWN0aW5nPVxyXG4hMSx0aGlzLl9jb25uZWN0ZWQ9ITAsY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpLHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayYmXHJcbih0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2sobnVsbCx0aGlzKSx0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2s9bnVsbCksdGhpcy5lbWl0KFwiY1xcXHJcbm9ubmVjdFwiKSk7bGV0e2FjdGl2ZVF1ZXJ5OnR9PXRoaXM7dGhpcy5hY3RpdmVRdWVyeT1udWxsLHRoaXMucmVhZHlGb3JRdWVyeT0hMCx0JiZcclxudC5oYW5kbGVSZWFkeUZvclF1ZXJ5KHRoaXMuY29ubmVjdGlvbiksdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKCl9X2hhbmRsZUVycm9yV2hpbGVDb25uZWN0aW5nKGUpe1xyXG5pZighdGhpcy5fY29ubmVjdGlvbkVycm9yKXtpZih0aGlzLl9jb25uZWN0aW9uRXJyb3I9ITAsY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpLFxyXG50aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2spcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayhlKTt0aGlzLmVtaXQoXCJlcnJvclwiLGUpfX1faGFuZGxlRXJyb3JFdmVudChlKXtcclxuaWYodGhpcy5fY29ubmVjdGluZylyZXR1cm4gdGhpcy5faGFuZGxlRXJyb3JXaGlsZUNvbm5lY3RpbmcoZSk7dGhpcy5fcXVlcnlhYmxlPSExLFxyXG50aGlzLl9lcnJvckFsbFF1ZXJpZXMoZSksdGhpcy5lbWl0KFwiZXJyb3JcIixlKX1faGFuZGxlRXJyb3JNZXNzYWdlKGUpe2lmKHRoaXMuX2Nvbm5lY3RpbmcpXHJcbnJldHVybiB0aGlzLl9oYW5kbGVFcnJvcldoaWxlQ29ubmVjdGluZyhlKTtsZXQgdD10aGlzLmFjdGl2ZVF1ZXJ5O2lmKCF0KXt0aGlzLl9oYW5kbGVFcnJvckV2ZW50KFxyXG5lKTtyZXR1cm59dGhpcy5hY3RpdmVRdWVyeT1udWxsLHQuaGFuZGxlRXJyb3IoZSx0aGlzLmNvbm5lY3Rpb24pfV9oYW5kbGVSb3dEZXNjcmlwdGlvbihlKXtcclxudGhpcy5hY3RpdmVRdWVyeS5oYW5kbGVSb3dEZXNjcmlwdGlvbihlKX1faGFuZGxlRGF0YVJvdyhlKXt0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZURhdGFSb3coXHJcbmUpfV9oYW5kbGVQb3J0YWxTdXNwZW5kZWQoZSl7dGhpcy5hY3RpdmVRdWVyeS5oYW5kbGVQb3J0YWxTdXNwZW5kZWQodGhpcy5jb25uZWN0aW9uKX1faGFuZGxlRW1wdHlRdWVyeShlKXtcclxudGhpcy5hY3RpdmVRdWVyeS5oYW5kbGVFbXB0eVF1ZXJ5KHRoaXMuY29ubmVjdGlvbil9X2hhbmRsZUNvbW1hbmRDb21wbGV0ZShlKXt0aGlzLlxyXG5hY3RpdmVRdWVyeS5oYW5kbGVDb21tYW5kQ29tcGxldGUoZSx0aGlzLmNvbm5lY3Rpb24pfV9oYW5kbGVQYXJzZUNvbXBsZXRlKGUpe3RoaXMuXHJcbmFjdGl2ZVF1ZXJ5Lm5hbWUmJih0aGlzLmNvbm5lY3Rpb24ucGFyc2VkU3RhdGVtZW50c1t0aGlzLmFjdGl2ZVF1ZXJ5Lm5hbWVdPXRoaXMuXHJcbmFjdGl2ZVF1ZXJ5LnRleHQpfV9oYW5kbGVDb3B5SW5SZXNwb25zZShlKXt0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZUNvcHlJblJlc3BvbnNlKFxyXG50aGlzLmNvbm5lY3Rpb24pfV9oYW5kbGVDb3B5RGF0YShlKXt0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZUNvcHlEYXRhKGUsdGhpcy5jb25uZWN0aW9uKX1faGFuZGxlTm90aWZpY2F0aW9uKGUpe1xyXG50aGlzLmVtaXQoXCJub3RpZmljYXRpb25cIixlKX1faGFuZGxlTm90aWNlKGUpe3RoaXMuZW1pdChcIm5vdGljZVwiLGUpfWdldFN0YXJ0dXBDb25mKCl7XHJcbnZhciBlPXRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMsdD17dXNlcjplLnVzZXIsZGF0YWJhc2U6ZS5kYXRhYmFzZX0sbj1lLmFwcGxpY2F0aW9uX25hbWV8fFxyXG5lLmZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWU7cmV0dXJuIG4mJih0LmFwcGxpY2F0aW9uX25hbWU9biksZS5yZXBsaWNhdGlvbiYmKHQucmVwbGljYXRpb249XHJcblwiXCIrZS5yZXBsaWNhdGlvbiksZS5zdGF0ZW1lbnRfdGltZW91dCYmKHQuc3RhdGVtZW50X3RpbWVvdXQ9U3RyaW5nKHBhcnNlSW50KGUuc3RhdGVtZW50X3RpbWVvdXQsXHJcbjEwKSkpLGUubG9ja190aW1lb3V0JiYodC5sb2NrX3RpbWVvdXQ9U3RyaW5nKHBhcnNlSW50KGUubG9ja190aW1lb3V0LDEwKSkpLGUuaWRsZV9pbl90cmFuc2FjdGlvbl9zZXNzaW9uX3RpbWVvdXQmJlxyXG4odC5pZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dD1TdHJpbmcocGFyc2VJbnQoZS5pZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dCxcclxuMTApKSksZS5vcHRpb25zJiYodC5vcHRpb25zPWUub3B0aW9ucyksdH1jYW5jZWwoZSx0KXtpZihlLmFjdGl2ZVF1ZXJ5PT09dCl7dmFyIG49dGhpcy5cclxuY29ubmVjdGlvbjt0aGlzLmhvc3QmJnRoaXMuaG9zdC5pbmRleE9mKFwiL1wiKT09PTA/bi5jb25uZWN0KHRoaXMuaG9zdCtcIi8ucy5QR1NRTC5cIitcclxudGhpcy5wb3J0KTpuLmNvbm5lY3QodGhpcy5wb3J0LHRoaXMuaG9zdCksbi5vbihcImNvbm5lY3RcIixmdW5jdGlvbigpe24uY2FuY2VsKGUucHJvY2Vzc0lELFxyXG5lLnNlY3JldEtleSl9KX1lbHNlIGUucXVlcnlRdWV1ZS5pbmRleE9mKHQpIT09LTEmJmUucXVlcnlRdWV1ZS5zcGxpY2UoZS5xdWVyeVF1ZXVlLlxyXG5pbmRleE9mKHQpLDEpfXNldFR5cGVQYXJzZXIoZSx0LG4pe3JldHVybiB0aGlzLl90eXBlcy5zZXRUeXBlUGFyc2VyKGUsdCxuKX1nZXRUeXBlUGFyc2VyKGUsdCl7XHJcbnJldHVybiB0aGlzLl90eXBlcy5nZXRUeXBlUGFyc2VyKGUsdCl9ZXNjYXBlSWRlbnRpZmllcihlKXtyZXR1cm4nXCInK2UucmVwbGFjZSgvXCIvZyxcclxuJ1wiXCInKSsnXCInfWVzY2FwZUxpdGVyYWwoZSl7Zm9yKHZhciB0PSExLG49XCInXCIsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcz1lW2ldO3M9PT1cclxuXCInXCI/bis9cytzOnM9PT1cIlxcXFxcIj8obis9cytzLHQ9ITApOm4rPXN9cmV0dXJuIG4rPVwiJ1wiLHQ9PT0hMCYmKG49XCIgRVwiK24pLG59X3B1bHNlUXVlcnlRdWV1ZSgpe1xyXG5pZih0aGlzLnJlYWR5Rm9yUXVlcnk9PT0hMClpZih0aGlzLmFjdGl2ZVF1ZXJ5PXRoaXMucXVlcnlRdWV1ZS5zaGlmdCgpLHRoaXMuYWN0aXZlUXVlcnkpe1xyXG50aGlzLnJlYWR5Rm9yUXVlcnk9ITEsdGhpcy5oYXNFeGVjdXRlZD0hMDtsZXQgZT10aGlzLmFjdGl2ZVF1ZXJ5LnN1Ym1pdCh0aGlzLmNvbm5lY3Rpb24pO1xyXG5lJiZtLm5leHRUaWNrKCgpPT57dGhpcy5hY3RpdmVRdWVyeS5oYW5kbGVFcnJvcihlLHRoaXMuY29ubmVjdGlvbiksdGhpcy5yZWFkeUZvclF1ZXJ5PVxyXG4hMCx0aGlzLl9wdWxzZVF1ZXJ5UXVldWUoKX0pfWVsc2UgdGhpcy5oYXNFeGVjdXRlZCYmKHRoaXMuYWN0aXZlUXVlcnk9bnVsbCx0aGlzLlxyXG5lbWl0KFwiZHJhaW5cIikpfXF1ZXJ5KGUsdCxuKXt2YXIgaSxzLG8sdSxjO2lmKGU9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsaWVudFxcXHJcbiB3YXMgcGFzc2VkIGEgbnVsbCBvciB1bmRlZmluZWQgcXVlcnlcIik7cmV0dXJuIHR5cGVvZiBlLnN1Ym1pdD09XCJmdW5jdGlvblwiPyhvPWUuXHJcbnF1ZXJ5X3RpbWVvdXR8fHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dCxzPWk9ZSx0eXBlb2YgdD09XCJmdW5jdGlvblwiJiZcclxuKGkuY2FsbGJhY2s9aS5jYWxsYmFja3x8dCkpOihvPXRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dCxpPW5ldyBQcyhcclxuZSx0LG4pLGkuY2FsbGJhY2t8fChzPW5ldyB0aGlzLl9Qcm9taXNlKChoLGwpPT57aS5jYWxsYmFjaz0oeSxFKT0+eT9sKHkpOmgoRSl9KSkpLFxyXG5vJiYoYz1pLmNhbGxiYWNrLHU9c2V0VGltZW91dCgoKT0+e3ZhciBoPW5ldyBFcnJvcihcIlF1ZXJ5IHJlYWQgdGltZW91dFwiKTttLm5leHRUaWNrKFxyXG4oKT0+e2kuaGFuZGxlRXJyb3IoaCx0aGlzLmNvbm5lY3Rpb24pfSksYyhoKSxpLmNhbGxiYWNrPSgpPT57fTt2YXIgbD10aGlzLnF1ZXJ5UXVldWUuXHJcbmluZGV4T2YoaSk7bD4tMSYmdGhpcy5xdWVyeVF1ZXVlLnNwbGljZShsLDEpLHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpfSxvKSxpLmNhbGxiYWNrPVxyXG4oaCxsKT0+e2NsZWFyVGltZW91dCh1KSxjKGgsbCl9KSx0aGlzLmJpbmFyeSYmIWkuYmluYXJ5JiYoaS5iaW5hcnk9ITApLGkuX3Jlc3VsdCYmXHJcbiFpLl9yZXN1bHQuX3R5cGVzJiYoaS5fcmVzdWx0Ll90eXBlcz10aGlzLl90eXBlcyksdGhpcy5fcXVlcnlhYmxlP3RoaXMuX2VuZGluZz8obS5cclxubmV4dFRpY2soKCk9PntpLmhhbmRsZUVycm9yKG5ldyBFcnJvcihcIkNsaWVudCB3YXMgY2xvc2VkIGFuZCBpcyBub3QgcXVlcnlhYmxlXCIpLFxyXG50aGlzLmNvbm5lY3Rpb24pfSkscyk6KHRoaXMucXVlcnlRdWV1ZS5wdXNoKGkpLHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpLHMpOihtLm5leHRUaWNrKFxyXG4oKT0+e2kuaGFuZGxlRXJyb3IobmV3IEVycm9yKFwiQ2xpZW50IGhhcyBlbmNvdW50ZXJlZCBhIGNvbm5lY3Rpb24gZXJyb3IgYW5kIGlzIG5cXFxyXG5vdCBxdWVyeWFibGVcIiksdGhpcy5jb25uZWN0aW9uKX0pLHMpfXJlZigpe3RoaXMuY29ubmVjdGlvbi5yZWYoKX11bnJlZigpe3RoaXMuY29ubmVjdGlvbi5cclxudW5yZWYoKX1lbmQoZSl7aWYodGhpcy5fZW5kaW5nPSEwLCF0aGlzLmNvbm5lY3Rpb24uX2Nvbm5lY3RpbmcpaWYoZSllKCk7ZWxzZSByZXR1cm4gdGhpcy5cclxuX1Byb21pc2UucmVzb2x2ZSgpO2lmKHRoaXMuYWN0aXZlUXVlcnl8fCF0aGlzLl9xdWVyeWFibGU/dGhpcy5jb25uZWN0aW9uLnN0cmVhbS5cclxuZGVzdHJveSgpOnRoaXMuY29ubmVjdGlvbi5lbmQoKSxlKXRoaXMuY29ubmVjdGlvbi5vbmNlKFwiZW5kXCIsZSk7ZWxzZSByZXR1cm4gbmV3IHRoaXMuXHJcbl9Qcm9taXNlKHQ9Pnt0aGlzLmNvbm5lY3Rpb24ub25jZShcImVuZFwiLHQpfSl9fTthKGxuLFwiQ2xpZW50XCIpO3ZhciB2dD1sbjt2dC5RdWVyeT1cclxuUHM7QnMuZXhwb3J0cz12dH0pO3ZhciBEcz1JKCh1ZixNcyk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIHZjPWdlKCkuRXZlbnRFbWl0dGVyLFJzPWEoZnVuY3Rpb24oKXt9LFwiXFxcclxuTk9PUFwiKSxGcz1hKChyLGUpPT57bGV0IHQ9ci5maW5kSW5kZXgoZSk7cmV0dXJuIHQ9PT0tMT92b2lkIDA6ci5zcGxpY2UodCwxKVswXX0sXHJcblwicmVtb3ZlV2hlcmVcIiksZG49Y2xhc3MgZG57Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuY2xpZW50PWUsdGhpcy5pZGxlTGlzdGVuZXI9dCxcclxudGhpcy50aW1lb3V0SWQ9bn19O2EoZG4sXCJJZGxlSXRlbVwiKTt2YXIgZm49ZG4seW49Y2xhc3MgeW57Y29uc3RydWN0b3IoZSl7dGhpcy5jYWxsYmFjaz1cclxuZX19O2EoeW4sXCJQZW5kaW5nSXRlbVwiKTt2YXIgTmU9eW47ZnVuY3Rpb24gX2MoKXt0aHJvdyBuZXcgRXJyb3IoXCJSZWxlYXNlIGNhbGxlZCBcXFxyXG5vbiBjbGllbnQgd2hpY2ggaGFzIGFscmVhZHkgYmVlbiByZWxlYXNlZCB0byB0aGUgcG9vbC5cIil9YShfYyxcInRocm93T25Eb3VibGVSZWxlXFxcclxuYXNlXCIpO2Z1bmN0aW9uIF90KHIsZSl7aWYoZSlyZXR1cm57Y2FsbGJhY2s6ZSxyZXN1bHQ6dm9pZCAwfTtsZXQgdCxuLGk9YShmdW5jdGlvbihvLHUpe1xyXG5vP3Qobyk6bih1KX0sXCJjYlwiKSxzPW5ldyByKGZ1bmN0aW9uKG8sdSl7bj1vLHQ9dX0pLmNhdGNoKG89Pnt0aHJvdyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShcclxubyksb30pO3JldHVybntjYWxsYmFjazppLHJlc3VsdDpzfX1hKF90LFwicHJvbWlzaWZ5XCIpO2Z1bmN0aW9uIEFjKHIsZSl7cmV0dXJuIGEoZnVuY3Rpb24gdChuKXtcclxubi5jbGllbnQ9ZSxlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix0KSxlLm9uKFwiZXJyb3JcIiwoKT0+e3IubG9nKFwiYWRkaXRpb25hbCBjbGllblxcXHJcbnQgZXJyb3IgYWZ0ZXIgZGlzY29ubmVjdGlvbiBkdWUgdG8gZXJyb3JcIixuKX0pLHIuX3JlbW92ZShlKSxyLmVtaXQoXCJlcnJvclwiLG4sZSl9LFxyXG5cImlkbGVMaXN0ZW5lclwiKX1hKEFjLFwibWFrZUlkbGVMaXN0ZW5lclwiKTt2YXIgbW49Y2xhc3MgbW4gZXh0ZW5kcyB2Y3tjb25zdHJ1Y3RvcihlLHQpe1xyXG5zdXBlcigpLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LGUpLGUhPW51bGwmJlwicGFzc3dvcmRcImluIGUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxudGhpcy5vcHRpb25zLFwicGFzc3dvcmRcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6ZS5wYXNzd29yZH0pLFxyXG5lIT1udWxsJiZlLnNzbCYmZS5zc2wua2V5JiZPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5vcHRpb25zLnNzbCxcImtleVwiLHtlbnVtZXJhYmxlOiExfSksXHJcbnRoaXMub3B0aW9ucy5tYXg9dGhpcy5vcHRpb25zLm1heHx8dGhpcy5vcHRpb25zLnBvb2xTaXplfHwxMCx0aGlzLm9wdGlvbnMubWF4VXNlcz1cclxudGhpcy5vcHRpb25zLm1heFVzZXN8fDEvMCx0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlPXRoaXMub3B0aW9ucy5hbGxvd0V4aXRPbklkbGV8fFxyXG4hMSx0aGlzLm9wdGlvbnMubWF4TGlmZXRpbWVTZWNvbmRzPXRoaXMub3B0aW9ucy5tYXhMaWZldGltZVNlY29uZHN8fDAsdGhpcy5sb2c9dGhpcy5cclxub3B0aW9ucy5sb2d8fGZ1bmN0aW9uKCl7fSx0aGlzLkNsaWVudD10aGlzLm9wdGlvbnMuQ2xpZW50fHx0fHxBdCgpLkNsaWVudCx0aGlzLlByb21pc2U9XHJcbnRoaXMub3B0aW9ucy5Qcm9taXNlfHxiLlByb21pc2UsdHlwZW9mIHRoaXMub3B0aW9ucy5pZGxlVGltZW91dE1pbGxpcz5cInVcIiYmKHRoaXMuXHJcbm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXM9MWU0KSx0aGlzLl9jbGllbnRzPVtdLHRoaXMuX2lkbGU9W10sdGhpcy5fZXhwaXJlZD1uZXcgV2Vha1NldCxcclxudGhpcy5fcGVuZGluZ1F1ZXVlPVtdLHRoaXMuX2VuZENhbGxiYWNrPXZvaWQgMCx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExfV9pc0Z1bGwoKXtcclxucmV0dXJuIHRoaXMuX2NsaWVudHMubGVuZ3RoPj10aGlzLm9wdGlvbnMubWF4fV9wdWxzZVF1ZXVlKCl7aWYodGhpcy5sb2coXCJwdWxzZSBxXFxcclxudWV1ZVwiKSx0aGlzLmVuZGVkKXt0aGlzLmxvZyhcInB1bHNlIHF1ZXVlIGVuZGVkXCIpO3JldHVybn1pZih0aGlzLmVuZGluZyl7dGhpcy5sb2coXHJcblwicHVsc2UgcXVldWUgb24gZW5kaW5nXCIpLHRoaXMuX2lkbGUubGVuZ3RoJiZ0aGlzLl9pZGxlLnNsaWNlKCkubWFwKHQ9Pnt0aGlzLl9yZW1vdmUoXHJcbnQuY2xpZW50KX0pLHRoaXMuX2NsaWVudHMubGVuZ3RofHwodGhpcy5lbmRlZD0hMCx0aGlzLl9lbmRDYWxsYmFjaygpKTtyZXR1cm59aWYoIXRoaXMuXHJcbl9wZW5kaW5nUXVldWUubGVuZ3RoKXt0aGlzLmxvZyhcIm5vIHF1ZXVlZCByZXF1ZXN0c1wiKTtyZXR1cm59aWYoIXRoaXMuX2lkbGUubGVuZ3RoJiZcclxudGhpcy5faXNGdWxsKCkpcmV0dXJuO2xldCBlPXRoaXMuX3BlbmRpbmdRdWV1ZS5zaGlmdCgpO2lmKHRoaXMuX2lkbGUubGVuZ3RoKXtsZXQgdD10aGlzLlxyXG5faWRsZS5wb3AoKTtjbGVhclRpbWVvdXQodC50aW1lb3V0SWQpO2xldCBuPXQuY2xpZW50O24ucmVmJiZuLnJlZigpO2xldCBpPXQuaWRsZUxpc3RlbmVyO1xyXG5yZXR1cm4gdGhpcy5fYWNxdWlyZUNsaWVudChuLGUsaSwhMSl9aWYoIXRoaXMuX2lzRnVsbCgpKXJldHVybiB0aGlzLm5ld0NsaWVudChlKTtcclxudGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCBjb25kaXRpb25cIil9X3JlbW92ZShlKXtsZXQgdD1Gcyh0aGlzLl9pZGxlLG49Pm4uY2xpZW50PT09XHJcbmUpO3QhPT12b2lkIDAmJmNsZWFyVGltZW91dCh0LnRpbWVvdXRJZCksdGhpcy5fY2xpZW50cz10aGlzLl9jbGllbnRzLmZpbHRlcihuPT5uIT09XHJcbmUpLGUuZW5kKCksdGhpcy5lbWl0KFwicmVtb3ZlXCIsZSl9Y29ubmVjdChlKXtpZih0aGlzLmVuZGluZyl7bGV0IGk9bmV3IEVycm9yKFwiQ2FuXFxcclxubm90IHVzZSBhIHBvb2wgYWZ0ZXIgY2FsbGluZyBlbmQgb24gdGhlIHBvb2xcIik7cmV0dXJuIGU/ZShpKTp0aGlzLlByb21pc2UucmVqZWN0KFxyXG5pKX1sZXQgdD1fdCh0aGlzLlByb21pc2UsZSksbj10LnJlc3VsdDtpZih0aGlzLl9pc0Z1bGwoKXx8dGhpcy5faWRsZS5sZW5ndGgpe2lmKHRoaXMuXHJcbl9pZGxlLmxlbmd0aCYmbS5uZXh0VGljaygoKT0+dGhpcy5fcHVsc2VRdWV1ZSgpKSwhdGhpcy5vcHRpb25zLmNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzKVxyXG5yZXR1cm4gdGhpcy5fcGVuZGluZ1F1ZXVlLnB1c2gobmV3IE5lKHQuY2FsbGJhY2spKSxuO2xldCBpPWEoKHUsYyxoKT0+e2NsZWFyVGltZW91dChcclxubyksdC5jYWxsYmFjayh1LGMsaCl9LFwicXVldWVDYWxsYmFja1wiKSxzPW5ldyBOZShpKSxvPXNldFRpbWVvdXQoKCk9PntGcyh0aGlzLl9wZW5kaW5nUXVldWUsXHJcbnU9PnUuY2FsbGJhY2s9PT1pKSxzLnRpbWVkT3V0PSEwLHQuY2FsbGJhY2sobmV3IEVycm9yKFwidGltZW91dCBleGNlZWRlZCB3aGVuIHRyeVxcXHJcbmluZyB0byBjb25uZWN0XCIpKX0sdGhpcy5vcHRpb25zLmNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzKTtyZXR1cm4gdGhpcy5fcGVuZGluZ1F1ZXVlLlxyXG5wdXNoKHMpLG59cmV0dXJuIHRoaXMubmV3Q2xpZW50KG5ldyBOZSh0LmNhbGxiYWNrKSksbn1uZXdDbGllbnQoZSl7bGV0IHQ9bmV3IHRoaXMuXHJcbkNsaWVudCh0aGlzLm9wdGlvbnMpO3RoaXMuX2NsaWVudHMucHVzaCh0KTtsZXQgbj1BYyh0aGlzLHQpO3RoaXMubG9nKFwiY2hlY2tpbmcgY1xcXHJcbmxpZW50IHRpbWVvdXRcIik7bGV0IGkscz0hMTt0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMmJihpPXNldFRpbWVvdXQoKCk9PntcclxudGhpcy5sb2coXCJlbmRpbmcgY2xpZW50IGR1ZSB0byB0aW1lb3V0XCIpLHM9ITAsdC5jb25uZWN0aW9uP3QuY29ubmVjdGlvbi5zdHJlYW0uZGVzdHJveSgpOlxyXG50LmVuZCgpfSx0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpKSx0aGlzLmxvZyhcImNvbm5lY3RpbmcgbmV3IGNsaWVudFwiKSxcclxudC5jb25uZWN0KG89PntpZihpJiZjbGVhclRpbWVvdXQoaSksdC5vbihcImVycm9yXCIsbiksbyl0aGlzLmxvZyhcImNsaWVudCBmYWlsZWQgdG9cXFxyXG4gY29ubmVjdFwiLG8pLHRoaXMuX2NsaWVudHM9dGhpcy5fY2xpZW50cy5maWx0ZXIodT0+dSE9PXQpLHMmJihvLm1lc3NhZ2U9XCJDb25uZWN0XFxcclxuaW9uIHRlcm1pbmF0ZWQgZHVlIHRvIGNvbm5lY3Rpb24gdGltZW91dFwiKSx0aGlzLl9wdWxzZVF1ZXVlKCksZS50aW1lZE91dHx8ZS5jYWxsYmFjayhcclxubyx2b2lkIDAsUnMpO2Vsc2V7aWYodGhpcy5sb2coXCJuZXcgY2xpZW50IGNvbm5lY3RlZFwiKSx0aGlzLm9wdGlvbnMubWF4TGlmZXRpbWVTZWNvbmRzIT09XHJcbjApe2xldCB1PXNldFRpbWVvdXQoKCk9Pnt0aGlzLmxvZyhcImVuZGluZyBjbGllbnQgZHVlIHRvIGV4cGlyZWQgbGlmZXRpbWVcIiksdGhpcy5cclxuX2V4cGlyZWQuYWRkKHQpLHRoaXMuX2lkbGUuZmluZEluZGV4KGg9PmguY2xpZW50PT09dCkhPT0tMSYmdGhpcy5fYWNxdWlyZUNsaWVudChcclxudCxuZXcgTmUoKGgsbCx5KT0+eSgpKSxuLCExKX0sdGhpcy5vcHRpb25zLm1heExpZmV0aW1lU2Vjb25kcyoxZTMpO3UudW5yZWYoKSx0Lm9uY2UoXHJcblwiZW5kXCIsKCk9PmNsZWFyVGltZW91dCh1KSl9cmV0dXJuIHRoaXMuX2FjcXVpcmVDbGllbnQodCxlLG4sITApfX0pfV9hY3F1aXJlQ2xpZW50KGUsdCxuLGkpe1xyXG5pJiZ0aGlzLmVtaXQoXCJjb25uZWN0XCIsZSksdGhpcy5lbWl0KFwiYWNxdWlyZVwiLGUpLGUucmVsZWFzZT10aGlzLl9yZWxlYXNlT25jZShlLG4pLFxyXG5lLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixuKSx0LnRpbWVkT3V0P2kmJnRoaXMub3B0aW9ucy52ZXJpZnk/dGhpcy5vcHRpb25zLnZlcmlmeShcclxuZSxlLnJlbGVhc2UpOmUucmVsZWFzZSgpOmkmJnRoaXMub3B0aW9ucy52ZXJpZnk/dGhpcy5vcHRpb25zLnZlcmlmeShlLHM9PntpZihzKXJldHVybiBlLlxyXG5yZWxlYXNlKHMpLHQuY2FsbGJhY2socyx2b2lkIDAsUnMpO3QuY2FsbGJhY2sodm9pZCAwLGUsZS5yZWxlYXNlKX0pOnQuY2FsbGJhY2sodm9pZCAwLFxyXG5lLGUucmVsZWFzZSl9X3JlbGVhc2VPbmNlKGUsdCl7bGV0IG49ITE7cmV0dXJuIGk9PntuJiZfYygpLG49ITAsdGhpcy5fcmVsZWFzZShlLFxyXG50LGkpfX1fcmVsZWFzZShlLHQsbil7aWYoZS5vbihcImVycm9yXCIsdCksZS5fcG9vbFVzZUNvdW50PShlLl9wb29sVXNlQ291bnR8fDApKzEsXHJcbnRoaXMuZW1pdChcInJlbGVhc2VcIixuLGUpLG58fHRoaXMuZW5kaW5nfHwhZS5fcXVlcnlhYmxlfHxlLl9lbmRpbmd8fGUuX3Bvb2xVc2VDb3VudD49XHJcbnRoaXMub3B0aW9ucy5tYXhVc2VzKXtlLl9wb29sVXNlQ291bnQ+PXRoaXMub3B0aW9ucy5tYXhVc2VzJiZ0aGlzLmxvZyhcInJlbW92ZSBleFxcXHJcbnBlbmRlZCBjbGllbnRcIiksdGhpcy5fcmVtb3ZlKGUpLHRoaXMuX3B1bHNlUXVldWUoKTtyZXR1cm59aWYodGhpcy5fZXhwaXJlZC5oYXMoZSkpe1xyXG50aGlzLmxvZyhcInJlbW92ZSBleHBpcmVkIGNsaWVudFwiKSx0aGlzLl9leHBpcmVkLmRlbGV0ZShlKSx0aGlzLl9yZW1vdmUoZSksdGhpcy5fcHVsc2VRdWV1ZSgpO1xyXG5yZXR1cm59bGV0IHM7dGhpcy5vcHRpb25zLmlkbGVUaW1lb3V0TWlsbGlzJiYocz1zZXRUaW1lb3V0KCgpPT57dGhpcy5sb2coXCJyZW1vdmVcXFxyXG4gaWRsZSBjbGllbnRcIiksdGhpcy5fcmVtb3ZlKGUpfSx0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMpLHRoaXMub3B0aW9ucy5hbGxvd0V4aXRPbklkbGUmJlxyXG5zLnVucmVmKCkpLHRoaXMub3B0aW9ucy5hbGxvd0V4aXRPbklkbGUmJmUudW5yZWYoKSx0aGlzLl9pZGxlLnB1c2gobmV3IGZuKGUsdCxzKSksXHJcbnRoaXMuX3B1bHNlUXVldWUoKX1xdWVyeShlLHQsbil7aWYodHlwZW9mIGU9PVwiZnVuY3Rpb25cIil7bGV0IHM9X3QodGhpcy5Qcm9taXNlLGUpO1xyXG5yZXR1cm4gUyhmdW5jdGlvbigpe3JldHVybiBzLmNhbGxiYWNrKG5ldyBFcnJvcihcIlBhc3NpbmcgYSBmdW5jdGlvbiBhcyB0aGUgZmlyc3RcXFxyXG4gcGFyYW1ldGVyIHRvIHBvb2wucXVlcnkgaXMgbm90IHN1cHBvcnRlZFwiKSl9KSxzLnJlc3VsdH10eXBlb2YgdD09XCJmdW5jdGlvblwiJiYobj1cclxudCx0PXZvaWQgMCk7bGV0IGk9X3QodGhpcy5Qcm9taXNlLG4pO3JldHVybiBuPWkuY2FsbGJhY2ssdGhpcy5jb25uZWN0KChzLG8pPT57aWYocylcclxucmV0dXJuIG4ocyk7bGV0IHU9ITEsYz1hKGg9Pnt1fHwodT0hMCxvLnJlbGVhc2UoaCksbihoKSl9LFwib25FcnJvclwiKTtvLm9uY2UoXCJlcnJcXFxyXG5vclwiLGMpLHRoaXMubG9nKFwiZGlzcGF0Y2hpbmcgcXVlcnlcIik7dHJ5e28ucXVlcnkoZSx0LChoLGwpPT57aWYodGhpcy5sb2coXCJxdWVyeSBcXFxyXG5kaXNwYXRjaGVkXCIpLG8ucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGMpLCF1KXJldHVybiB1PSEwLG8ucmVsZWFzZShoKSxoP24oaCk6bih2b2lkIDAsXHJcbmwpfSl9Y2F0Y2goaCl7cmV0dXJuIG8ucmVsZWFzZShoKSxuKGgpfX0pLGkucmVzdWx0fWVuZChlKXtpZih0aGlzLmxvZyhcImVuZGluZ1wiKSxcclxudGhpcy5lbmRpbmcpe2xldCBuPW5ldyBFcnJvcihcIkNhbGxlZCBlbmQgb24gcG9vbCBtb3JlIHRoYW4gb25jZVwiKTtyZXR1cm4gZT9lKG4pOlxyXG50aGlzLlByb21pc2UucmVqZWN0KG4pfXRoaXMuZW5kaW5nPSEwO2xldCB0PV90KHRoaXMuUHJvbWlzZSxlKTtyZXR1cm4gdGhpcy5fZW5kQ2FsbGJhY2s9XHJcbnQuY2FsbGJhY2ssdGhpcy5fcHVsc2VRdWV1ZSgpLHQucmVzdWx0fWdldCB3YWl0aW5nQ291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ1F1ZXVlLlxyXG5sZW5ndGh9Z2V0IGlkbGVDb3VudCgpe3JldHVybiB0aGlzLl9pZGxlLmxlbmd0aH1nZXQgZXhwaXJlZENvdW50KCl7cmV0dXJuIHRoaXMuX2NsaWVudHMuXHJcbnJlZHVjZSgoZSx0KT0+ZSsodGhpcy5fZXhwaXJlZC5oYXModCk/MTowKSwwKX1nZXQgdG90YWxDb3VudCgpe3JldHVybiB0aGlzLl9jbGllbnRzLlxyXG5sZW5ndGh9fTthKG1uLFwiUG9vbFwiKTt2YXIgcG49bW47TXMuZXhwb3J0cz1wbn0pO3ZhciBPcz17fTtYKE9zLHtkZWZhdWx0OigpPT5DY30pO3ZhciBDYyxrcz1LKCgpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO0NjPXt9fSk7dmFyIFVzPUkoKGZmLEljKT0+e0ljLmV4cG9ydHM9e25hbWU6XCJwZ1wiLHZlcnNpb246XCI4LjguMFwiLGRlc2NyaXB0aW9uOlwiUG9zdGdyZVNRTFxcXHJcbiBjbGllbnQgLSBwdXJlIGphdmFzY3JpcHQgJiBsaWJwcSB3aXRoIHRoZSBzYW1lIEFQSVwiLGtleXdvcmRzOltcImRhdGFiYXNlXCIsXCJsaWJwcVwiLFxyXG5cInBnXCIsXCJwb3N0Z3JlXCIsXCJwb3N0Z3Jlc1wiLFwicG9zdGdyZXNxbFwiLFwicmRibXNcIl0saG9tZXBhZ2U6XCJodHRwczovL2dpdGh1Yi5jb20vYnJpXFxcclxuYW5jL25vZGUtcG9zdGdyZXNcIixyZXBvc2l0b3J5Ont0eXBlOlwiZ2l0XCIsdXJsOlwiZ2l0Oi8vZ2l0aHViLmNvbS9icmlhbmMvbm9kZS1wb3N0XFxcclxuZ3Jlcy5naXRcIixkaXJlY3Rvcnk6XCJwYWNrYWdlcy9wZ1wifSxhdXRob3I6XCJCcmlhbiBDYXJsc29uIDxicmlhbi5tLmNhcmxzb25AZ21haWwuXFxcclxuY29tPlwiLG1haW46XCIuL2xpYlwiLGRlcGVuZGVuY2llczp7XCJidWZmZXItd3JpdGVyXCI6XCIyLjAuMFwiLFwicGFja2V0LXJlYWRlclwiOlwiMS4wLjBcIixcclxuXCJwZy1jb25uZWN0aW9uLXN0cmluZ1wiOlwiXjIuNS4wXCIsXCJwZy1wb29sXCI6XCJeMy41LjJcIixcInBnLXByb3RvY29sXCI6XCJeMS41LjBcIixcInBnLXR5XFxcclxucGVzXCI6XCJeMi4xLjBcIixwZ3Bhc3M6XCIxLnhcIn0sZGV2RGVwZW5kZW5jaWVzOnthc3luYzpcIjIuNi40XCIsYmx1ZWJpcmQ6XCIzLjUuMlwiLGNvOlwiXFxcclxuNC42LjBcIixcInBnLWNvcHktc3RyZWFtc1wiOlwiMC4zLjBcIn0scGVlckRlcGVuZGVuY2llczp7XCJwZy1uYXRpdmVcIjpcIj49My4wLjFcIn0scGVlckRlcGVuZGVuY2llc01ldGE6e1xyXG5cInBnLW5hdGl2ZVwiOntvcHRpb25hbDohMH19LHNjcmlwdHM6e3Rlc3Q6XCJtYWtlIHRlc3QtYWxsXCJ9LGZpbGVzOltcImxpYlwiLFwiU1BPTlNPUlNcXFxyXG4ubWRcIl0sbGljZW5zZTpcIk1JVFwiLGVuZ2luZXM6e25vZGU6XCI+PSA4LjAuMFwifSxnaXRIZWFkOlwiYzk5ZmIyYzEyN2RkZjhkNzEyNTAwZGIyY1xcXHJcbjdiOWE1NDkxYTE3ODY1NVwifX0pO3ZhciBRcz1JKChwZixOcyk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIHFzPWdlKCkuRXZlbnRFbWl0dGVyLFRjPShHZSgpLGsoSGUpKSxnbj10dCgpLFxyXG5RZT1Ocy5leHBvcnRzPWZ1bmN0aW9uKHIsZSx0KXtxcy5jYWxsKHRoaXMpLHI9Z24ubm9ybWFsaXplUXVlcnlDb25maWcocixlLHQpLHRoaXMuXHJcbnRleHQ9ci50ZXh0LHRoaXMudmFsdWVzPXIudmFsdWVzLHRoaXMubmFtZT1yLm5hbWUsdGhpcy5jYWxsYmFjaz1yLmNhbGxiYWNrLHRoaXMuXHJcbnN0YXRlPVwibmV3XCIsdGhpcy5fYXJyYXlNb2RlPXIucm93TW9kZT09PVwiYXJyYXlcIix0aGlzLl9lbWl0Um93RXZlbnRzPSExLHRoaXMub24oXCJcXFxyXG5uZXdMaXN0ZW5lclwiLGZ1bmN0aW9uKG4pe249PT1cInJvd1wiJiYodGhpcy5fZW1pdFJvd0V2ZW50cz0hMCl9LmJpbmQodGhpcykpfTtUYy5pbmhlcml0cyhcclxuUWUscXMpO3ZhciBQYz17c3FsU3RhdGU6XCJjb2RlXCIsc3RhdGVtZW50UG9zaXRpb246XCJwb3NpdGlvblwiLG1lc3NhZ2VQcmltYXJ5OlwibWVzc1xcXHJcbmFnZVwiLGNvbnRleHQ6XCJ3aGVyZVwiLHNjaGVtYU5hbWU6XCJzY2hlbWFcIix0YWJsZU5hbWU6XCJ0YWJsZVwiLGNvbHVtbk5hbWU6XCJjb2x1bW5cIixkYXRhVHlwZU5hbWU6XCJcXFxyXG5kYXRhVHlwZVwiLGNvbnN0cmFpbnROYW1lOlwiY29uc3RyYWludFwiLHNvdXJjZUZpbGU6XCJmaWxlXCIsc291cmNlTGluZTpcImxpbmVcIixzb3VyY2VGdW5jdGlvbjpcIlxcXHJcbnJvdXRpbmVcIn07UWUucHJvdG90eXBlLmhhbmRsZUVycm9yPWZ1bmN0aW9uKHIpe3ZhciBlPXRoaXMubmF0aXZlLnBxLnJlc3VsdEVycm9yRmllbGRzKCk7XHJcbmlmKGUpZm9yKHZhciB0IGluIGUpe3ZhciBuPVBjW3RdfHx0O3Jbbl09ZVt0XX10aGlzLmNhbGxiYWNrP3RoaXMuY2FsbGJhY2socik6dGhpcy5cclxuZW1pdChcImVycm9yXCIsciksdGhpcy5zdGF0ZT1cImVycm9yXCJ9O1FlLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHRoaXMuXHJcbl9nZXRQcm9taXNlKCkudGhlbihyLGUpfTtRZS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMuX2dldFByb21pc2UoKS5cclxuY2F0Y2gocil9O1FlLnByb3RvdHlwZS5fZ2V0UHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlP3RoaXMuX3Byb21pc2U6XHJcbih0aGlzLl9wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsZSl7dGhpcy5fb25jZShcImVuZFwiLHIpLHRoaXMuX29uY2UoXCJlcnJvclwiLFxyXG5lKX0uYmluZCh0aGlzKSksdGhpcy5fcHJvbWlzZSl9O1FlLnByb3RvdHlwZS5zdWJtaXQ9ZnVuY3Rpb24ocil7dGhpcy5zdGF0ZT1cInJ1bm5cXFxyXG5pbmdcIjt2YXIgZT10aGlzO3RoaXMubmF0aXZlPXIubmF0aXZlLHIubmF0aXZlLmFycmF5TW9kZT10aGlzLl9hcnJheU1vZGU7dmFyIHQ9YShcclxuZnVuY3Rpb24ocyxvLHUpe2lmKHIubmF0aXZlLmFycmF5TW9kZT0hMSxTKGZ1bmN0aW9uKCl7ZS5lbWl0KFwiX2RvbmVcIil9KSxzKXJldHVybiBlLlxyXG5oYW5kbGVFcnJvcihzKTtlLl9lbWl0Um93RXZlbnRzJiYodS5sZW5ndGg+MT9vLmZvckVhY2goKGMsaCk9PntjLmZvckVhY2gobD0+e2UuZW1pdChcclxuXCJyb3dcIixsLHVbaF0pfSl9KTpvLmZvckVhY2goZnVuY3Rpb24oYyl7ZS5lbWl0KFwicm93XCIsYyx1KX0pKSxlLnN0YXRlPVwiZW5kXCIsZS5lbWl0KFxyXG5cImVuZFwiLHUpLGUuY2FsbGJhY2smJmUuY2FsbGJhY2sobnVsbCx1KX0sXCJhZnRlclwiKTtpZihtLmRvbWFpbiYmKHQ9bS5kb21haW4uYmluZChcclxudCkpLHRoaXMubmFtZSl7dGhpcy5uYW1lLmxlbmd0aD42MyYmKGNvbnNvbGUuZXJyb3IoXCJXYXJuaW5nISBQb3N0Z3JlcyBvbmx5IHN1cHBvXFxcclxucnRzIDYzIGNoYXJhY3RlcnMgZm9yIHF1ZXJ5IG5hbWVzLlwiKSxjb25zb2xlLmVycm9yKFwiWW91IHN1cHBsaWVkICVzICglcylcIix0aGlzLm5hbWUsXHJcbnRoaXMubmFtZS5sZW5ndGgpLGNvbnNvbGUuZXJyb3IoXCJUaGlzIGNhbiBjYXVzZSBjb25mbGljdHMgYW5kIHNpbGVudCBlcnJvcnMgZXhlY1xcXHJcbnV0aW5nIHF1ZXJpZXNcIikpO3ZhciBuPSh0aGlzLnZhbHVlc3x8W10pLm1hcChnbi5wcmVwYXJlVmFsdWUpO2lmKHIubmFtZWRRdWVyaWVzW3RoaXMuXHJcbm5hbWVdKXtpZih0aGlzLnRleHQmJnIubmFtZWRRdWVyaWVzW3RoaXMubmFtZV0hPT10aGlzLnRleHQpe2xldCBzPW5ldyBFcnJvcihgUHJlXFxcclxucGFyZWQgc3RhdGVtZW50cyBtdXN0IGJlIHVuaXF1ZSAtICcke3RoaXMubmFtZX0nIHdhcyB1c2VkIGZvciBhIGRpZmZlcmVudCBzdGF0ZW1cXFxyXG5lbnRgKTtyZXR1cm4gdChzKX1yZXR1cm4gci5uYXRpdmUuZXhlY3V0ZSh0aGlzLm5hbWUsbix0KX1yZXR1cm4gci5uYXRpdmUucHJlcGFyZShcclxudGhpcy5uYW1lLHRoaXMudGV4dCxuLmxlbmd0aCxmdW5jdGlvbihzKXtyZXR1cm4gcz90KHMpOihyLm5hbWVkUXVlcmllc1tlLm5hbWVdPWUuXHJcbnRleHQsZS5uYXRpdmUuZXhlY3V0ZShlLm5hbWUsbix0KSl9KX1lbHNlIGlmKHRoaXMudmFsdWVzKXtpZighQXJyYXkuaXNBcnJheSh0aGlzLlxyXG52YWx1ZXMpKXtsZXQgcz1uZXcgRXJyb3IoXCJRdWVyeSB2YWx1ZXMgbXVzdCBiZSBhbiBhcnJheVwiKTtyZXR1cm4gdChzKX12YXIgaT10aGlzLlxyXG52YWx1ZXMubWFwKGduLnByZXBhcmVWYWx1ZSk7ci5uYXRpdmUucXVlcnkodGhpcy50ZXh0LGksdCl9ZWxzZSByLm5hdGl2ZS5xdWVyeSh0aGlzLlxyXG50ZXh0LHQpfX0pO3ZhciBHcz1JKChnZixIcyk9PntcInVzZSBzdHJpY3RcIjtwKCk7dmFyIEJjPShrcygpLGsoT3MpKSxMYz1ocigpLG1mPVVzKCksV3M9Z2UoKS5cclxuRXZlbnRFbWl0dGVyLFJjPShHZSgpLGsoSGUpKSxGYz1ndCgpLGpzPVFzKCksWj1Icy5leHBvcnRzPWZ1bmN0aW9uKHIpe1dzLmNhbGwodGhpcyksXHJcbnI9cnx8e30sdGhpcy5fUHJvbWlzZT1yLlByb21pc2V8fGIuUHJvbWlzZSx0aGlzLl90eXBlcz1uZXcgTGMoci50eXBlcyksdGhpcy5uYXRpdmU9XHJcbm5ldyBCYyh7dHlwZXM6dGhpcy5fdHlwZXN9KSx0aGlzLl9xdWVyeVF1ZXVlPVtdLHRoaXMuX2VuZGluZz0hMSx0aGlzLl9jb25uZWN0aW5nPVxyXG4hMSx0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpcy5fcXVlcnlhYmxlPSEwO3ZhciBlPXRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnM9bmV3IEZjKFxyXG5yKTt0aGlzLnVzZXI9ZS51c2VyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFzc3dvcmRcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsXHJcbndyaXRhYmxlOiEwLHZhbHVlOmUucGFzc3dvcmR9KSx0aGlzLmRhdGFiYXNlPWUuZGF0YWJhc2UsdGhpcy5ob3N0PWUuaG9zdCx0aGlzLnBvcnQ9XHJcbmUucG9ydCx0aGlzLm5hbWVkUXVlcmllcz17fX07Wi5RdWVyeT1qcztSYy5pbmhlcml0cyhaLFdzKTtaLnByb3RvdHlwZS5fZXJyb3JBbGxRdWVyaWVzPVxyXG5mdW5jdGlvbihyKXtsZXQgZT1hKHQ9PnttLm5leHRUaWNrKCgpPT57dC5uYXRpdmU9dGhpcy5uYXRpdmUsdC5oYW5kbGVFcnJvcihyKX0pfSxcclxuXCJlbnF1ZXVlRXJyb3JcIik7dGhpcy5faGFzQWN0aXZlUXVlcnkoKSYmKGUodGhpcy5fYWN0aXZlUXVlcnkpLHRoaXMuX2FjdGl2ZVF1ZXJ5PVxyXG5udWxsKSx0aGlzLl9xdWVyeVF1ZXVlLmZvckVhY2goZSksdGhpcy5fcXVlcnlRdWV1ZS5sZW5ndGg9MH07Wi5wcm90b3R5cGUuX2Nvbm5lY3Q9XHJcbmZ1bmN0aW9uKHIpe3ZhciBlPXRoaXM7aWYodGhpcy5fY29ubmVjdGluZyl7bS5uZXh0VGljaygoKT0+cihuZXcgRXJyb3IoXCJDbGllbnQgaFxcXHJcbmFzIGFscmVhZHkgYmVlbiBjb25uZWN0ZWQuIFlvdSBjYW5ub3QgcmV1c2UgYSBjbGllbnQuXCIpKSk7cmV0dXJufXRoaXMuX2Nvbm5lY3Rpbmc9XHJcbiEwLHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuZ2V0TGlicHFDb25uZWN0aW9uU3RyaW5nKGZ1bmN0aW9uKHQsbil7aWYodClyZXR1cm4gcihcclxudCk7ZS5uYXRpdmUuY29ubmVjdChuLGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIGUubmF0aXZlLmVuZCgpLHIoaSk7ZS5fY29ubmVjdGVkPSEwLFxyXG5lLm5hdGl2ZS5vbihcImVycm9yXCIsZnVuY3Rpb24ocyl7ZS5fcXVlcnlhYmxlPSExLGUuX2Vycm9yQWxsUXVlcmllcyhzKSxlLmVtaXQoXCJlclxcXHJcbnJvclwiLHMpfSksZS5uYXRpdmUub24oXCJub3RpZmljYXRpb25cIixmdW5jdGlvbihzKXtlLmVtaXQoXCJub3RpZmljYXRpb25cIix7Y2hhbm5lbDpzLlxyXG5yZWxuYW1lLHBheWxvYWQ6cy5leHRyYX0pfSksZS5lbWl0KFwiY29ubmVjdFwiKSxlLl9wdWxzZVF1ZXJ5UXVldWUoITApLHIoKX0pfSl9O1ouXHJcbnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKHIpe2lmKHIpe3RoaXMuX2Nvbm5lY3Qocik7cmV0dXJufXJldHVybiBuZXcgdGhpcy5fUHJvbWlzZShcclxuKGUsdCk9Pnt0aGlzLl9jb25uZWN0KG49PntuP3Qobik6ZSgpfSl9KX07Wi5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24ocixlLHQpe3ZhciBuLFxyXG5pLHMsbyx1O2lmKHI9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsaWVudCB3YXMgcGFzc2VkIGEgbnVsbCBvciB1bmRlZmluZWQgcXVcXFxyXG5lcnlcIik7aWYodHlwZW9mIHIuc3VibWl0PT1cImZ1bmN0aW9uXCIpcz1yLnF1ZXJ5X3RpbWVvdXR8fHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuXHJcbnF1ZXJ5X3RpbWVvdXQsaT1uPXIsdHlwZW9mIGU9PVwiZnVuY3Rpb25cIiYmKHIuY2FsbGJhY2s9ZSk7ZWxzZSBpZihzPXRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuXHJcbnF1ZXJ5X3RpbWVvdXQsbj1uZXcganMocixlLHQpLCFuLmNhbGxiYWNrKXtsZXQgYyxoO2k9bmV3IHRoaXMuX1Byb21pc2UoKGwseSk9PntjPVxyXG5sLGg9eX0pLG4uY2FsbGJhY2s9KGwseSk9Pmw/aChsKTpjKHkpfXJldHVybiBzJiYodT1uLmNhbGxiYWNrLG89c2V0VGltZW91dCgoKT0+e1xyXG52YXIgYz1uZXcgRXJyb3IoXCJRdWVyeSByZWFkIHRpbWVvdXRcIik7bS5uZXh0VGljaygoKT0+e24uaGFuZGxlRXJyb3IoYyx0aGlzLmNvbm5lY3Rpb24pfSksXHJcbnUoYyksbi5jYWxsYmFjaz0oKT0+e307dmFyIGg9dGhpcy5fcXVlcnlRdWV1ZS5pbmRleE9mKG4pO2g+LTEmJnRoaXMuX3F1ZXJ5UXVldWUuXHJcbnNwbGljZShoLDEpLHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpfSxzKSxuLmNhbGxiYWNrPShjLGgpPT57Y2xlYXJUaW1lb3V0KG8pLHUoYyxoKX0pLFxyXG50aGlzLl9xdWVyeWFibGU/dGhpcy5fZW5kaW5nPyhuLm5hdGl2ZT10aGlzLm5hdGl2ZSxtLm5leHRUaWNrKCgpPT57bi5oYW5kbGVFcnJvcihcclxubmV3IEVycm9yKFwiQ2xpZW50IHdhcyBjbG9zZWQgYW5kIGlzIG5vdCBxdWVyeWFibGVcIikpfSksaSk6KHRoaXMuX3F1ZXJ5UXVldWUucHVzaChcclxubiksdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKCksaSk6KG4ubmF0aXZlPXRoaXMubmF0aXZlLG0ubmV4dFRpY2soKCk9PntuLmhhbmRsZUVycm9yKFxyXG5uZXcgRXJyb3IoXCJDbGllbnQgaGFzIGVuY291bnRlcmVkIGEgY29ubmVjdGlvbiBlcnJvciBhbmQgaXMgbm90IHF1ZXJ5YWJsZVwiKSl9KSxpKX07XHJcbloucHJvdG90eXBlLmVuZD1mdW5jdGlvbihyKXt2YXIgZT10aGlzO3RoaXMuX2VuZGluZz0hMCx0aGlzLl9jb25uZWN0ZWR8fHRoaXMub25jZShcclxuXCJjb25uZWN0XCIsdGhpcy5lbmQuYmluZCh0aGlzLHIpKTt2YXIgdDtyZXR1cm4gcnx8KHQ9bmV3IHRoaXMuX1Byb21pc2UoZnVuY3Rpb24obixpKXtcclxucj1hKHM9PnM/aShzKTpuKCksXCJjYlwiKX0pKSx0aGlzLm5hdGl2ZS5lbmQoZnVuY3Rpb24oKXtlLl9lcnJvckFsbFF1ZXJpZXMobmV3IEVycm9yKFxyXG5cIkNvbm5lY3Rpb24gdGVybWluYXRlZFwiKSksbS5uZXh0VGljaygoKT0+e2UuZW1pdChcImVuZFwiKSxyJiZyKCl9KX0pLHR9O1oucHJvdG90eXBlLlxyXG5faGFzQWN0aXZlUXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlUXVlcnkmJnRoaXMuX2FjdGl2ZVF1ZXJ5LnN0YXRlIT09XCJcXFxyXG5lcnJvclwiJiZ0aGlzLl9hY3RpdmVRdWVyeS5zdGF0ZSE9PVwiZW5kXCJ9O1oucHJvdG90eXBlLl9wdWxzZVF1ZXJ5UXVldWU9ZnVuY3Rpb24ocil7XHJcbmlmKHRoaXMuX2Nvbm5lY3RlZCYmIXRoaXMuX2hhc0FjdGl2ZVF1ZXJ5KCkpe3ZhciBlPXRoaXMuX3F1ZXJ5UXVldWUuc2hpZnQoKTtpZighZSl7XHJcbnJ8fHRoaXMuZW1pdChcImRyYWluXCIpO3JldHVybn10aGlzLl9hY3RpdmVRdWVyeT1lLGUuc3VibWl0KHRoaXMpO3ZhciB0PXRoaXM7ZS5vbmNlKFxyXG5cIl9kb25lXCIsZnVuY3Rpb24oKXt0Ll9wdWxzZVF1ZXJ5UXVldWUoKX0pfX07Wi5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHIpe3RoaXMuXHJcbl9hY3RpdmVRdWVyeT09PXI/dGhpcy5uYXRpdmUuY2FuY2VsKGZ1bmN0aW9uKCl7fSk6dGhpcy5fcXVlcnlRdWV1ZS5pbmRleE9mKHIpIT09XHJcbi0xJiZ0aGlzLl9xdWVyeVF1ZXVlLnNwbGljZSh0aGlzLl9xdWVyeVF1ZXVlLmluZGV4T2YociksMSl9O1oucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe307XHJcbloucHJvdG90eXBlLnVucmVmPWZ1bmN0aW9uKCl7fTtaLnByb3RvdHlwZS5zZXRUeXBlUGFyc2VyPWZ1bmN0aW9uKHIsZSx0KXtyZXR1cm4gdGhpcy5cclxuX3R5cGVzLnNldFR5cGVQYXJzZXIocixlLHQpfTtaLnByb3RvdHlwZS5nZXRUeXBlUGFyc2VyPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHRoaXMuXHJcbl90eXBlcy5nZXRUeXBlUGFyc2VyKHIsZSl9fSk7dmFyIHduPUkoKFNmLCRzKT0+e1widXNlIHN0cmljdFwiO3AoKTskcy5leHBvcnRzPUdzKCl9KTt2YXIgQXQ9SSgoRWYsbnQpPT57XCJ1c2Ugc3RyaWN0XCI7cCgpO3ZhciBNYz1McygpLERjPWV0KCksT2M9Y24oKSxrYz1EcygpLHtEYXRhYmFzZUVycm9yOlVjfT1vbigpLFxyXG5xYz1hKHI9Pnt2YXIgZTtyZXR1cm4gZT1jbGFzcyBleHRlbmRzIGtje2NvbnN0cnVjdG9yKG4pe3N1cGVyKG4scil9fSxhKGUsXCJCb3VuZFBcXFxyXG5vb2xcIiksZX0sXCJwb29sRmFjdG9yeVwiKSxibj1hKGZ1bmN0aW9uKHIpe3RoaXMuZGVmYXVsdHM9RGMsdGhpcy5DbGllbnQ9cix0aGlzLlF1ZXJ5PVxyXG50aGlzLkNsaWVudC5RdWVyeSx0aGlzLlBvb2w9cWModGhpcy5DbGllbnQpLHRoaXMuX3Bvb2xzPVtdLHRoaXMuQ29ubmVjdGlvbj1PYyx0aGlzLlxyXG50eXBlcz1YZSgpLHRoaXMuRGF0YWJhc2VFcnJvcj1VY30sXCJQR1wiKTt0eXBlb2YgbS5lbnYuTk9ERV9QR19GT1JDRV9OQVRJVkU8XCJ1XCI/bnQuXHJcbmV4cG9ydHM9bmV3IGJuKHduKCkpOihudC5leHBvcnRzPW5ldyBibihNYyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG50LmV4cG9ydHMsXCJuYVxcXHJcbnRpdmVcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsZ2V0KCl7dmFyIHI9bnVsbDt0cnl7cj1uZXcgYm4od24oKSl9Y2F0Y2goZSl7XHJcbmlmKGUuY29kZSE9PVwiTU9EVUxFX05PVF9GT1VORFwiKXRocm93IGV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShudC5leHBvcnRzLFwiXFxcclxubmF0aXZlXCIse3ZhbHVlOnJ9KSxyfX0pKX0pO3AoKTt2YXIgQ3Q9V2UoQXQoKSk7d3QoKTtwKCk7ZnIoKTt3dCgpO3ZhciB6cz1XZSh0dCgpKTt2YXIgU249Y2xhc3MgU24gZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7VCh0aGlzLFwibmFtZVwiLFwiTlxcXHJcbmVvbkRiRXJyb3JcIik7VCh0aGlzLFwiY29kZVwiLG51bGwpO1QodGhpcyxcInNvdXJjZUVycm9yXCIpfX07YShTbixcIk5lb25EYkVycm9yXCIpO3ZhciBBZT1TbixcclxuS3M9XCJ0cmFuc2FjdGlvbigpIGV4cGVjdHMgYW4gYXJyYXkgb2YgcXVlcmllcywgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXkgXFxcclxub2YgcXVlcmllc1wiO2Z1bmN0aW9uIFlzKHIse2FycmF5TW9kZTplLGZ1bGxSZXN1bHRzOnQsZmV0Y2hPcHRpb25zOm4saXNvbGF0aW9uTGV2ZWw6aSxcclxucmVhZE9ubHk6cyxkZWZlcnJhYmxlOm8scXVlcnlDYWxsYmFjazp1LHJlc3VsdENhbGxiYWNrOmN9PXt9KXtpZighcil0aHJvdyBuZXcgRXJyb3IoXHJcblwiTm8gZGF0YWJhc2UgY29ubmVjdGlvbiBzdHJpbmcgd2FzIHByb3ZpZGVkIHRvIGBuZW9uKClgLiBQZXJoYXBzIGFuIGVudmlyb25tZW50IFxcXHJcbnZhcmlhYmxlIGhhcyBub3QgYmVlbiBzZXQ/XCIpO2xldCBoO3RyeXtoPWxyKHIpfWNhdGNoe3Rocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIGNcXFxyXG5vbm5lY3Rpb24gc3RyaW5nIHByb3ZpZGVkIHRvIGBuZW9uKClgIGlzIG5vdCBhIHZhbGlkIFVSTC4gQ29ubmVjdGlvbiBzdHJpbmc6IFwiK1N0cmluZyhcclxucikpfWxldHtwcm90b2NvbDpsLHVzZXJuYW1lOnkscGFzc3dvcmQ6RSxob3N0bmFtZTpfLHBvcnQ6UCxwYXRobmFtZTpOfT1oO2lmKGwhPT1cclxuXCJwb3N0Z3JlczpcIiYmbCE9PVwicG9zdGdyZXNxbDpcInx8IXl8fCFFfHwhX3x8IU4pdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2UgY29ubmVjdFxcXHJcbmlvbiBzdHJpbmcgZm9ybWF0IGZvciBgbmVvbigpYCBzaG91bGQgYmU6IHBvc3RncmVzcWw6Ly91c2VyOnBhc3N3b3JkQGhvc3QudGxkL2RiXFxcclxubmFtZT9vcHRpb249dmFsdWVcIik7ZnVuY3Rpb24gSihBLC4uLmcpe2xldCBELEg7aWYodHlwZW9mIEE9PVwic3RyaW5nXCIpRD1BLEg9Z1sxXSxcclxuZz1nWzBdPz9bXTtlbHNle0Q9XCJcIjtmb3IobGV0IFc9MDtXPEEubGVuZ3RoO1crKylEKz1BW1ddLFc8Zy5sZW5ndGgmJihEKz1cIiRcIisoVysxKSl9XHJcbmc9Zy5tYXAoVz0+KDAsenMucHJlcGFyZVZhbHVlKShXKSk7bGV0IFE9e3F1ZXJ5OkQscGFyYW1zOmd9O3JldHVybiB1JiZ1KFEpLE5jKHBlLFxyXG5RLEgpfWEoSixcInJlc29sdmVcIiksSi50cmFuc2FjdGlvbj1hc3luYyhBLGcpPT57aWYodHlwZW9mIEE9PVwiZnVuY3Rpb25cIiYmKEE9QShKKSksXHJcbiFBcnJheS5pc0FycmF5KEEpKXRocm93IG5ldyBFcnJvcihLcyk7bGV0IEQ9QS5tYXAoSD0+e2lmKEhbU3ltYm9sLnRvU3RyaW5nVGFnXSE9PVxyXG5cIk5lb25RdWVyeVByb21pc2VcIil0aHJvdyBuZXcgRXJyb3IoS3MpO3JldHVybiBILnBhcmFtZXRlcml6ZWRRdWVyeX0pO3JldHVybiBwZShELFxyXG5nKX07YXN5bmMgZnVuY3Rpb24gcGUoQSxnKXtsZXQgRD1uPz97fSx7ZmV0Y2hFbmRwb2ludDpILGZldGNoQ29ubmVjdGlvbkNhY2hlOlEsZmV0Y2hGdW5jdGlvbjpXfT1fZSxcclxudWU9dHlwZW9mIEg9PVwiZnVuY3Rpb25cIj9IKF8sUCk6SCxkZT1BcnJheS5pc0FycmF5KEEpP3txdWVyaWVzOkF9OkEsTD1lPz8hMSxHPXQ/P1xyXG4hMSxjZT1pLHllPXMseGU9bztnIT09dm9pZCAwJiYoZy5hcnJheU1vZGUhPT12b2lkIDAmJihMPWcuYXJyYXlNb2RlKSxnLmZ1bGxSZXN1bHRzIT09XHJcbnZvaWQgMCYmKEc9Zy5mdWxsUmVzdWx0cyksZy5mZXRjaE9wdGlvbnMhPT12b2lkIDAmJihEPXsuLi5ELC4uLmcuZmV0Y2hPcHRpb25zfSksXHJcbmcuaXNvbGF0aW9uTGV2ZWwhPT12b2lkIDAmJihjZT1nLmlzb2xhdGlvbkxldmVsKSxnLnJlYWRPbmx5IT09dm9pZCAwJiYoeWU9Zy5yZWFkT25seSksXHJcbmcuZGVmZXJyYWJsZSE9PXZvaWQgMCYmKHhlPWcuZGVmZXJyYWJsZSkpO2xldCBoZT17XCJOZW9uLUNvbm5lY3Rpb24tU3RyaW5nXCI6cixcIk5lXFxcclxub24tUmF3LVRleHQtT3V0cHV0XCI6XCJ0cnVlXCIsXCJOZW9uLUFycmF5LU1vZGVcIjpcInRydWVcIn07UT09PSEwJiYoaGVbXCJOZW9uLVBvb2wtT3B0LVxcXHJcbkluXCJdPVwidHJ1ZVwiKSxBcnJheS5pc0FycmF5KEEpJiYoY2UhPT12b2lkIDAmJihoZVtcIk5lb24tQmF0Y2gtSXNvbGF0aW9uLUxldmVsXCJdPWNlKSxcclxueWUhPT12b2lkIDAmJihoZVtcIk5lb24tQmF0Y2gtUmVhZC1Pbmx5XCJdPVN0cmluZyh5ZSkpLHhlIT09dm9pZCAwJiYoaGVbXCJOZW9uLUJhdGNcXFxyXG5oLURlZmVycmFibGVcIl09U3RyaW5nKHhlKSkpO2xldCBpZTt0cnl7aWU9YXdhaXQoVz8/ZmV0Y2gpKHVlLHttZXRob2Q6XCJQT1NUXCIsYm9keTpKU09OLlxyXG5zdHJpbmdpZnkoZGUpLGhlYWRlcnM6aGUsLi4uRH0pfWNhdGNoKHNlKXtsZXQgJD1uZXcgQWUoYEVycm9yIGNvbm5lY3RpbmcgdG8gZGF0YVxcXHJcbmJhc2U6ICR7c2UubWVzc2FnZX1gKTt0aHJvdyAkLnNvdXJjZUVycm9yPXNlLCR9aWYoaWUub2spe2xldCBzZT1hd2FpdCBpZS5qc29uKCk7XHJcbmlmKEFycmF5LmlzQXJyYXkoQSkpe2xldCAkPXNlLnJlc3VsdHM7aWYoIUFycmF5LmlzQXJyYXkoJCkpdGhyb3cgbmV3IEFlKFwiTmVvbiBpblxcXHJcbnRlcm5hbCBlcnJvcjogdW5leHBlY3RlZCByZXN1bHQgZm9ybWF0XCIpO3JldHVybiAkLm1hcCgobmUsQ2UpPT5WcyhuZSx7YXJyYXlNb2RlOkwsXHJcbmZ1bGxSZXN1bHRzOkcscGFyYW1ldGVyaXplZFF1ZXJ5OkFbQ2VdLHJlc3VsdENhbGxiYWNrOmN9KSl9ZWxzZSByZXR1cm4gVnMoc2Use2FycmF5TW9kZTpMLFxyXG5mdWxsUmVzdWx0czpHLHBhcmFtZXRlcml6ZWRRdWVyeTpBLHJlc3VsdENhbGxiYWNrOmN9KX1lbHNle2xldHtzdGF0dXM6c2V9PWllO2lmKHNlPT09XHJcbjQwMCl7bGV0e21lc3NhZ2U6JCxjb2RlOm5lfT1hd2FpdCBpZS5qc29uKCksQ2U9bmV3IEFlKCQpO3Rocm93IENlLmNvZGU9bmUsQ2V9ZWxzZXtcclxubGV0ICQ9YXdhaXQgaWUudGV4dCgpO3Rocm93IG5ldyBBZShgU2VydmVyIGVycm9yIChIVFRQIHN0YXR1cyAke3NlfSk6ICR7JH1gKX19fXJldHVybiBhKFxyXG5wZSxcImV4ZWN1dGVcIiksSn1hKFlzLFwibmVvblwiKTtmdW5jdGlvbiBOYyhyLGUsdCl7cmV0dXJue1tTeW1ib2wudG9TdHJpbmdUYWddOlwiTmVvXFxcclxublF1ZXJ5UHJvbWlzZVwiLHBhcmFtZXRlcml6ZWRRdWVyeTplLG9wdHM6dCx0aGVuOihuLGkpPT5yKGUsdCkudGhlbihuLGkpLGNhdGNoOm49PnIoXHJcbmUsdCkuY2F0Y2gobiksZmluYWxseTpuPT5yKGUsdCkuZmluYWxseShuKX19YShOYyxcImNyZWF0ZU5lb25RdWVyeVByb21pc2VcIik7ZnVuY3Rpb24gVnMocix7XHJcbmFycmF5TW9kZTplLGZ1bGxSZXN1bHRzOnQscGFyYW1ldGVyaXplZFF1ZXJ5Om4scmVzdWx0Q2FsbGJhY2s6aX0pe2xldCBzPXIuZmllbGRzLlxyXG5tYXAoYz0+Yy5uYW1lKSxvPXIuZmllbGRzLm1hcChjPT5TZS50eXBlcy5nZXRUeXBlUGFyc2VyKGMuZGF0YVR5cGVJRCkpLHU9ZT09PSEwP1xyXG5yLnJvd3MubWFwKGM9PmMubWFwKChoLGwpPT5oPT09bnVsbD9udWxsOm9bbF0oaCkpKTpyLnJvd3MubWFwKGM9Pk9iamVjdC5mcm9tRW50cmllcyhcclxuYy5tYXAoKGgsbCk9PltzW2xdLGg9PT1udWxsP251bGw6b1tsXShoKV0pKSk7cmV0dXJuIGkmJmkobixyLHUse2FycmF5TW9kZTplLGZ1bGxSZXN1bHRzOnR9KSxcclxudD8oci52aWFOZW9uRmV0Y2g9ITAsci5yb3dBc0FycmF5PWUsci5yb3dzPXUscik6dX1hKFZzLFwicHJvY2Vzc1F1ZXJ5UmVzdWx0XCIpO3ZhciBKcz1XZShndCgpKSxTZT1XZShBdCgpKTt2YXIgRW49Y2xhc3MgRW4gZXh0ZW5kcyBDdC5DbGllbnR7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5jb25maWc9dH1nZXQgbmVvbkNvbmZpZygpe1xyXG5yZXR1cm4gdGhpcy5jb25uZWN0aW9uLnN0cmVhbX1jb25uZWN0KHQpe2xldHtuZW9uQ29uZmlnOm59PXRoaXM7bi5mb3JjZURpc2FibGVQZ1NTTCYmXHJcbih0aGlzLnNzbD10aGlzLmNvbm5lY3Rpb24uc3NsPSExKSx0aGlzLnNzbCYmbi51c2VTZWN1cmVXZWJTb2NrZXQmJmNvbnNvbGUud2FybihcIlxcXHJcblNTTCBpcyBlbmFibGVkIGZvciBib3RoIFBvc3RncmVzIChlLmcuID9zc2xtb2RlPXJlcXVpcmUgaW4gdGhlIGNvbm5lY3Rpb24gc3RyaW5nXFxcclxuICsgZm9yY2VEaXNhYmxlUGdTU0wgPSBmYWxzZSkgYW5kIHRoZSBXZWJTb2NrZXQgdHVubmVsICh1c2VTZWN1cmVXZWJTb2NrZXQgPSB0cnVcXFxyXG5lKS4gRG91YmxlIGVuY3J5cHRpb24gd2lsbCBpbmNyZWFzZSBsYXRlbmN5IGFuZCBDUFUgdXNhZ2UuIEl0IG1heSBiZSBhcHByb3ByaWF0ZVxcXHJcbiB0byBkaXNhYmxlIFNTTCBpbiB0aGUgUG9zdGdyZXMgY29ubmVjdGlvbiBwYXJhbWV0ZXJzIG9yIHNldCBmb3JjZURpc2FibGVQZ1NTTCA9XFxcclxuIHRydWUuXCIpO2xldCBpPXRoaXMuY29uZmlnPy5ob3N0IT09dm9pZCAwfHx0aGlzLmNvbmZpZz8uY29ubmVjdGlvblN0cmluZyE9PXZvaWQgMHx8XHJcbm0uZW52LlBHSE9TVCE9PXZvaWQgMCxzPW0uZW52LlVTRVI/P20uZW52LlVTRVJOQU1FO2lmKCFpJiZ0aGlzLmhvc3Q9PT1cImxvY2FsaG9zdFwiJiZcclxudGhpcy51c2VyPT09cyYmdGhpcy5kYXRhYmFzZT09PXMmJnRoaXMucGFzc3dvcmQ9PT1udWxsKXRocm93IG5ldyBFcnJvcihgTm8gZGF0YWJcXFxyXG5hc2UgaG9zdCBvciBjb25uZWN0aW9uIHN0cmluZyB3YXMgc2V0LCBhbmQga2V5IHBhcmFtZXRlcnMgaGF2ZSBkZWZhdWx0IHZhbHVlcyAoaFxcXHJcbm9zdDogbG9jYWxob3N0LCB1c2VyOiAke3N9LCBkYjogJHtzfSwgcGFzc3dvcmQ6IG51bGwpLiBJcyBhbiBlbnZpcm9ubWVudCB2YXJpYWJsXFxcclxuZSBtaXNzaW5nPyBBbHRlcm5hdGl2ZWx5LCBpZiB5b3UgaW50ZW5kZWQgdG8gY29ubmVjdCB3aXRoIHRoZXNlIHBhcmFtZXRlcnMsIHBsZWFcXFxyXG5zZSBzZXQgdGhlIGhvc3QgdG8gJ2xvY2FsaG9zdCcgZXhwbGljaXRseS5gKTtsZXQgbz1zdXBlci5jb25uZWN0KHQpLHU9bi5waXBlbGluZVRMUyYmXHJcbnRoaXMuc3NsLGM9bi5waXBlbGluZUNvbm5lY3Q9PT1cInBhc3N3b3JkXCI7aWYoIXUmJiFuLnBpcGVsaW5lQ29ubmVjdClyZXR1cm4gbztsZXQgaD10aGlzLlxyXG5jb25uZWN0aW9uO2lmKHUmJmgub24oXCJjb25uZWN0XCIsKCk9Pmguc3RyZWFtLmVtaXQoXCJkYXRhXCIsXCJTXCIpKSxjKXtoLnJlbW92ZUFsbExpc3RlbmVycyhcclxuXCJhdXRoZW50aWNhdGlvbkNsZWFydGV4dFBhc3N3b3JkXCIpLGgucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVhZHlGb3JRdWVyeVwiKSxoLm9uY2UoXHJcblwicmVhZHlGb3JRdWVyeVwiLCgpPT5oLm9uKFwicmVhZHlGb3JRdWVyeVwiLHRoaXMuX2hhbmRsZVJlYWR5Rm9yUXVlcnkuYmluZCh0aGlzKSkpO1xyXG5sZXQgbD10aGlzLnNzbD9cInNzbGNvbm5lY3RcIjpcImNvbm5lY3RcIjtoLm9uKGwsKCk9Pnt0aGlzLl9oYW5kbGVBdXRoQ2xlYXJ0ZXh0UGFzc3dvcmQoKSxcclxudGhpcy5faGFuZGxlUmVhZHlGb3JRdWVyeSgpfSl9cmV0dXJuIG99YXN5bmMgX2hhbmRsZUF1dGhTQVNMQ29udGludWUodCl7bGV0IG49dGhpcy5cclxuc2FzbFNlc3Npb24saT10aGlzLnBhc3N3b3JkLHM9dC5kYXRhO2lmKG4ubWVzc2FnZSE9PVwiU0FTTEluaXRpYWxSZXNwb25zZVwifHx0eXBlb2YgaSE9XHJcblwic3RyaW5nXCJ8fHR5cGVvZiBzIT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcIlNBU0w6IHByb3RvY29sIGVycm9yXCIpO2xldCBvPU9iamVjdC5cclxuZnJvbUVudHJpZXMocy5zcGxpdChcIixcIikubWFwKCQ9PntpZighL14uPS8udGVzdCgkKSl0aHJvdyBuZXcgRXJyb3IoXCJTQVNMOiBJbnZhbGlcXFxyXG5kIGF0dHJpYnV0ZSBwYWlyIGVudHJ5XCIpO2xldCBuZT0kWzBdLENlPSQuc3Vic3RyaW5nKDIpO3JldHVybltuZSxDZV19KSksdT1vLnIsYz1vLlxyXG5zLGg9by5pO2lmKCF1fHwhL15bIS0rLS1+XSskLy50ZXN0KHUpKXRocm93IG5ldyBFcnJvcihcIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1cXFxyXG5NRVNTQUdFOiBub25jZSBtaXNzaW5nL3VucHJpbnRhYmxlXCIpO2lmKCFjfHwhL14oPzpbYS16QS1aMC05Ky9dezR9KSooPzpbYS16QS1aMC05Ky9dezJ9PT18W2EtekEtWjAtOSsvXXszfT0pPyQvLlxyXG50ZXN0KGMpKXRocm93IG5ldyBFcnJvcihcIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBzYWx0IG1pc3Npbmcvbm90IGJhc2VcXFxyXG42NFwiKTtpZighaHx8IS9eWzEtOV1bMC05XSokLy50ZXN0KGgpKXRocm93IG5ldyBFcnJvcihcIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NXFxcclxuRVNTQUdFOiBtaXNzaW5nL2ludmFsaWQgaXRlcmF0aW9uIGNvdW50XCIpO2lmKCF1LnN0YXJ0c1dpdGgobi5jbGllbnROb25jZSkpdGhyb3cgbmV3IEVycm9yKFxyXG5cIlNBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBzZXJ2ZXIgbm9uY2UgZG9lcyBub3Qgc3RhcnQgd2l0aCBjbGllbnQgbm9uY2VcIik7XHJcbmlmKHUubGVuZ3RoPT09bi5jbGllbnROb25jZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1xcXHJcblNBR0U6IHNlcnZlciBub25jZSBpcyB0b28gc2hvcnRcIik7bGV0IGw9cGFyc2VJbnQoaCwxMCkseT1kLmZyb20oYyxcImJhc2U2NFwiKSxFPW5ldyBUZXh0RW5jb2RlcixcclxuXz1FLmVuY29kZShpKSxQPWF3YWl0IHcuc3VidGxlLmltcG9ydEtleShcInJhd1wiLF8se25hbWU6XCJITUFDXCIsaGFzaDp7bmFtZTpcIlNIQS0yNVxcXHJcbjZcIn19LCExLFtcInNpZ25cIl0pLE49bmV3IFVpbnQ4QXJyYXkoYXdhaXQgdy5zdWJ0bGUuc2lnbihcIkhNQUNcIixQLGQuY29uY2F0KFt5LGQuZnJvbShcclxuWzAsMCwwLDFdKV0pKSksSj1OO2Zvcih2YXIgcGU9MDtwZTxsLTE7cGUrKylOPW5ldyBVaW50OEFycmF5KGF3YWl0IHcuc3VidGxlLnNpZ24oXHJcblwiSE1BQ1wiLFAsTikpLEo9ZC5mcm9tKEoubWFwKCgkLG5lKT0+SltuZV1eTltuZV0pKTtsZXQgQT1KLGc9YXdhaXQgdy5zdWJ0bGUuaW1wb3J0S2V5KFxyXG5cInJhd1wiLEEse25hbWU6XCJITUFDXCIsaGFzaDp7bmFtZTpcIlNIQS0yNTZcIn19LCExLFtcInNpZ25cIl0pLEQ9bmV3IFVpbnQ4QXJyYXkoYXdhaXQgdy5cclxuc3VidGxlLnNpZ24oXCJITUFDXCIsZyxFLmVuY29kZShcIkNsaWVudCBLZXlcIikpKSxIPWF3YWl0IHcuc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIixcclxuRCksUT1cIm49KixyPVwiK24uY2xpZW50Tm9uY2UsVz1cInI9XCIrdStcIixzPVwiK2MrXCIsaT1cIitsLHVlPVwiYz1iaXdzLHI9XCIrdSxkZT1RK1wiLFwiK1crXHJcblwiLFwiK3VlLEw9YXdhaXQgdy5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsSCx7bmFtZTpcIkhNQUNcIixoYXNoOntuYW1lOlwiU0hBLTI1NlwifX0sITEsXHJcbltcInNpZ25cIl0pO3ZhciBHPW5ldyBVaW50OEFycmF5KGF3YWl0IHcuc3VidGxlLnNpZ24oXCJITUFDXCIsTCxFLmVuY29kZShkZSkpKSxjZT1kLlxyXG5mcm9tKEQubWFwKCgkLG5lKT0+RFtuZV1eR1tuZV0pKSx5ZT1jZS50b1N0cmluZyhcImJhc2U2NFwiKTtsZXQgeGU9YXdhaXQgdy5zdWJ0bGUuXHJcbmltcG9ydEtleShcInJhd1wiLEEse25hbWU6XCJITUFDXCIsaGFzaDp7bmFtZTpcIlNIQS0yNTZcIn19LCExLFtcInNpZ25cIl0pLGhlPWF3YWl0IHcuc3VidGxlLlxyXG5zaWduKFwiSE1BQ1wiLHhlLEUuZW5jb2RlKFwiU2VydmVyIEtleVwiKSksaWU9YXdhaXQgdy5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsaGUse25hbWU6XCJcXFxyXG5ITUFDXCIsaGFzaDp7bmFtZTpcIlNIQS0yNTZcIn19LCExLFtcInNpZ25cIl0pO3ZhciBzZT1kLmZyb20oYXdhaXQgdy5zdWJ0bGUuc2lnbihcIkhNQVxcXHJcbkNcIixpZSxFLmVuY29kZShkZSkpKTtuLm1lc3NhZ2U9XCJTQVNMUmVzcG9uc2VcIixuLnNlcnZlclNpZ25hdHVyZT1zZS50b1N0cmluZyhcImJhc1xcXHJcbmU2NFwiKSxuLnJlc3BvbnNlPXVlK1wiLHA9XCIreWUsdGhpcy5jb25uZWN0aW9uLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZSh0aGlzLnNhc2xTZXNzaW9uLlxyXG5yZXNwb25zZSl9fTthKEVuLFwiTmVvbkNsaWVudFwiKTt2YXIgeG49RW47ZnVuY3Rpb24gUWMocixlKXtpZihlKXJldHVybntjYWxsYmFjazplLFxyXG5yZXN1bHQ6dm9pZCAwfTtsZXQgdCxuLGk9YShmdW5jdGlvbihvLHUpe28/dChvKTpuKHUpfSxcImNiXCIpLHM9bmV3IHIoZnVuY3Rpb24obyx1KXtcclxubj1vLHQ9dX0pO3JldHVybntjYWxsYmFjazppLHJlc3VsdDpzfX1hKFFjLFwicHJvbWlzaWZ5XCIpO3ZhciB2bj1jbGFzcyB2biBleHRlbmRzIEN0LlBvb2x7Y29uc3RydWN0b3IoKXtcclxuc3VwZXIoLi4uYXJndW1lbnRzKTtUKHRoaXMsXCJDbGllbnRcIix4bik7VCh0aGlzLFwiaGFzRmV0Y2hVbnN1cHBvcnRlZExpc3RlbmVyc1wiLCExKX1vbih0LG4pe1xyXG5yZXR1cm4gdCE9PVwiZXJyb3JcIiYmKHRoaXMuaGFzRmV0Y2hVbnN1cHBvcnRlZExpc3RlbmVycz0hMCksc3VwZXIub24odCxuKX1xdWVyeSh0LG4saSl7XHJcbmlmKCFfZS5wb29sUXVlcnlWaWFGZXRjaHx8dGhpcy5oYXNGZXRjaFVuc3VwcG9ydGVkTGlzdGVuZXJzfHx0eXBlb2YgdD09XCJmdW5jdGlvblwiKVxyXG5yZXR1cm4gc3VwZXIucXVlcnkodCxuLGkpO3R5cGVvZiBuPT1cImZ1bmN0aW9uXCImJihpPW4sbj12b2lkIDApO2xldCBzPVFjKHRoaXMuUHJvbWlzZSxcclxuaSk7aT1zLmNhbGxiYWNrO3RyeXtsZXQgbz1uZXcgSnMuZGVmYXVsdCh0aGlzLm9wdGlvbnMpLHU9ZW5jb2RlVVJJQ29tcG9uZW50LGM9ZW5jb2RlVVJJLFxyXG5oPWBwb3N0Z3Jlc3FsOi8vJHt1KG8udXNlcil9OiR7dShvLnBhc3N3b3JkKX1AJHt1KG8uaG9zdCl9LyR7YyhvLmRhdGFiYXNlKX1gLGw9dHlwZW9mIHQ9PVxyXG5cInN0cmluZ1wiP3Q6dC50ZXh0LHk9bj8/dC52YWx1ZXM/P1tdO1lzKGgse2Z1bGxSZXN1bHRzOiEwLGFycmF5TW9kZTp0LnJvd01vZGU9PT1cIlxcXHJcbmFycmF5XCJ9KShsLHkpLnRoZW4oXz0+aSh2b2lkIDAsXykpLmNhdGNoKF89PmkoXykpfWNhdGNoKG8pe2kobyl9cmV0dXJuIHMucmVzdWx0fX07XHJcbmEodm4sXCJOZW9uUG9vbFwiKTt2YXIgWnM9dm47dmFyIGV4cG9ydF9DbGllbnRCYXNlPVNlLkNsaWVudEJhc2U7dmFyIGV4cG9ydF9Db25uZWN0aW9uPVNlLkNvbm5lY3Rpb247dmFyIGV4cG9ydF9EYXRhYmFzZUVycm9yPVNlLkRhdGFiYXNlRXJyb3I7XHJcbnZhciBleHBvcnRfUXVlcnk9U2UuUXVlcnk7dmFyIGV4cG9ydF9kZWZhdWx0cz1TZS5kZWZhdWx0czt2YXIgZXhwb3J0X3R5cGVzPVNlLnR5cGVzO1xyXG5leHBvcnR7eG4gYXMgQ2xpZW50LGV4cG9ydF9DbGllbnRCYXNlIGFzIENsaWVudEJhc2UsZXhwb3J0X0Nvbm5lY3Rpb24gYXMgQ29ubmVjdGlvbixcclxuZXhwb3J0X0RhdGFiYXNlRXJyb3IgYXMgRGF0YWJhc2VFcnJvcixBZSBhcyBOZW9uRGJFcnJvcixacyBhcyBQb29sLGV4cG9ydF9RdWVyeSBhcyBRdWVyeSxcclxuZXhwb3J0X2RlZmF1bHRzIGFzIGRlZmF1bHRzLFlzIGFzIG5lb24sX2UgYXMgbmVvbkNvbmZpZyxleHBvcnRfdHlwZXMgYXMgdHlwZXN9O1xyXG4vKiEgQnVuZGxlZCBsaWNlbnNlIGluZm9ybWF0aW9uOlxyXG5cclxuaWVlZTc1NC9pbmRleC5qczpcclxuICAoKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqKVxyXG5cclxuYnVmZmVyL2luZGV4LmpzOlxyXG4gICgqIVxyXG4gICAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxyXG4gICAqXHJcbiAgICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cclxuICAgKiBAbGljZW5zZSAgTUlUXHJcbiAgICopXHJcbiovXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@neondatabase/serverless/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@vercel/postgres/dist/chunk-WDBQYBZQ.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@vercel/postgres/dist/chunk-WDBQYBZQ.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VercelClient: () => (/* binding */ VercelClient),\n/* harmony export */   VercelPool: () => (/* binding */ VercelPool),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   createPool: () => (/* binding */ createPool),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   postgresConnectionString: () => (/* binding */ postgresConnectionString),\n/* harmony export */   sql: () => (/* binding */ sql),\n/* harmony export */   types: () => (/* reexport safe */ _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.types)\n/* harmony export */ });\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@neondatabase/serverless/index.mjs\");\n// src/create-pool.ts\r\n\r\n\r\n// src/error.ts\r\nvar VercelPostgresError = class extends Error {\r\n  constructor(code, message) {\r\n    super(`VercelPostgresError - '${code}': ${message}`);\r\n    this.code = code;\r\n    this.name = \"VercelPostgresError\";\r\n  }\r\n};\r\n\r\n// src/postgres-connection-string.ts\r\nfunction postgresConnectionString(type = \"pool\") {\r\n  let connectionString;\r\n  switch (type) {\r\n    case \"pool\": {\r\n      connectionString = process.env.POSTGRES_URL;\r\n      break;\r\n    }\r\n    case \"direct\": {\r\n      connectionString = process.env.POSTGRES_URL_NON_POOLING;\r\n      break;\r\n    }\r\n    default: {\r\n      const _exhaustiveCheck = type;\r\n      const str = _exhaustiveCheck;\r\n      throw new VercelPostgresError(\r\n        \"invalid_connection_type\",\r\n        `Unhandled type: ${str}`\r\n      );\r\n    }\r\n  }\r\n  if (connectionString === \"undefined\")\r\n    connectionString = void 0;\r\n  return connectionString;\r\n}\r\nfunction isPooledConnectionString(connectionString) {\r\n  return connectionString.includes(\"-pooler.\");\r\n}\r\nfunction isDirectConnectionString(connectionString) {\r\n  return !isPooledConnectionString(connectionString);\r\n}\r\nfunction isLocalhostConnectionString(connectionString) {\r\n  try {\r\n    const withHttpsProtocol = connectionString.replace(\r\n      /^postgresql:\\/\\//,\r\n      \"https://\"\r\n    );\r\n    return new URL(withHttpsProtocol).hostname === \"localhost\";\r\n  } catch (err) {\r\n    if (err instanceof TypeError) {\r\n      return false;\r\n    }\r\n    if (typeof err === \"object\" && err !== null && \"message\" in err && typeof err.message === \"string\" && err.message === \"Invalid URL\") {\r\n      return false;\r\n    }\r\n    throw err;\r\n  }\r\n}\r\n\r\n// src/sql-template.ts\r\nfunction sqlTemplate(strings, ...values) {\r\n  var _a, _b;\r\n  if (!isTemplateStringsArray(strings) || !Array.isArray(values)) {\r\n    throw new VercelPostgresError(\r\n      \"incorrect_tagged_template_call\",\r\n      \"It looks like you tried to call `sql` as a function. Make sure to use it as a tagged template.\\n\tExample: sql`SELECT * FROM users`, not sql('SELECT * FROM users')\"\r\n    );\r\n  }\r\n  let result = (_a = strings[0]) != null ? _a : \"\";\r\n  for (let i = 1; i < strings.length; i++) {\r\n    result += `$${i}${(_b = strings[i]) != null ? _b : \"\"}`;\r\n  }\r\n  return [result, values];\r\n}\r\nfunction isTemplateStringsArray(strings) {\r\n  return Array.isArray(strings) && \"raw\" in strings && Array.isArray(strings.raw);\r\n}\r\n\r\n// src/create-client.ts\r\n\r\nvar VercelClient = class extends _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.Client {\r\n  /**\r\n   * A template literal tag providing safe, easy to use SQL parameterization.\r\n   * Parameters are substituted using the underlying Postgres database, and so must follow\r\n   * the rules of Postgres parameterization.\r\n   * @example\r\n   * ```ts\r\n   * const pool = createClient();\r\n   * const userId = 123;\r\n   * await client.connect();\r\n   * const result = await pool.sql`SELECT * FROM users WHERE id = ${userId}`;\r\n   * // Equivalent to: await pool.query('SELECT * FROM users WHERE id = $1', [id]);\r\n   * await client.end();\r\n   * ```\r\n   * @returns A promise that resolves to the query result.\r\n   */\r\n  async sql(strings, ...values) {\r\n    const [query, params] = sqlTemplate(strings, ...values);\r\n    return this.query(query, params);\r\n  }\r\n};\r\nfunction createClient(config) {\r\n  var _a;\r\n  const connectionString = (_a = config == null ? void 0 : config.connectionString) != null ? _a : postgresConnectionString(\"direct\");\r\n  if (!connectionString)\r\n    throw new VercelPostgresError(\r\n      \"missing_connection_string\",\r\n      \"You did not supply a 'connectionString' and no 'POSTGRES_URL_NON_POOLING' env var was found.\"\r\n    );\r\n  if (!isLocalhostConnectionString(connectionString) && !isDirectConnectionString(connectionString))\r\n    throw new VercelPostgresError(\r\n      \"invalid_connection_string\",\r\n      \"This connection string is meant to be used with a pooled connection. Try `createPool()` instead.\"\r\n    );\r\n  return new VercelClient({\r\n    ...config,\r\n    connectionString\r\n  });\r\n}\r\n\r\n// src/create-pool.ts\r\nvar VercelPool = class extends _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.Pool {\r\n  constructor(config) {\r\n    var _a;\r\n    super(config);\r\n    this.Client = VercelClient;\r\n    this.connectionString = (_a = config.connectionString) != null ? _a : \"\";\r\n  }\r\n  /**\r\n   * A template literal tag providing safe, easy to use SQL parameterization.\r\n   * Parameters are substituted using the underlying Postgres database, and so must follow\r\n   * the rules of Postgres parameterization.\r\n   * @example\r\n   * ```ts\r\n   * const pool = createPool();\r\n   * const userId = 123;\r\n   * const result = await pool.sql`SELECT * FROM users WHERE id = ${userId}`;\r\n   * // Equivalent to: await pool.query('SELECT * FROM users WHERE id = $1', [id]);\r\n   * ```\r\n   * @returns A promise that resolves to the query result.\r\n   */\r\n  async sql(strings, ...values) {\r\n    const [query, params] = sqlTemplate(strings, ...values);\r\n    const sql2 = (0,_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neon)(this.connectionString, {\r\n      fullResults: true\r\n    });\r\n    return sql2(query, params);\r\n  }\r\n  connect(callback) {\r\n    return super.connect(\r\n      callback\r\n    );\r\n  }\r\n};\r\nfunction createPool(config) {\r\n  var _a;\r\n  const connectionString = (_a = config == null ? void 0 : config.connectionString) != null ? _a : postgresConnectionString(\"pool\");\r\n  if (!connectionString)\r\n    throw new VercelPostgresError(\r\n      \"missing_connection_string\",\r\n      \"You did not supply a 'connectionString' and no 'POSTGRES_URL' env var was found.\"\r\n    );\r\n  if (!isLocalhostConnectionString(connectionString) && !isPooledConnectionString(connectionString))\r\n    throw new VercelPostgresError(\r\n      \"invalid_connection_string\",\r\n      \"This connection string is meant to be used with a direct connection. Make sure to use a pooled connection string or try `createClient()` instead.\"\r\n    );\r\n  let maxUses = config == null ? void 0 : config.maxUses;\r\n  let max = config == null ? void 0 : config.max;\r\n  if (typeof EdgeRuntime !== \"undefined\") {\r\n    if (maxUses && maxUses !== 1) {\r\n      console.warn(\r\n        \"@vercel/postgres: Overriding `maxUses` to 1 because the EdgeRuntime does not support client reuse.\"\r\n      );\r\n    }\r\n    if (max && max !== 1e4) {\r\n      console.warn(\r\n        \"@vercel/postgres: Overriding `max` to 10,000 because the EdgeRuntime does not support client reuse.\"\r\n      );\r\n    }\r\n    maxUses = 1;\r\n    max = 1e4;\r\n  }\r\n  const pool2 = new VercelPool({\r\n    ...config,\r\n    connectionString,\r\n    maxUses,\r\n    max\r\n  });\r\n  return pool2;\r\n}\r\n\r\n// src/index.ts\r\n\r\nvar pool;\r\nvar sql = new Proxy(\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function -- [@vercel/style-guide@5 migration]\r\n  () => {\r\n  },\r\n  {\r\n    get(_, prop) {\r\n      if (!pool) {\r\n        pool = createPool();\r\n      }\r\n      const val = Reflect.get(pool, prop);\r\n      if (typeof val === \"function\") {\r\n        return val.bind(pool);\r\n      }\r\n      return val;\r\n    },\r\n    apply(_, __, argumentsList) {\r\n      if (!pool) {\r\n        pool = createPool();\r\n      }\r\n      return pool.sql(...argumentsList);\r\n    }\r\n  }\r\n);\r\nvar db = sql;\r\n\r\n\r\n//# sourceMappingURL=chunk-WDBQYBZQ.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvQHZlcmNlbC9wb3N0Z3Jlcy9kaXN0L2NodW5rLVdEQlFZQlpRLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3NEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLEtBQUssS0FBSyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLElBQUk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QyxrQkFBa0IsRUFBRSxFQUFFLG9DQUFvQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tEO0FBQ2xELGlDQUFpQyw0REFBTTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsT0FBTztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwREFBSTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLE9BQU87QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhEQUFJO0FBQ3JCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvQHZlcmNlbC9wb3N0Z3Jlcy9kaXN0L2NodW5rLVdEQlFZQlpRLmpzPzRmY2UiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NyZWF0ZS1wb29sLnRzXHJcbmltcG9ydCB7IFBvb2wsIG5lb24gfSBmcm9tIFwiQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzXCI7XHJcblxyXG4vLyBzcmMvZXJyb3IudHNcclxudmFyIFZlcmNlbFBvc3RncmVzRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlKSB7XHJcbiAgICBzdXBlcihgVmVyY2VsUG9zdGdyZXNFcnJvciAtICcke2NvZGV9JzogJHttZXNzYWdlfWApO1xyXG4gICAgdGhpcy5jb2RlID0gY29kZTtcclxuICAgIHRoaXMubmFtZSA9IFwiVmVyY2VsUG9zdGdyZXNFcnJvclwiO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIHNyYy9wb3N0Z3Jlcy1jb25uZWN0aW9uLXN0cmluZy50c1xyXG5mdW5jdGlvbiBwb3N0Z3Jlc0Nvbm5lY3Rpb25TdHJpbmcodHlwZSA9IFwicG9vbFwiKSB7XHJcbiAgbGV0IGNvbm5lY3Rpb25TdHJpbmc7XHJcbiAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICBjYXNlIFwicG9vbFwiOiB7XHJcbiAgICAgIGNvbm5lY3Rpb25TdHJpbmcgPSBwcm9jZXNzLmVudi5QT1NUR1JFU19VUkw7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgY2FzZSBcImRpcmVjdFwiOiB7XHJcbiAgICAgIGNvbm5lY3Rpb25TdHJpbmcgPSBwcm9jZXNzLmVudi5QT1NUR1JFU19VUkxfTk9OX1BPT0xJTkc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgZGVmYXVsdDoge1xyXG4gICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcclxuICAgICAgY29uc3Qgc3RyID0gX2V4aGF1c3RpdmVDaGVjaztcclxuICAgICAgdGhyb3cgbmV3IFZlcmNlbFBvc3RncmVzRXJyb3IoXHJcbiAgICAgICAgXCJpbnZhbGlkX2Nvbm5lY3Rpb25fdHlwZVwiLFxyXG4gICAgICAgIGBVbmhhbmRsZWQgdHlwZTogJHtzdHJ9YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoY29ubmVjdGlvblN0cmluZyA9PT0gXCJ1bmRlZmluZWRcIilcclxuICAgIGNvbm5lY3Rpb25TdHJpbmcgPSB2b2lkIDA7XHJcbiAgcmV0dXJuIGNvbm5lY3Rpb25TdHJpbmc7XHJcbn1cclxuZnVuY3Rpb24gaXNQb29sZWRDb25uZWN0aW9uU3RyaW5nKGNvbm5lY3Rpb25TdHJpbmcpIHtcclxuICByZXR1cm4gY29ubmVjdGlvblN0cmluZy5pbmNsdWRlcyhcIi1wb29sZXIuXCIpO1xyXG59XHJcbmZ1bmN0aW9uIGlzRGlyZWN0Q29ubmVjdGlvblN0cmluZyhjb25uZWN0aW9uU3RyaW5nKSB7XHJcbiAgcmV0dXJuICFpc1Bvb2xlZENvbm5lY3Rpb25TdHJpbmcoY29ubmVjdGlvblN0cmluZyk7XHJcbn1cclxuZnVuY3Rpb24gaXNMb2NhbGhvc3RDb25uZWN0aW9uU3RyaW5nKGNvbm5lY3Rpb25TdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgd2l0aEh0dHBzUHJvdG9jb2wgPSBjb25uZWN0aW9uU3RyaW5nLnJlcGxhY2UoXHJcbiAgICAgIC9ecG9zdGdyZXNxbDpcXC9cXC8vLFxyXG4gICAgICBcImh0dHBzOi8vXCJcclxuICAgICk7XHJcbiAgICByZXR1cm4gbmV3IFVSTCh3aXRoSHR0cHNQcm90b2NvbCkuaG9zdG5hbWUgPT09IFwibG9jYWxob3N0XCI7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgZXJyID09PSBcIm9iamVjdFwiICYmIGVyciAhPT0gbnVsbCAmJiBcIm1lc3NhZ2VcIiBpbiBlcnIgJiYgdHlwZW9mIGVyci5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmIGVyci5tZXNzYWdlID09PSBcIkludmFsaWQgVVJMXCIpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgZXJyO1xyXG4gIH1cclxufVxyXG5cclxuLy8gc3JjL3NxbC10ZW1wbGF0ZS50c1xyXG5mdW5jdGlvbiBzcWxUZW1wbGF0ZShzdHJpbmdzLCAuLi52YWx1ZXMpIHtcclxuICB2YXIgX2EsIF9iO1xyXG4gIGlmICghaXNUZW1wbGF0ZVN0cmluZ3NBcnJheShzdHJpbmdzKSB8fCAhQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XHJcbiAgICB0aHJvdyBuZXcgVmVyY2VsUG9zdGdyZXNFcnJvcihcclxuICAgICAgXCJpbmNvcnJlY3RfdGFnZ2VkX3RlbXBsYXRlX2NhbGxcIixcclxuICAgICAgXCJJdCBsb29rcyBsaWtlIHlvdSB0cmllZCB0byBjYWxsIGBzcWxgIGFzIGEgZnVuY3Rpb24uIE1ha2Ugc3VyZSB0byB1c2UgaXQgYXMgYSB0YWdnZWQgdGVtcGxhdGUuXFxuXHRFeGFtcGxlOiBzcWxgU0VMRUNUICogRlJPTSB1c2Vyc2AsIG5vdCBzcWwoJ1NFTEVDVCAqIEZST00gdXNlcnMnKVwiXHJcbiAgICApO1xyXG4gIH1cclxuICBsZXQgcmVzdWx0ID0gKF9hID0gc3RyaW5nc1swXSkgIT0gbnVsbCA/IF9hIDogXCJcIjtcclxuICBmb3IgKGxldCBpID0gMTsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgIHJlc3VsdCArPSBgJCR7aX0keyhfYiA9IHN0cmluZ3NbaV0pICE9IG51bGwgPyBfYiA6IFwiXCJ9YDtcclxuICB9XHJcbiAgcmV0dXJuIFtyZXN1bHQsIHZhbHVlc107XHJcbn1cclxuZnVuY3Rpb24gaXNUZW1wbGF0ZVN0cmluZ3NBcnJheShzdHJpbmdzKSB7XHJcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3RyaW5ncykgJiYgXCJyYXdcIiBpbiBzdHJpbmdzICYmIEFycmF5LmlzQXJyYXkoc3RyaW5ncy5yYXcpO1xyXG59XHJcblxyXG4vLyBzcmMvY3JlYXRlLWNsaWVudC50c1xyXG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwiQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzXCI7XHJcbnZhciBWZXJjZWxDbGllbnQgPSBjbGFzcyBleHRlbmRzIENsaWVudCB7XHJcbiAgLyoqXHJcbiAgICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyBwcm92aWRpbmcgc2FmZSwgZWFzeSB0byB1c2UgU1FMIHBhcmFtZXRlcml6YXRpb24uXHJcbiAgICogUGFyYW1ldGVycyBhcmUgc3Vic3RpdHV0ZWQgdXNpbmcgdGhlIHVuZGVybHlpbmcgUG9zdGdyZXMgZGF0YWJhc2UsIGFuZCBzbyBtdXN0IGZvbGxvd1xyXG4gICAqIHRoZSBydWxlcyBvZiBQb3N0Z3JlcyBwYXJhbWV0ZXJpemF0aW9uLlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogYGBgdHNcclxuICAgKiBjb25zdCBwb29sID0gY3JlYXRlQ2xpZW50KCk7XHJcbiAgICogY29uc3QgdXNlcklkID0gMTIzO1xyXG4gICAqIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7XHJcbiAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5zcWxgU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9ICR7dXNlcklkfWA7XHJcbiAgICogLy8gRXF1aXZhbGVudCB0bzogYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9ICQxJywgW2lkXSk7XHJcbiAgICogYXdhaXQgY2xpZW50LmVuZCgpO1xyXG4gICAqIGBgYFxyXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBxdWVyeSByZXN1bHQuXHJcbiAgICovXHJcbiAgYXN5bmMgc3FsKHN0cmluZ3MsIC4uLnZhbHVlcykge1xyXG4gICAgY29uc3QgW3F1ZXJ5LCBwYXJhbXNdID0gc3FsVGVtcGxhdGUoc3RyaW5ncywgLi4udmFsdWVzKTtcclxuICAgIHJldHVybiB0aGlzLnF1ZXJ5KHF1ZXJ5LCBwYXJhbXMpO1xyXG4gIH1cclxufTtcclxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50KGNvbmZpZykge1xyXG4gIHZhciBfYTtcclxuICBjb25zdCBjb25uZWN0aW9uU3RyaW5nID0gKF9hID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuY29ubmVjdGlvblN0cmluZykgIT0gbnVsbCA/IF9hIDogcG9zdGdyZXNDb25uZWN0aW9uU3RyaW5nKFwiZGlyZWN0XCIpO1xyXG4gIGlmICghY29ubmVjdGlvblN0cmluZylcclxuICAgIHRocm93IG5ldyBWZXJjZWxQb3N0Z3Jlc0Vycm9yKFxyXG4gICAgICBcIm1pc3NpbmdfY29ubmVjdGlvbl9zdHJpbmdcIixcclxuICAgICAgXCJZb3UgZGlkIG5vdCBzdXBwbHkgYSAnY29ubmVjdGlvblN0cmluZycgYW5kIG5vICdQT1NUR1JFU19VUkxfTk9OX1BPT0xJTkcnIGVudiB2YXIgd2FzIGZvdW5kLlwiXHJcbiAgICApO1xyXG4gIGlmICghaXNMb2NhbGhvc3RDb25uZWN0aW9uU3RyaW5nKGNvbm5lY3Rpb25TdHJpbmcpICYmICFpc0RpcmVjdENvbm5lY3Rpb25TdHJpbmcoY29ubmVjdGlvblN0cmluZykpXHJcbiAgICB0aHJvdyBuZXcgVmVyY2VsUG9zdGdyZXNFcnJvcihcclxuICAgICAgXCJpbnZhbGlkX2Nvbm5lY3Rpb25fc3RyaW5nXCIsXHJcbiAgICAgIFwiVGhpcyBjb25uZWN0aW9uIHN0cmluZyBpcyBtZWFudCB0byBiZSB1c2VkIHdpdGggYSBwb29sZWQgY29ubmVjdGlvbi4gVHJ5IGBjcmVhdGVQb29sKClgIGluc3RlYWQuXCJcclxuICAgICk7XHJcbiAgcmV0dXJuIG5ldyBWZXJjZWxDbGllbnQoe1xyXG4gICAgLi4uY29uZmlnLFxyXG4gICAgY29ubmVjdGlvblN0cmluZ1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBzcmMvY3JlYXRlLXBvb2wudHNcclxudmFyIFZlcmNlbFBvb2wgPSBjbGFzcyBleHRlbmRzIFBvb2wge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgc3VwZXIoY29uZmlnKTtcclxuICAgIHRoaXMuQ2xpZW50ID0gVmVyY2VsQ2xpZW50O1xyXG4gICAgdGhpcy5jb25uZWN0aW9uU3RyaW5nID0gKF9hID0gY29uZmlnLmNvbm5lY3Rpb25TdHJpbmcpICE9IG51bGwgPyBfYSA6IFwiXCI7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgcHJvdmlkaW5nIHNhZmUsIGVhc3kgdG8gdXNlIFNRTCBwYXJhbWV0ZXJpemF0aW9uLlxyXG4gICAqIFBhcmFtZXRlcnMgYXJlIHN1YnN0aXR1dGVkIHVzaW5nIHRoZSB1bmRlcmx5aW5nIFBvc3RncmVzIGRhdGFiYXNlLCBhbmQgc28gbXVzdCBmb2xsb3dcclxuICAgKiB0aGUgcnVsZXMgb2YgUG9zdGdyZXMgcGFyYW1ldGVyaXphdGlvbi5cclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGBgYHRzXHJcbiAgICogY29uc3QgcG9vbCA9IGNyZWF0ZVBvb2woKTtcclxuICAgKiBjb25zdCB1c2VySWQgPSAxMjM7XHJcbiAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5zcWxgU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9ICR7dXNlcklkfWA7XHJcbiAgICogLy8gRXF1aXZhbGVudCB0bzogYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9ICQxJywgW2lkXSk7XHJcbiAgICogYGBgXHJcbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHF1ZXJ5IHJlc3VsdC5cclxuICAgKi9cclxuICBhc3luYyBzcWwoc3RyaW5ncywgLi4udmFsdWVzKSB7XHJcbiAgICBjb25zdCBbcXVlcnksIHBhcmFtc10gPSBzcWxUZW1wbGF0ZShzdHJpbmdzLCAuLi52YWx1ZXMpO1xyXG4gICAgY29uc3Qgc3FsMiA9IG5lb24odGhpcy5jb25uZWN0aW9uU3RyaW5nLCB7XHJcbiAgICAgIGZ1bGxSZXN1bHRzOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzcWwyKHF1ZXJ5LCBwYXJhbXMpO1xyXG4gIH1cclxuICBjb25uZWN0KGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gc3VwZXIuY29ubmVjdChcclxuICAgICAgY2FsbGJhY2tcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5mdW5jdGlvbiBjcmVhdGVQb29sKGNvbmZpZykge1xyXG4gIHZhciBfYTtcclxuICBjb25zdCBjb25uZWN0aW9uU3RyaW5nID0gKF9hID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuY29ubmVjdGlvblN0cmluZykgIT0gbnVsbCA/IF9hIDogcG9zdGdyZXNDb25uZWN0aW9uU3RyaW5nKFwicG9vbFwiKTtcclxuICBpZiAoIWNvbm5lY3Rpb25TdHJpbmcpXHJcbiAgICB0aHJvdyBuZXcgVmVyY2VsUG9zdGdyZXNFcnJvcihcclxuICAgICAgXCJtaXNzaW5nX2Nvbm5lY3Rpb25fc3RyaW5nXCIsXHJcbiAgICAgIFwiWW91IGRpZCBub3Qgc3VwcGx5IGEgJ2Nvbm5lY3Rpb25TdHJpbmcnIGFuZCBubyAnUE9TVEdSRVNfVVJMJyBlbnYgdmFyIHdhcyBmb3VuZC5cIlxyXG4gICAgKTtcclxuICBpZiAoIWlzTG9jYWxob3N0Q29ubmVjdGlvblN0cmluZyhjb25uZWN0aW9uU3RyaW5nKSAmJiAhaXNQb29sZWRDb25uZWN0aW9uU3RyaW5nKGNvbm5lY3Rpb25TdHJpbmcpKVxyXG4gICAgdGhyb3cgbmV3IFZlcmNlbFBvc3RncmVzRXJyb3IoXHJcbiAgICAgIFwiaW52YWxpZF9jb25uZWN0aW9uX3N0cmluZ1wiLFxyXG4gICAgICBcIlRoaXMgY29ubmVjdGlvbiBzdHJpbmcgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoIGEgZGlyZWN0IGNvbm5lY3Rpb24uIE1ha2Ugc3VyZSB0byB1c2UgYSBwb29sZWQgY29ubmVjdGlvbiBzdHJpbmcgb3IgdHJ5IGBjcmVhdGVDbGllbnQoKWAgaW5zdGVhZC5cIlxyXG4gICAgKTtcclxuICBsZXQgbWF4VXNlcyA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLm1heFVzZXM7XHJcbiAgbGV0IG1heCA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLm1heDtcclxuICBpZiAodHlwZW9mIEVkZ2VSdW50aW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBpZiAobWF4VXNlcyAmJiBtYXhVc2VzICE9PSAxKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICBcIkB2ZXJjZWwvcG9zdGdyZXM6IE92ZXJyaWRpbmcgYG1heFVzZXNgIHRvIDEgYmVjYXVzZSB0aGUgRWRnZVJ1bnRpbWUgZG9lcyBub3Qgc3VwcG9ydCBjbGllbnQgcmV1c2UuXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmIChtYXggJiYgbWF4ICE9PSAxZTQpIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIFwiQHZlcmNlbC9wb3N0Z3JlczogT3ZlcnJpZGluZyBgbWF4YCB0byAxMCwwMDAgYmVjYXVzZSB0aGUgRWRnZVJ1bnRpbWUgZG9lcyBub3Qgc3VwcG9ydCBjbGllbnQgcmV1c2UuXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIG1heFVzZXMgPSAxO1xyXG4gICAgbWF4ID0gMWU0O1xyXG4gIH1cclxuICBjb25zdCBwb29sMiA9IG5ldyBWZXJjZWxQb29sKHtcclxuICAgIC4uLmNvbmZpZyxcclxuICAgIGNvbm5lY3Rpb25TdHJpbmcsXHJcbiAgICBtYXhVc2VzLFxyXG4gICAgbWF4XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHBvb2wyO1xyXG59XHJcblxyXG4vLyBzcmMvaW5kZXgudHNcclxuaW1wb3J0IHsgdHlwZXMgfSBmcm9tIFwiQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzXCI7XHJcbnZhciBwb29sO1xyXG52YXIgc3FsID0gbmV3IFByb3h5KFxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb24gLS0gW0B2ZXJjZWwvc3R5bGUtZ3VpZGVANSBtaWdyYXRpb25dXHJcbiAgKCkgPT4ge1xyXG4gIH0sXHJcbiAge1xyXG4gICAgZ2V0KF8sIHByb3ApIHtcclxuICAgICAgaWYgKCFwb29sKSB7XHJcbiAgICAgICAgcG9vbCA9IGNyZWF0ZVBvb2woKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB2YWwgPSBSZWZsZWN0LmdldChwb29sLCBwcm9wKTtcclxuICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIHJldHVybiB2YWwuYmluZChwb29sKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdmFsO1xyXG4gICAgfSxcclxuICAgIGFwcGx5KF8sIF9fLCBhcmd1bWVudHNMaXN0KSB7XHJcbiAgICAgIGlmICghcG9vbCkge1xyXG4gICAgICAgIHBvb2wgPSBjcmVhdGVQb29sKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHBvb2wuc3FsKC4uLmFyZ3VtZW50c0xpc3QpO1xyXG4gICAgfVxyXG4gIH1cclxuKTtcclxudmFyIGRiID0gc3FsO1xyXG5cclxuZXhwb3J0IHtcclxuICBwb3N0Z3Jlc0Nvbm5lY3Rpb25TdHJpbmcsXHJcbiAgVmVyY2VsQ2xpZW50LFxyXG4gIGNyZWF0ZUNsaWVudCxcclxuICBWZXJjZWxQb29sLFxyXG4gIGNyZWF0ZVBvb2wsXHJcbiAgc3FsLFxyXG4gIGRiLFxyXG4gIHR5cGVzXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVdEQlFZQlpRLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@vercel/postgres/dist/chunk-WDBQYBZQ.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@vercel/postgres/dist/index-node.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@vercel/postgres/dist/index-node.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VercelClient: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.VercelClient),\n/* harmony export */   VercelPool: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.VercelPool),\n/* harmony export */   createClient: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.createClient),\n/* harmony export */   createPool: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.createPool),\n/* harmony export */   db: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.db),\n/* harmony export */   postgresConnectionString: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.postgresConnectionString),\n/* harmony export */   sql: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.sql),\n/* harmony export */   types: () => (/* reexport safe */ _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__.types)\n/* harmony export */ });\n/* harmony import */ var _chunk_WDBQYBZQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-WDBQYBZQ.js */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@vercel/postgres/dist/chunk-WDBQYBZQ.js\");\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@neondatabase/serverless/index.mjs\");\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ws */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/wrapper.mjs\");\n\r\n\r\n// src/index-node.ts\r\n\r\n\r\nif (_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_1__.neonConfig) {\r\n  _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_1__.neonConfig.webSocketConstructor = ws__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\r\n}\r\n\r\n//# sourceMappingURL=index-node.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvQHZlcmNlbC9wb3N0Z3Jlcy9kaXN0L2luZGV4LW5vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFTNkI7QUFDN0I7QUFDQTtBQUNzRDtBQUNsQztBQUNwQixJQUFJLGdFQUFVO0FBQ2QsRUFBRSxnRUFBVSx3QkFBd0IsMENBQUU7QUFDdEM7QUFVRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL0B2ZXJjZWwvcG9zdGdyZXMvZGlzdC9pbmRleC1ub2RlLmpzPzBjMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBWZXJjZWxDbGllbnQsXHJcbiAgVmVyY2VsUG9vbCxcclxuICBjcmVhdGVDbGllbnQsXHJcbiAgY3JlYXRlUG9vbCxcclxuICBkYixcclxuICBwb3N0Z3Jlc0Nvbm5lY3Rpb25TdHJpbmcsXHJcbiAgc3FsLFxyXG4gIHR5cGVzXHJcbn0gZnJvbSBcIi4vY2h1bmstV0RCUVlCWlEuanNcIjtcclxuXHJcbi8vIHNyYy9pbmRleC1ub2RlLnRzXHJcbmltcG9ydCB7IG5lb25Db25maWcgfSBmcm9tIFwiQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzXCI7XHJcbmltcG9ydCB3cyBmcm9tIFwid3NcIjtcclxuaWYgKG5lb25Db25maWcpIHtcclxuICBuZW9uQ29uZmlnLndlYlNvY2tldENvbnN0cnVjdG9yID0gd3M7XHJcbn1cclxuZXhwb3J0IHtcclxuICBWZXJjZWxDbGllbnQsXHJcbiAgVmVyY2VsUG9vbCxcclxuICBjcmVhdGVDbGllbnQsXHJcbiAgY3JlYXRlUG9vbCxcclxuICBkYixcclxuICBwb3N0Z3Jlc0Nvbm5lY3Rpb25TdHJpbmcsXHJcbiAgc3FsLFxyXG4gIHR5cGVzXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LW5vZGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/@vercel/postgres/dist/index-node.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/wrapper.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/wrapper.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Receiver: () => (/* reexport default export from named module */ _lib_receiver_js__WEBPACK_IMPORTED_MODULE_1__),\n/* harmony export */   Sender: () => (/* reexport default export from named module */ _lib_sender_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   WebSocket: () => (/* reexport default export from named module */ _lib_websocket_js__WEBPACK_IMPORTED_MODULE_3__),\n/* harmony export */   WebSocketServer: () => (/* reexport default export from named module */ _lib_websocket_server_js__WEBPACK_IMPORTED_MODULE_4__),\n/* harmony export */   createWebSocketStream: () => (/* reexport default export from named module */ _lib_stream_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_stream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/stream.js */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/stream.js\");\n/* harmony import */ var _lib_receiver_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/receiver.js */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/receiver.js\");\n/* harmony import */ var _lib_sender_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/sender.js */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/sender.js\");\n/* harmony import */ var _lib_websocket_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/websocket.js */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket.js\");\n/* harmony import */ var _lib_websocket_server_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/websocket-server.js */ \"(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/lib/websocket-server.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_lib_websocket_js__WEBPACK_IMPORTED_MODULE_3__);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZlcmNlbCtwb3N0Z3Jlc0AwLjguMC9ub2RlX21vZHVsZXMvd3Mvd3JhcHBlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDWDtBQUNKO0FBQ007QUFDYTtBQUN4RDtBQUMrRTtBQUMvRSxpRUFBZSw4Q0FBUyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrcG9zdGdyZXNAMC44LjAvbm9kZV9tb2R1bGVzL3dzL3dyYXBwZXIubWpzPzE4MGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZVdlYlNvY2tldFN0cmVhbSBmcm9tICcuL2xpYi9zdHJlYW0uanMnO1xyXG5pbXBvcnQgUmVjZWl2ZXIgZnJvbSAnLi9saWIvcmVjZWl2ZXIuanMnO1xyXG5pbXBvcnQgU2VuZGVyIGZyb20gJy4vbGliL3NlbmRlci5qcyc7XHJcbmltcG9ydCBXZWJTb2NrZXQgZnJvbSAnLi9saWIvd2Vic29ja2V0LmpzJztcclxuaW1wb3J0IFdlYlNvY2tldFNlcnZlciBmcm9tICcuL2xpYi93ZWJzb2NrZXQtc2VydmVyLmpzJztcclxuXHJcbmV4cG9ydCB7IGNyZWF0ZVdlYlNvY2tldFN0cmVhbSwgUmVjZWl2ZXIsIFNlbmRlciwgV2ViU29ja2V0LCBXZWJTb2NrZXRTZXJ2ZXIgfTtcclxuZXhwb3J0IGRlZmF1bHQgV2ViU29ja2V0O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@vercel+postgres@0.8.0/node_modules/ws/wrapper.mjs\n");

/***/ })

};
;